"use strict";var CP=Object.create;var Ba=Object.defineProperty;var IP=Object.getOwnPropertyDescriptor;var qP=Object.getOwnPropertyNames;var jP=Object.getPrototypeOf,RP=Object.prototype.hasOwnProperty;var d=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),AP=(t,r)=>{for(var e in r)Ba(t,e,{get:r[e],enumerable:!0})},Tm=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of qP(r))!RP.call(t,i)&&i!==e&&Ba(t,i,{get:()=>r[i],enumerable:!(n=IP(r,i))||n.enumerable});return t};var lr=(t,r,e)=>(e=t!=null?CP(jP(t)):{},Tm(r||!t||!t.__esModule?Ba(e,"default",{value:t,enumerable:!0}):e,t)),MP=t=>Tm(Ba({},"__esModule",{value:!0}),t);var st=d((R$,_o)=>{function NP(t){return t&&t.__esModule?t:{default:t}}_o.exports=NP,_o.exports.__esModule=!0,_o.exports.default=_o.exports});var mo=d((A$,Tr)=>{function Jf(t){return Tr.exports=Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tr.exports.__esModule=!0,Tr.exports.default=Tr.exports,Jf(t)}Tr.exports=Jf,Tr.exports.__esModule=!0,Tr.exports.default=Tr.exports});var jm=d((M$,Cr)=>{var kP=mo().default;function qm(){"use strict";Cr.exports=qm=function(){return t},Cr.exports.__esModule=!0,Cr.exports.default=Cr.exports;var t={},r=Object.prototype,e=r.hasOwnProperty,n=Object.defineProperty||function(T,E,P){T[E]=P.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(T,E,P){return Object.defineProperty(T,E,{value:P,enumerable:!0,configurable:!0,writable:!0}),T[E]}try{c({},"")}catch{c=function(P,R,k){return P[R]=k}}function u(T,E,P,R){var k=E&&E.prototype instanceof v?E:v,M=Object.create(k.prototype),te=new Pr(R||[]);return n(M,"_invoke",{value:A(T,P,te)}),M}function l(T,E,P){try{return{type:"normal",arg:T.call(E,P)}}catch(R){return{type:"throw",arg:R}}}t.wrap=u;var h={};function v(){}function _(){}function m(){}var g={};c(g,o,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(zt([])));S&&S!==r&&e.call(S,o)&&(g=S);var I=m.prototype=v.prototype=Object.create(g);function U(T){["next","throw","return"].forEach(function(E){c(T,E,function(P){return this._invoke(E,P)})})}function x(T,E){function P(k,M,te,Oe){var Ce=l(T[k],T,M);if(Ce.type!=="throw"){var Yt=Ce.arg,ut=Yt.value;return ut&&kP(ut)=="object"&&e.call(ut,"__await")?E.resolve(ut.__await).then(function(Gt){P("next",Gt,te,Oe)},function(Gt){P("throw",Gt,te,Oe)}):E.resolve(ut).then(function(Gt){Yt.value=Gt,te(Yt)},function(Gt){return P("throw",Gt,te,Oe)})}Oe(Ce.arg)}var R;n(this,"_invoke",{value:function(M,te){function Oe(){return new E(function(Ce,Yt){P(M,te,Ce,Yt)})}return R=R?R.then(Oe,Oe):Oe()}})}function A(T,E,P){var R="suspendedStart";return function(k,M){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(k==="throw")throw M;return er()}for(P.method=k,P.arg=M;;){var te=P.delegate;if(te){var Oe=G(te,P);if(Oe){if(Oe===h)continue;return Oe}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(R==="suspendedStart")throw R="completed",P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);R="executing";var Ce=l(T,E,P);if(Ce.type==="normal"){if(R=P.done?"completed":"suspendedYield",Ce.arg===h)continue;return{value:Ce.arg,done:P.done}}Ce.type==="throw"&&(R="completed",P.method="throw",P.arg=Ce.arg)}}}function G(T,E){var P=E.method,R=T.iterator[P];if(R===void 0)return E.delegate=null,P==="throw"&&T.iterator.return&&(E.method="return",E.arg=void 0,G(T,E),E.method==="throw")||P!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+P+"' method")),h;var k=l(R,T.iterator,E.arg);if(k.type==="throw")return E.method="throw",E.arg=k.arg,E.delegate=null,h;var M=k.arg;return M?M.done?(E[T.resultName]=M.value,E.next=T.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,h):M:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,h)}function ge(T){var E={tryLoc:T[0]};1 in T&&(E.catchLoc=T[1]),2 in T&&(E.finallyLoc=T[2],E.afterLoc=T[3]),this.tryEntries.push(E)}function Ht(T){var E=T.completion||{};E.type="normal",delete E.arg,T.completion=E}function Pr(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(ge,this),this.reset(!0)}function zt(T){if(T){var E=T[o];if(E)return E.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var P=-1,R=function k(){for(;++P<T.length;)if(e.call(T,P))return k.value=T[P],k.done=!1,k;return k.value=void 0,k.done=!0,k};return R.next=R}}return{next:er}}function er(){return{value:void 0,done:!0}}return _.prototype=m,n(I,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:_,configurable:!0}),_.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(T){var E=typeof T=="function"&&T.constructor;return!!E&&(E===_||(E.displayName||E.name)==="GeneratorFunction")},t.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,m):(T.__proto__=m,c(T,s,"GeneratorFunction")),T.prototype=Object.create(I),T},t.awrap=function(T){return{__await:T}},U(x.prototype),c(x.prototype,a,function(){return this}),t.AsyncIterator=x,t.async=function(T,E,P,R,k){k===void 0&&(k=Promise);var M=new x(u(T,E,P,R),k);return t.isGeneratorFunction(E)?M:M.next().then(function(te){return te.done?te.value:M.next()})},U(I),c(I,s,"Generator"),c(I,o,function(){return this}),c(I,"toString",function(){return"[object Generator]"}),t.keys=function(T){var E=Object(T),P=[];for(var R in E)P.push(R);return P.reverse(),function k(){for(;P.length;){var M=P.pop();if(M in E)return k.value=M,k.done=!1,k}return k.done=!0,k}},t.values=zt,Pr.prototype={constructor:Pr,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ht),!E)for(var P in this)P.charAt(0)==="t"&&e.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var P=this;function R(Yt,ut){return te.type="throw",te.arg=E,P.next=Yt,ut&&(P.method="next",P.arg=void 0),!!ut}for(var k=this.tryEntries.length-1;k>=0;--k){var M=this.tryEntries[k],te=M.completion;if(M.tryLoc==="root")return R("end");if(M.tryLoc<=this.prev){var Oe=e.call(M,"catchLoc"),Ce=e.call(M,"finallyLoc");if(Oe&&Ce){if(this.prev<M.catchLoc)return R(M.catchLoc,!0);if(this.prev<M.finallyLoc)return R(M.finallyLoc)}else if(Oe){if(this.prev<M.catchLoc)return R(M.catchLoc,!0)}else{if(!Ce)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return R(M.finallyLoc)}}}},abrupt:function(E,P){for(var R=this.tryEntries.length-1;R>=0;--R){var k=this.tryEntries[R];if(k.tryLoc<=this.prev&&e.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var M=k;break}}M&&(E==="break"||E==="continue")&&M.tryLoc<=P&&P<=M.finallyLoc&&(M=null);var te=M?M.completion:{};return te.type=E,te.arg=P,M?(this.method="next",this.next=M.finallyLoc,h):this.complete(te)},complete:function(E,P){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&P&&(this.next=P),h},finish:function(E){for(var P=this.tryEntries.length-1;P>=0;--P){var R=this.tryEntries[P];if(R.finallyLoc===E)return this.complete(R.completion,R.afterLoc),Ht(R),h}},catch:function(E){for(var P=this.tryEntries.length-1;P>=0;--P){var R=this.tryEntries[P];if(R.tryLoc===E){var k=R.completion;if(k.type==="throw"){var M=k.arg;Ht(R)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(E,P,R){return this.delegate={iterator:zt(E),resultName:P,nextLoc:R},this.method==="next"&&(this.arg=void 0),h}},t}Cr.exports=qm,Cr.exports.__esModule=!0,Cr.exports.default=Cr.exports});var ed=d((N$,Rm)=>{var Wa=jm()();Rm.exports=Wa;try{regeneratorRuntime=Wa}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Wa:Function("r","regeneratorRuntime = r")(Wa)}});var rd=d((k$,bo)=>{function Am(t,r,e,n,i,o,a){try{var s=t[o](a),c=s.value}catch(u){e(u);return}s.done?r(c):Promise.resolve(c).then(n,i)}function DP(t){return function(){var r=this,e=arguments;return new Promise(function(n,i){var o=t.apply(r,e);function a(c){Am(o,n,i,a,s,"next",c)}function s(c){Am(o,n,i,a,s,"throw",c)}a(void 0)})}}bo.exports=DP,bo.exports.__esModule=!0,bo.exports.default=bo.exports});var Zt=d((D$,yo)=>{function LP(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}yo.exports=LP,yo.exports.__esModule=!0,yo.exports.default=yo.exports});var Nm=d((L$,go)=>{var Mm=mo().default;function UP(t,r){if(Mm(t)!=="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(Mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}go.exports=UP,go.exports.__esModule=!0,go.exports.default=go.exports});var km=d((U$,Oo)=>{var xP=mo().default,FP=Nm();function BP(t){var r=FP(t,"string");return xP(r)==="symbol"?r:String(r)}Oo.exports=BP,Oo.exports.__esModule=!0,Oo.exports.default=Oo.exports});var $t=d((x$,Eo)=>{var WP=km();function Dm(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WP(n.key),n)}}function VP(t,r,e){return r&&Dm(t.prototype,r),e&&Dm(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}Eo.exports=VP,Eo.exports.__esModule=!0,Eo.exports.default=Eo.exports});var Lm=d((F$,Ir)=>{function td(t,r){return Ir.exports=td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports,td(t,r)}Ir.exports=td,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports});var Um=d((B$,wo)=>{var HP=Lm();function zP(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&HP(t,r)}wo.exports=zP,wo.exports.__esModule=!0,wo.exports.default=wo.exports});var xm=d((W$,So)=>{function YP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}So.exports=YP,So.exports.__esModule=!0,So.exports.default=So.exports});var Fm=d((V$,Po)=>{var GP=mo().default,KP=xm();function ZP(t,r){if(r&&(GP(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KP(t)}Po.exports=ZP,Po.exports.__esModule=!0,Po.exports.default=Po.exports});var Bm=d((H$,qr)=>{function nd(t){return qr.exports=nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qr.exports.__esModule=!0,qr.exports.default=qr.exports,nd(t)}qr.exports=nd,qr.exports.__esModule=!0,qr.exports.default=qr.exports});var ke=d(he=>{"use strict";var $P=he&&he.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(he,"__esModule",{value:!0});he.PROTOCOL_ERROR=he.SESSION_EXPIRED=he.SERVICE_UNAVAILABLE=he.Neo4jError=he.isRetriableError=he.newError=void 0;var Wm="ServiceUnavailable";he.SERVICE_UNAVAILABLE=Wm;var Vm="SessionExpired";he.SESSION_EXPIRED=Vm;var QP="ProtocolError";he.PROTOCOL_ERROR=QP;var XP="N/A",id=function(t){$P(r,t);function r(e,n,i){var o=t.call(this,e,i!=null?{cause:i}:void 0)||this;return o.constructor=r,o.__proto__=r.prototype,o.code=n,o.name="Neo4jError",o.retriable=rT(n),o}return r.isRetriable=function(e){return e!=null&&e instanceof r&&e.retriable},r}(Error);he.Neo4jError=id;function JP(t,r,e){return new id(t,r??XP,e)}he.newError=JP;var eT=id.isRetriable;he.isRetriableError=eT;function rT(t){return t===Wm||t===Vm||nT(t)||tT(t)}function tT(t){return t?.includes("TransientError")===!0}function nT(t){return t==="Neo.ClientError.Security.AuthorizationExpired"}});var Xt=d(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.toString=De.toNumber=De.inSafeRange=De.isInt=De.int=void 0;var To=ke(),Hm=new Map,ct=function(){function t(r,e){this.low=r??0,this.high=e??0}return t.prototype.inSafeRange=function(){return this.greaterThanOrEqual(t.MIN_SAFE_VALUE)&&this.lessThanOrEqual(t.MAX_SAFE_VALUE)},t.prototype.toInt=function(){return this.low},t.prototype.toNumber=function(){return this.high*Qt+(this.low>>>0)},t.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(Qt)+BigInt(this.low>>>0);var r=this.negate();return BigInt(-1)*(BigInt(r.high>>>0)*BigInt(Qt)+BigInt(r.low>>>0))},t.prototype.toNumberOrInfinity=function(){return this.lessThan(t.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(t.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},t.prototype.toString=function(r){if(r=r??10,r<2||r>36)throw RangeError("radix out of range: "+r.toString());if(this.isZero())return"0";var e;if(this.isNegative())if(this.equals(t.MIN_VALUE)){var n=t.fromNumber(r),i=this.div(n);return e=i.multiply(n).subtract(this),i.toString(r)+e.toInt().toString(r)}else return"-"+this.negate().toString(r);var o=t.fromNumber(Math.pow(r,6));e=this;for(var a="";;){var s=e.div(o),c=e.subtract(s.multiply(o)).toInt()>>>0,u=c.toString(r);if(e=s,e.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},t.prototype.getHighBits=function(){return this.high},t.prototype.getLowBits=function(){return this.low},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();var r=this.high!==0?this.high:this.low,e=0;for(e=31;e>0&&!(r&1<<e);e--);return this.high!==0?e+33:e+1},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.isNegative=function(){return this.high<0},t.prototype.isPositive=function(){return this.high>=0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.equals=function(r){var e=t.fromValue(r);return this.high===e.high&&this.low===e.low},t.prototype.notEquals=function(r){return!this.equals(r)},t.prototype.lessThan=function(r){return this.compare(r)<0},t.prototype.lessThanOrEqual=function(r){return this.compare(r)<=0},t.prototype.greaterThan=function(r){return this.compare(r)>0},t.prototype.greaterThanOrEqual=function(r){return this.compare(r)>=0},t.prototype.compare=function(r){var e=t.fromValue(r);if(this.equals(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.subtract(e).isNegative()?-1:1},t.prototype.negate=function(){return this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(r){var e=t.fromValue(r),n=this.high>>>16,i=this.high&65535,o=this.low>>>16,a=this.low&65535,s=e.high>>>16,c=e.high&65535,u=e.low>>>16,l=e.low&65535,h=0,v=0,_=0,m=0;return m+=a+l,_+=m>>>16,m&=65535,_+=o+u,v+=_>>>16,_&=65535,v+=i+c,h+=v>>>16,v&=65535,h+=n+s,h&=65535,t.fromBits(_<<16|m,h<<16|v)},t.prototype.subtract=function(r){var e=t.fromValue(r);return this.add(e.negate())},t.prototype.multiply=function(r){if(this.isZero())return t.ZERO;var e=t.fromValue(r);if(e.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(Gm)&&e.lessThan(Gm))return t.fromNumber(this.toNumber()*e.toNumber());var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,a=this.low&65535,s=e.high>>>16,c=e.high&65535,u=e.low>>>16,l=e.low&65535,h=0,v=0,_=0,m=0;return m+=a*l,_+=m>>>16,m&=65535,_+=o*l,v+=_>>>16,_&=65535,_+=a*u,v+=_>>>16,_&=65535,v+=i*l,h+=v>>>16,v&=65535,v+=o*u,h+=v>>>16,v&=65535,v+=a*c,h+=v>>>16,v&=65535,h+=n*l+i*u+o*c+a*s,h&=65535,t.fromBits(_<<16|m,h<<16|v)},t.prototype.div=function(r){var e=t.fromValue(r);if(e.isZero())throw(0,To.newError)("division by zero");if(this.isZero())return t.ZERO;var n,i,o;if(this.equals(t.MIN_VALUE)){if(e.equals(t.ONE)||e.equals(t.NEG_ONE))return t.MIN_VALUE;if(e.equals(t.MIN_VALUE))return t.ONE;var a=this.shiftRight(1);return n=a.div(e).shiftLeft(1),n.equals(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.subtract(e.multiply(n)),o=n.add(i.div(e)),o)}else if(e.equals(t.MIN_VALUE))return t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(o=t.ZERO,i=this;i.greaterThanOrEqual(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:Math.pow(2,s-48),u=t.fromNumber(n),l=u.multiply(e);l.isNegative()||l.greaterThan(i);)n-=c,u=t.fromNumber(n),l=u.multiply(e);u.isZero()&&(u=t.ONE),o=o.add(u),i=i.subtract(l)}return o},t.prototype.modulo=function(r){var e=t.fromValue(r);return this.subtract(this.div(e).multiply(e))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high)},t.prototype.and=function(r){var e=t.fromValue(r);return t.fromBits(this.low&e.low,this.high&e.high)},t.prototype.or=function(r){var e=t.fromValue(r);return t.fromBits(this.low|e.low,this.high|e.high)},t.prototype.xor=function(r){var e=t.fromValue(r);return t.fromBits(this.low^e.low,this.high^e.high)},t.prototype.shiftLeft=function(r){var e=t.toNumber(r);return(e&=63)===0?t.ZERO:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e):t.fromBits(0,this.low<<e-32)},t.prototype.shiftRight=function(r){var e=t.toNumber(r);return(e&=63)===0?t.ZERO:r<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e):t.fromBits(this.high>>e-32,this.high>=0?0:-1)},t.isInteger=function(r){return r?.__isInteger__===!0},t.fromInt=function(r){var e;if(r=r|0,r>=-128&&r<128&&(e=Hm.get(r),e!=null))return e;var n=new t(r,r<0?-1:0);return r>=-128&&r<128&&Hm.set(r,n),n},t.fromBits=function(r,e){return new t(r,e)},t.fromNumber=function(r){return isNaN(r)||!isFinite(r)?t.ZERO:r<=-Ym?t.MIN_VALUE:r+1>=Ym?t.MAX_VALUE:r<0?t.fromNumber(-r).negate():new t(r%Qt|0,r/Qt|0)},t.fromString=function(r,e,n){var i=n===void 0?{}:n,o=i.strictStringValidation;if(r.length===0)throw(0,To.newError)("number format error: empty string");if(r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return t.ZERO;if(e=e??10,e<2||e>36)throw(0,To.newError)("radix out of range: "+e.toString());var a;if((a=r.indexOf("-"))>0)throw(0,To.newError)('number format error: interior "-" character: '+r);if(a===0)return t.fromString(r.substring(1),e).negate();for(var s=t.fromNumber(Math.pow(e,8)),c=t.ZERO,u=0;u<r.length;u+=8){var l=Math.min(8,r.length-u),h=r.substring(u,u+l),v=parseInt(h,e);if(o===!0&&!oT(h,v,e))throw(0,To.newError)('number format error: "'.concat(h,'" is NaN in radix ').concat(e,": ").concat(r));if(l<8){var _=t.fromNumber(Math.pow(e,l));c=c.multiply(_).add(t.fromNumber(v))}else c=c.multiply(s),c=c.add(t.fromNumber(v))}return c},t.fromValue=function(r,e){return e===void 0&&(e={}),r instanceof t?r:typeof r=="number"?t.fromNumber(r):typeof r=="string"?t.fromString(r,void 0,e):typeof r=="bigint"?t.fromString(r.toString()):new t(r.low,r.high)},t.toNumber=function(r){switch(typeof r){case"number":return r;case"bigint":return Number(r);default:return t.fromValue(r).toNumber()}},t.toString=function(r,e){return t.fromValue(r).toString(e)},t.inSafeRange=function(r){return t.fromValue(r).inSafeRange()},t.ZERO=t.fromInt(0),t.ONE=t.fromInt(1),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647),t.MIN_VALUE=t.fromBits(0,-2147483648),t.MIN_SAFE_VALUE=t.fromBits(1,-2097152),t.MAX_SAFE_VALUE=t.fromBits(-1,2097151),t.__isInteger__=!0,t}();function iT(t,r,e){var n=t.toString(r),i=Math.max(e-n.length,0),o="0".repeat(i);return"".concat(o).concat(n)}function oT(t,r,e){return!Number.isNaN(t)&&!Number.isNaN(r)&&iT(r,e,t.length)===t.toLowerCase()}Object.defineProperty(ct.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var zm=1<<16,aT=1<<24,Qt=zm*zm,uT=Qt*Qt,Ym=uT/2,Gm=ct.fromInt(aT),sT=ct.fromValue;De.int=sT;var cT=ct.isInteger;De.isInt=cT;var lT=ct.inSafeRange;De.inSafeRange=lT;var fT=ct.toNumber;De.toNumber=fT;var dT=ct.toString;De.toString=dT;De.default=ct});var od=d(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.getBrokenObjectReason=lt.isBrokenObject=lt.createBrokenObject=void 0;var Km="__isBrokenObject__",Zm="__reason__";function hT(t,r){r===void 0&&(r={});var e=function(){throw t};return new Proxy(r,{get:function(n,i){if(i===Km)return!0;if(i===Zm)return t;if(i==="toJSON")return;e()},set:e,apply:e,construct:e,defineProperty:e,deleteProperty:e,getOwnPropertyDescriptor:e,getPrototypeOf:e,has:e,isExtensible:e,ownKeys:e,preventExtensions:e,setPrototypeOf:e})}lt.createBrokenObject=hT;function vT(t){return t!==null&&typeof t=="object"&&t[Km]===!0}lt.isBrokenObject=vT;function pT(t){return t[Zm]}lt.getBrokenObjectReason=pT});var Ha=d(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.stringify=void 0;var $m=od();function _T(t){return JSON.stringify(t,function(r,e){return(0,$m.isBrokenObject)(e)?{__isBrokenObject__:!0,__reason__:(0,$m.getBrokenObjectReason)(e)}:typeof e=="bigint"?"".concat(e,"n"):e})}Va.stringify=_T});var Le=d(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.ENCRYPTION_OFF=K.ENCRYPTION_ON=K.validateQueryAndParameters=K.assertValidDate=K.assertNumberOrInteger=K.assertNumber=K.assertString=K.assertObject=K.isString=K.isObject=K.isEmptyObjectOrNull=void 0;var mT=Xt(),Jt=Ha(),bT="ENCRYPTION_ON";K.ENCRYPTION_ON=bT;var yT="ENCRYPTION_OFF";K.ENCRYPTION_OFF=yT;function gT(t){if(t===null)return!0;if(!za(t))return!1;for(var r in t)if(t[r]!==void 0)return!1;return!0}K.isEmptyObjectOrNull=gT;function za(t){return typeof t=="object"&&!Array.isArray(t)&&t!==null}K.isObject=za;function OT(t,r,e){var n,i,o="",a=r??{},s=(n=e?.skipAsserts)!==null&&n!==void 0?n:!1;return typeof t=="string"?o=t:t instanceof String?o=t.toString():typeof t=="object"&&t.text!=null&&(o=t.text,a=(i=t.parameters)!==null&&i!==void 0?i:{}),s||(TT(o),CT(a)),{validatedQuery:o,params:a}}K.validateQueryAndParameters=OT;function ET(t,r){if(!za(t))throw new TypeError(r+" expected to be an object but was: "+(0,Jt.stringify)(t));return t}K.assertObject=ET;function Qm(t,r){if(!Xm(t))throw new TypeError((0,Jt.stringify)(r)+" expected to be string but was: "+(0,Jt.stringify)(t));return t}K.assertString=Qm;function wT(t,r){if(typeof t!="number")throw new TypeError(r+" expected to be a number but was: "+(0,Jt.stringify)(t));return t}K.assertNumber=wT;function ST(t,r){if(typeof t!="number"&&typeof t!="bigint"&&!(0,mT.isInt)(t))throw new TypeError(r+" expected to be either a number or an Integer object but was: "+(0,Jt.stringify)(t));return t}K.assertNumberOrInteger=ST;function PT(t,r){if(Object.prototype.toString.call(t)!=="[object Date]")throw new TypeError(r+" expected to be a standard JavaScript Date but was: "+(0,Jt.stringify)(t));if(Number.isNaN(t.getTime()))throw new TypeError(r+" expected to be valid JavaScript Date but its time was NaN: "+(0,Jt.stringify)(t));return t}K.assertValidDate=PT;function TT(t){if(Qm(t,"Cypher query"),t.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}function CT(t){if(!za(t)){var r=t.constructor!=null?" "+t.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(r," ").concat(JSON.stringify(t)))}}function Xm(t){return Object.prototype.toString.call(t)==="[object String]"}K.isString=Xm});var sd=d(y=>{"use strict";var IT=y&&y.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),qT=y&&y.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),jT=y&&y.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&IT(r,t,e);return qT(r,t),r};Object.defineProperty(y,"__esModule",{value:!0});y.floorMod=y.floorDiv=y.assertValidZoneId=y.assertValidNanosecond=y.assertValidSecond=y.assertValidMinute=y.assertValidHour=y.assertValidDay=y.assertValidMonth=y.assertValidYear=y.timeZoneOffsetInSeconds=y.totalNanoseconds=y.newDate=y.toStandardDate=y.isoStringToStandardDate=y.dateToIsoString=y.timeZoneOffsetToIsoString=y.timeToIsoString=y.durationToIsoString=y.dateToEpochDay=y.localDateTimeToEpochSecond=y.localTimeToNanoOfDay=y.normalizeNanosecondsForDuration=y.normalizeSecondsForDuration=y.SECONDS_PER_DAY=y.DAYS_PER_400_YEAR_CYCLE=y.DAYS_0000_TO_1970=y.NANOS_PER_HOUR=y.NANOS_PER_MINUTE=y.NANOS_PER_MILLISECOND=y.NANOS_PER_SECOND=y.SECONDS_PER_HOUR=y.SECONDS_PER_MINUTE=y.MINUTES_PER_HOUR=y.NANOSECOND_OF_SECOND_RANGE=y.SECOND_OF_MINUTE_RANGE=y.MINUTE_OF_HOUR_RANGE=y.HOUR_OF_DAY_RANGE=y.DAY_OF_MONTH_RANGE=y.MONTH_OF_YEAR_RANGE=y.YEAR_RANGE=void 0;var H=jT(Xt()),Jm=ke(),RT=Le(),en=function(){function t(r,e){this._minNumber=r,this._maxNumber=e,this._minInteger=(0,H.int)(r),this._maxInteger=(0,H.int)(e)}return t.prototype.contains=function(r){if((0,H.isInt)(r)&&r instanceof H.default)return r.greaterThanOrEqual(this._minInteger)&&r.lessThanOrEqual(this._maxInteger);if(typeof r=="bigint"){var e=(0,H.int)(r);return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger)}else return r>=this._minNumber&&r<=this._maxNumber},t.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},t}();y.YEAR_RANGE=new en(-999999999,999999999);y.MONTH_OF_YEAR_RANGE=new en(1,12);y.DAY_OF_MONTH_RANGE=new en(1,31);y.HOUR_OF_DAY_RANGE=new en(0,23);y.MINUTE_OF_HOUR_RANGE=new en(0,59);y.SECOND_OF_MINUTE_RANGE=new en(0,59);y.NANOSECOND_OF_SECOND_RANGE=new en(0,999999999);y.MINUTES_PER_HOUR=60;y.SECONDS_PER_MINUTE=60;y.SECONDS_PER_HOUR=y.SECONDS_PER_MINUTE*y.MINUTES_PER_HOUR;y.NANOS_PER_SECOND=1e9;y.NANOS_PER_MILLISECOND=1e6;y.NANOS_PER_MINUTE=y.NANOS_PER_SECOND*y.SECONDS_PER_MINUTE;y.NANOS_PER_HOUR=y.NANOS_PER_MINUTE*y.MINUTES_PER_HOUR;y.DAYS_0000_TO_1970=719528;y.DAYS_PER_400_YEAR_CYCLE=146097;y.SECONDS_PER_DAY=86400;function AT(t,r){return(0,H.int)(t).add(ud(r,y.NANOS_PER_SECOND))}y.normalizeSecondsForDuration=AT;function MT(t){return rb(t,y.NANOS_PER_SECOND)}y.normalizeNanosecondsForDuration=MT;function NT(t,r,e,n){t=(0,H.int)(t),r=(0,H.int)(r),e=(0,H.int)(e),n=(0,H.int)(n);var i=t.multiply(y.NANOS_PER_HOUR);return i=i.add(r.multiply(y.NANOS_PER_MINUTE)),i=i.add(e.multiply(y.NANOS_PER_SECOND)),i.add(n)}y.localTimeToNanoOfDay=NT;function kT(t,r,e,n,i,o,a){var s=eb(t,r,e),c=JT(n,i,o);return s.multiply(y.SECONDS_PER_DAY).add(c)}y.localDateTimeToEpochSecond=kT;function eb(t,r,e){t=(0,H.int)(t),r=(0,H.int)(r),e=(0,H.int)(e);var n=t.multiply(365);return t.greaterThanOrEqual(0)?n=n.add(t.add(3).div(4).subtract(t.add(99).div(100)).add(t.add(399).div(400))):n=n.subtract(t.div(-4).subtract(t.div(-100)).add(t.div(-400))),n=n.add(r.multiply(367).subtract(362).div(12)),n=n.add(e.subtract(1)),r.greaterThan(2)&&(n=n.subtract(1),e1(t)||(n=n.subtract(1))),n.subtract(y.DAYS_0000_TO_1970)}y.dateToEpochDay=eb;function DT(t,r,e,n){var i=Ue(t),o=Ue(r),a=r1(e,n);return"P".concat(i,"M").concat(o,"DT").concat(a,"S")}y.durationToIsoString=DT;function LT(t,r,e,n){var i=Ue(t,2),o=Ue(r,2),a=Ue(e,2),s=ad(n);return"".concat(i,":").concat(o,":").concat(a).concat(s)}y.timeToIsoString=LT;function UT(t){if(t=(0,H.int)(t),t.equals(0))return"Z";var r=t.isNegative();r&&(t=t.multiply(-1));var e=r?"-":"+",n=Ue(t.div(y.SECONDS_PER_HOUR),2),i=Ue(t.div(y.SECONDS_PER_MINUTE).modulo(y.MINUTES_PER_HOUR),2),o=t.modulo(y.SECONDS_PER_MINUTE),a=o.equals(0)?null:Ue(o,2);return a!=null?"".concat(e).concat(n,":").concat(i,":").concat(a):"".concat(e).concat(n,":").concat(i)}y.timeZoneOffsetToIsoString=UT;function xT(t,r,e){var n=t1(t),i=Ue(r,2),o=Ue(e,2);return"".concat(n,"-").concat(i,"-").concat(o)}y.dateToIsoString=xT;function FT(t){return new Date(t)}y.isoStringToStandardDate=FT;function BT(t){return new Date(t)}y.toStandardDate=BT;function WT(t){return new Date(t)}y.newDate=WT;function VT(t,r){r=r??0;var e=t.getMilliseconds()*y.NANOS_PER_MILLISECOND;return n1(r,e)}y.totalNanoseconds=VT;function HT(t){var r=t.getSeconds()>=t.getUTCSeconds()?t.getSeconds()-t.getUTCSeconds():t.getSeconds()-t.getUTCSeconds()+60,e=t.getTimezoneOffset();return e===0?0+r:-1*e*y.SECONDS_PER_MINUTE+r}y.timeZoneOffsetInSeconds=HT;function zT(t){return rn(t,y.YEAR_RANGE,"Year")}y.assertValidYear=zT;function YT(t){return rn(t,y.MONTH_OF_YEAR_RANGE,"Month")}y.assertValidMonth=YT;function GT(t){return rn(t,y.DAY_OF_MONTH_RANGE,"Day")}y.assertValidDay=GT;function KT(t){return rn(t,y.HOUR_OF_DAY_RANGE,"Hour")}y.assertValidHour=KT;function ZT(t){return rn(t,y.MINUTE_OF_HOUR_RANGE,"Minute")}y.assertValidMinute=ZT;function $T(t){return rn(t,y.SECOND_OF_MINUTE_RANGE,"Second")}y.assertValidSecond=$T;function QT(t){return rn(t,y.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")}y.assertValidNanosecond=QT;function XT(t,r){try{Intl.DateTimeFormat(void 0,{timeZone:r})}catch{throw(0,Jm.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(r,'"'))}}y.assertValidZoneId=XT;function rn(t,r,e){if((0,RT.assertNumberOrInteger)(t,e),!r.contains(t))throw(0,Jm.newError)("".concat(e," is expected to be in range ").concat(r.toString()," but was: ").concat(t.toString()));return t}function JT(t,r,e){t=(0,H.int)(t),r=(0,H.int)(r),e=(0,H.int)(e);var n=t.multiply(y.SECONDS_PER_HOUR);return n=n.add(r.multiply(y.SECONDS_PER_MINUTE)),n.add(e)}function e1(t){return t=(0,H.int)(t),t.modulo(4).equals(0)?t.modulo(100).equals(0)?!!t.modulo(400).equals(0):!0:!1}function ud(t,r){t=(0,H.int)(t),r=(0,H.int)(r);var e=t.div(r);return t.isPositive()!==r.isPositive()&&e.multiply(r).notEquals(t)&&(e=e.subtract(1)),e}y.floorDiv=ud;function rb(t,r){return t=(0,H.int)(t),r=(0,H.int)(r),t.subtract(ud(t,r).multiply(r))}y.floorMod=rb;function r1(t,r){t=(0,H.int)(t),r=(0,H.int)(r);var e,n,i=t.isNegative(),o=r.greaterThan(0);return i&&o?t.equals(-1)?e="-0":e=t.add(1).toString():e=t.toString(),o&&(i?n=ad(r.negate().add(2*y.NANOS_PER_SECOND).modulo(y.NANOS_PER_SECOND)):n=ad(r.add(y.NANOS_PER_SECOND).modulo(y.NANOS_PER_SECOND))),n!=null?e+n:e}function ad(t){return t=(0,H.int)(t),t.equals(0)?"":"."+Ue(t,9)}function t1(t){var r=(0,H.int)(t);return r.isNegative()||r.greaterThan(9999)?Ue(r,6,{usePositiveSign:!0}):Ue(r,4)}function Ue(t,r,e){t=(0,H.int)(t);var n=t.isNegative();n&&(t=t.negate());var i=t.toString();if(r!=null)for(;i.length<r;)i="0"+i;return n?"-"+i:e?.usePositiveSign===!0?"+"+i:i}function n1(t,r){return t instanceof H.default?t.add(r):typeof t=="bigint"?t+BigInt(r):t+r}});var _b=d(F=>{"use strict";var i1=F&&F.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),o1=F&&F.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),tb=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&i1(r,t,e);return o1(r,t),r},a1=F&&F.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(F,"__esModule",{value:!0});F.isDateTime=F.DateTime=F.isLocalDateTime=F.LocalDateTime=F.isDate=F.Date=F.isTime=F.Time=F.isLocalTime=F.LocalTime=F.isDuration=F.Duration=void 0;var N=tb(sd()),jr=Le(),u1=ke(),tn=tb(Xt()),Jn={value:!0,enumerable:!1,configurable:!1,writable:!1},nb="__isDuration__",ib="__isLocalTime__",ob="__isTime__",ab="__isDate__",ub="__isLocalDateTime__",sb="__isDateTime__",cb=function(){function t(r,e,n,i){this.months=(0,jr.assertNumberOrInteger)(r,"Months"),this.days=(0,jr.assertNumberOrInteger)(e,"Days"),(0,jr.assertNumberOrInteger)(n,"Seconds"),(0,jr.assertNumberOrInteger)(i,"Nanoseconds"),this.seconds=N.normalizeSecondsForDuration(n,i),this.nanoseconds=N.normalizeNanosecondsForDuration(i),Object.freeze(this)}return t.prototype.toString=function(){return N.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},t}();F.Duration=cb;Object.defineProperty(cb.prototype,nb,Jn);function s1(t){return ei(t,nb)}F.isDuration=s1;var lb=function(){function t(r,e,n,i){this.hour=N.assertValidHour(r),this.minute=N.assertValidMinute(e),this.second=N.assertValidSecond(n),this.nanosecond=N.assertValidNanosecond(i),Object.freeze(this)}return t.fromStandardDate=function(r,e){Co(r,e);var n=N.totalNanoseconds(r,e);return new t(r.getHours(),r.getMinutes(),r.getSeconds(),n instanceof tn.default?n.toInt():typeof n=="bigint"?(0,tn.int)(n).toInt():n)},t.prototype.toString=function(){return N.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},t}();F.LocalTime=lb;Object.defineProperty(lb.prototype,ib,Jn);function c1(t){return ei(t,ib)}F.isLocalTime=c1;var fb=function(){function t(r,e,n,i,o){this.hour=N.assertValidHour(r),this.minute=N.assertValidMinute(e),this.second=N.assertValidSecond(n),this.nanosecond=N.assertValidNanosecond(i),this.timeZoneOffsetSeconds=(0,jr.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return t.fromStandardDate=function(r,e){return Co(r,e),new t(r.getHours(),r.getMinutes(),r.getSeconds(),(0,tn.toNumber)(N.totalNanoseconds(r,e)),N.timeZoneOffsetInSeconds(r))},t.prototype.toString=function(){return N.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+N.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},t}();F.Time=fb;Object.defineProperty(fb.prototype,ob,Jn);function l1(t){return ei(t,ob)}F.isTime=l1;var db=function(){function t(r,e,n){this.year=N.assertValidYear(r),this.month=N.assertValidMonth(e),this.day=N.assertValidDay(n),Object.freeze(this)}return t.fromStandardDate=function(r){return Co(r),new t(r.getFullYear(),r.getMonth()+1,r.getDate())},t.prototype.toStandardDate=function(){return N.isoStringToStandardDate(this.toString())},t.prototype.toString=function(){return N.dateToIsoString(this.year,this.month,this.day)},t}();F.Date=db;Object.defineProperty(db.prototype,ab,Jn);function f1(t){return ei(t,ab)}F.isDate=f1;var hb=function(){function t(r,e,n,i,o,a,s){this.year=N.assertValidYear(r),this.month=N.assertValidMonth(e),this.day=N.assertValidDay(n),this.hour=N.assertValidHour(i),this.minute=N.assertValidMinute(o),this.second=N.assertValidSecond(a),this.nanosecond=N.assertValidNanosecond(s),Object.freeze(this)}return t.fromStandardDate=function(r,e){return Co(r,e),new t(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),(0,tn.toNumber)(N.totalNanoseconds(r,e)))},t.prototype.toStandardDate=function(){return N.isoStringToStandardDate(this.toString())},t.prototype.toString=function(){return pb(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},t}();F.LocalDateTime=hb;Object.defineProperty(hb.prototype,ub,Jn);function d1(t){return ei(t,ub)}F.isLocalDateTime=d1;var vb=function(){function t(r,e,n,i,o,a,s,c,u){this.year=N.assertValidYear(r),this.month=N.assertValidMonth(e),this.day=N.assertValidDay(n),this.hour=N.assertValidHour(i),this.minute=N.assertValidMinute(o),this.second=N.assertValidSecond(a),this.nanosecond=N.assertValidNanosecond(s);var l=a1(v1(c,u),2),h=l[0],v=l[1];this.timeZoneOffsetSeconds=h,this.timeZoneId=v??void 0,Object.freeze(this)}return t.fromStandardDate=function(r,e){return Co(r,e),new t(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),(0,tn.toNumber)(N.totalNanoseconds(r,e)),N.timeZoneOffsetInSeconds(r),null)},t.prototype.toStandardDate=function(){return N.toStandardDate(this._toUTC())},t.prototype.toString=function(){var r,e=pb(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),n=this.timeZoneOffsetSeconds!=null?N.timeZoneOffsetToIsoString((r=this.timeZoneOffsetSeconds)!==null&&r!==void 0?r:0):"",i=this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"";return e+n+i},t.prototype._toUTC=function(){var r;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var e=N.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),n=e.subtract((r=this.timeZoneOffsetSeconds)!==null&&r!==void 0?r:0);return(0,tn.int)(n).multiply(1e3).add((0,tn.int)(this.nanosecond).div(1e6)).toNumber()},t}();F.DateTime=vb;Object.defineProperty(vb.prototype,sb,Jn);function h1(t){return ei(t,sb)}F.isDateTime=h1;function ei(t,r){return t!=null&&t[r]===!0}function pb(t,r,e,n,i,o,a){return N.dateToIsoString(t,r,e)+"T"+N.timeToIsoString(n,i,o,a)}function v1(t,r){var e=t!=null,n=r!=null&&r!=="";if(!e&&!n)throw(0,u1.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(t," and id: ").concat(r));var i=[void 0,void 0];return e&&((0,jr.assertNumberOrInteger)(t,"Time zone offset in seconds"),i[0]=t),n&&((0,jr.assertString)(r,"Time zone ID"),N.assertValidZoneId("Time zone ID",r),i[1]=r),i}function Co(t,r){(0,jr.assertValidDate)(t,"Standard date"),r!=null&&(0,jr.assertNumberOrInteger)(r,"Nanosecond")}});var Tb=d(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.isPathSegment=ee.PathSegment=ee.isPath=ee.Path=ee.isUnboundRelationship=ee.UnboundRelationship=ee.isRelationship=ee.Relationship=ee.isNode=ee.Node=void 0;var cd=Ha(),qo={value:!0,enumerable:!1,configurable:!1,writable:!1},mb="__isNode__",bb="__isRelationship__",yb="__isUnboundRelationship__",gb="__isPath__",Ob="__isPathSegment__";function jo(t,r){return t!=null&&t[r]===!0}var Eb=function(){function t(r,e,n,i){this.identity=r,this.labels=e,this.properties=n,this.elementId=Io(i,function(){return r.toString()})}return t.prototype.toString=function(){for(var r="("+this.elementId,e=0;e<this.labels.length;e++)r+=":"+this.labels[e];var n=Object.keys(this.properties);if(n.length>0){r+=" {";for(var e=0;e<n.length;e++)e>0&&(r+=","),r+=n[e]+":"+(0,cd.stringify)(this.properties[n[e]]);r+="}"}return r+=")",r},t}();ee.Node=Eb;Object.defineProperty(Eb.prototype,mb,qo);function p1(t){return jo(t,mb)}ee.isNode=p1;var Ya=function(){function t(r,e,n,i,o,a,s,c){this.identity=r,this.start=e,this.end=n,this.type=i,this.properties=o,this.elementId=Io(a,function(){return r.toString()}),this.startNodeElementId=Io(s,function(){return e.toString()}),this.endNodeElementId=Io(c,function(){return n.toString()})}return t.prototype.toString=function(){var r="("+this.startNodeElementId+")-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){r+=" {";for(var n=0;n<e.length;n++)n>0&&(r+=","),r+=e[n]+":"+(0,cd.stringify)(this.properties[e[n]]);r+="}"}return r+="]->("+this.endNodeElementId+")",r},t}();ee.Relationship=Ya;Object.defineProperty(Ya.prototype,bb,qo);function _1(t){return jo(t,bb)}ee.isRelationship=_1;var wb=function(){function t(r,e,n,i){this.identity=r,this.type=e,this.properties=n,this.elementId=Io(i,function(){return r.toString()})}return t.prototype.bind=function(r,e){return new Ya(this.identity,r,e,this.type,this.properties,this.elementId)},t.prototype.bindTo=function(r,e){return new Ya(this.identity,r.identity,e.identity,this.type,this.properties,this.elementId,r.elementId,e.elementId)},t.prototype.toString=function(){var r="-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){r+=" {";for(var n=0;n<e.length;n++)n>0&&(r+=","),r+=e[n]+":"+(0,cd.stringify)(this.properties[e[n]]);r+="}"}return r+="]->",r},t}();ee.UnboundRelationship=wb;Object.defineProperty(wb.prototype,yb,qo);function m1(t){return jo(t,yb)}ee.isUnboundRelationship=m1;var Sb=function(){function t(r,e,n){this.start=r,this.relationship=e,this.end=n}return t}();ee.PathSegment=Sb;Object.defineProperty(Sb.prototype,Ob,qo);function b1(t){return jo(t,Ob)}ee.isPathSegment=b1;var Pb=function(){function t(r,e,n){this.start=r,this.end=e,this.segments=n,this.length=n.length}return t}();ee.Path=Pb;Object.defineProperty(Pb.prototype,gb,qo);function y1(t){return jo(t,gb)}ee.isPath=y1;function Io(t,r){return t??r()}});var Ib=d(Rr=>{"use strict";var ld=Rr&&Rr.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fd=Rr&&Rr.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},dd=Rr&&Rr.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(Rr,"__esModule",{value:!0});var Cb=ke();function g1(t){var r={};return t.forEach(function(e,n){r[e]=n}),r}var O1=function(){function t(r,e,n){this.keys=r,this.length=r.length,this._fields=e,this._fieldLookup=n??g1(r)}return t.prototype.forEach=function(r){var e,n;try{for(var i=fd(this.entries()),o=i.next();!o.done;o=i.next()){var a=dd(o.value,2),s=a[0],c=a[1];r(c,s,this)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.map=function(r){var e,n,i=[];try{for(var o=fd(this.entries()),a=o.next();!a.done;a=o.next()){var s=dd(a.value,2),c=s[0],u=s[1];i.push(r(u,c,this))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype.entries=function(){var r;return ld(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:return r<this.keys.length?[4,[this.keys[r],this._fields[r]]]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return[2]}})},t.prototype.values=function(){var r;return ld(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:return r<this.keys.length?[4,this._fields[r]]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return[2]}})},t.prototype[Symbol.iterator]=function(){var r;return ld(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:return r<this.keys.length?[4,this._fields[r]]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return[2]}})},t.prototype.toObject=function(){var r,e,n={};try{for(var i=fd(this.entries()),o=i.next();!o.done;o=i.next()){var a=dd(o.value,2),s=a[0],c=a[1];n[s]=c}}catch(u){r={error:u}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return n},t.prototype.get=function(r){var e;if(typeof r!="number"){if(e=this._fieldLookup[r],e===void 0)throw(0,Cb.newError)("This record has no field with key '".concat(r.toString(),"', available keys are: [")+this.keys.toString()+"].")}else e=r;if(e>this._fields.length-1||e<0)throw(0,Cb.newError)("This record has no field with index '"+e.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[e]},t.prototype.has=function(r){return typeof r=="number"?r>=0&&r<this._fields.length:this._fieldLookup[r]!==void 0},t}();Rr.default=O1});var Rb=d(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.isPoint=ri.Point=void 0;var Ga=Le(),qb="__isPoint__",jb=function(){function t(r,e,n,i){this.srid=(0,Ga.assertNumberOrInteger)(r,"SRID"),this.x=(0,Ga.assertNumber)(e,"X coordinate"),this.y=(0,Ga.assertNumber)(n,"Y coordinate"),this.z=i==null?i:(0,Ga.assertNumber)(i,"Z coordinate"),Object.freeze(this)}return t.prototype.toString=function(){return this.z!=null&&!isNaN(this.z)?"Point{srid=".concat(nn(this.srid),", x=").concat(nn(this.x),", y=").concat(nn(this.y),", z=").concat(nn(this.z),"}"):"Point{srid=".concat(nn(this.srid),", x=").concat(nn(this.x),", y=").concat(nn(this.y),"}")},t}();ri.Point=jb;function nn(t){return Number.isInteger(t)?t.toString()+".0":t.toString()}Object.defineProperty(jb.prototype,qb,{value:!0,enumerable:!1,configurable:!1,writable:!1});function E1(t){return t!=null&&t[qb]===!0}ri.isPoint=E1});var pd=d(Q=>{"use strict";var w1=Q&&Q.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),S1=Q&&Q.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),P1=Q&&Q.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&w1(r,t,e);return S1(r,t),r};Object.defineProperty(Q,"__esModule",{value:!0});Q.Stats=Q.QueryStatistics=Q.ProfiledPlan=Q.Plan=Q.Notification=Q.ServerInfo=Q.queryType=void 0;var Ab=P1(Xt()),T1=function(){function t(r,e,n,i){var o,a,s;this.query={text:r,parameters:e},this.queryType=n.type,this.counters=new Mb((o=n.stats)!==null&&o!==void 0?o:{}),this.updateStatistics=this.counters,this.plan=n.plan!=null||n.profile!=null?new hd((a=n.plan)!==null&&a!==void 0?a:n.profile):!1,this.profile=n.profile!=null?new vd(n.profile):!1,this.notifications=this._buildNotifications(n.notifications),this.server=new kb(n.server,i),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:(s=n.db)!==null&&s!==void 0?s:null}}return t.prototype._buildNotifications=function(r){return r==null?[]:r.map(function(e){return new Nb(e)})},t.prototype.hasPlan=function(){return this.plan instanceof hd},t.prototype.hasProfile=function(){return this.profile instanceof vd},t}(),hd=function(){function t(r){this.operatorType=r.operatorType,this.identifiers=r.identifiers,this.arguments=r.args,this.children=r.children!=null?r.children.map(function(e){return new t(e)}):[]}return t}();Q.Plan=hd;var vd=function(){function t(r){this.operatorType=r.operatorType,this.identifiers=r.identifiers,this.arguments=r.args,this.dbHits=ti("dbHits",r),this.rows=ti("rows",r),this.pageCacheMisses=ti("pageCacheMisses",r),this.pageCacheHits=ti("pageCacheHits",r),this.pageCacheHitRatio=ti("pageCacheHitRatio",r),this.time=ti("time",r),this.children=r.children!=null?r.children.map(function(e){return new t(e)}):[]}return t.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},t}();Q.ProfiledPlan=vd;var C1=function(){function t(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0}return t}();Q.Stats=C1;var Mb=function(){function t(r){var e=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(r).forEach(function(n){var i=n.replace(/(-\w)/g,function(o){return o[1].toUpperCase()});i in e._stats?e._stats[i]=ni(r[n]):i==="systemUpdates"?e._systemUpdates=ni(r[n]):i==="containsSystemUpdates"?e._containsSystemUpdates=r[n]:i==="containsUpdates"&&(e._containsUpdates=r[n])}),this._stats=Object.freeze(this._stats)}return t.prototype.containsUpdates=function(){var r=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(e,n){return e+r._stats[n]},0)>0},t.prototype.updates=function(){return this._stats},t.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},t.prototype.systemUpdates=function(){return this._systemUpdates},t}();Q.QueryStatistics=Mb;var Nb=function(){function t(r){this.code=r.code,this.title=r.title,this.description=r.description,this.severity=r.severity,this.position=t._constructPosition(r.position)}return t._constructPosition=function(r){return r==null?{}:{offset:ni(r.offset),line:ni(r.line),column:ni(r.column)}},t}();Q.Notification=Nb;var kb=function(){function t(r,e){r!=null&&(this.address=r.address,this.agent=r.version),this.protocolVersion=e}return t}();Q.ServerInfo=kb;function ni(t){return t instanceof Ab.default?t.toInt():typeof t=="bigint"?(0,Ab.int)(t).toInt():t}function ti(t,r,e){if(e===void 0&&(e=0),r!==!1&&t in r){var n=r[t];return ni(n)}else return e}var I1={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};Q.queryType=I1;Q.default=T1});var Ka=d(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.FailedObserver=ii.CompletedObserver=void 0;var q1=function(){function t(){}return t.prototype.subscribe=function(r){Ro(r,r.onKeys,[]),Ro(r,r.onCompleted,{})},t.prototype.cancel=function(){},t.prototype.pause=function(){},t.prototype.resume=function(){},t.prototype.prepareToHandleSingleResponse=function(){},t.prototype.markCompleted=function(){},t.prototype.onError=function(r){throw Error("CompletedObserver not supposed to call onError")},t}();ii.CompletedObserver=q1;var j1=function(){function t(r){var e=r.error,n=r.onError;this._error=e,this._beforeError=n,this._observers=[],this.onError(e)}return t.prototype.subscribe=function(r){Ro(r,r.onError,this._error),this._observers.push(r)},t.prototype.onError=function(r){Ro(this,this._beforeError,r),this._observers.forEach(function(e){return Ro(e,e.onError,r)})},t.prototype.cancel=function(){},t.prototype.pause=function(){},t.prototype.resume=function(){},t.prototype.markCompleted=function(){},t.prototype.prepareToHandleSingleResponse=function(){},t}();ii.FailedObserver=j1;function Ro(t,r,e){r?.bind(t)(e)}});var oi=d(Ie=>{"use strict";var R1=Ie&&Ie.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),A1=Ie&&Ie.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),M1=Ie&&Ie.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&R1(r,t,e);return A1(r,t),r},N1=Ie&&Ie.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},k1=Ie&&Ie.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Bookmarks=void 0;var Db=M1(Le()),D1="bookmarks",Lb=function(){function t(r){this._values=U1(r)}return t.empty=function(){return L1},t.prototype.isEmpty=function(){return this._values.length===0},t.prototype.values=function(){return this._values},t.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},t.prototype.asBeginTransactionParameters=function(){var r;return this.isEmpty()?{}:(r={},r[D1]=this._values,r)},t}();Ie.Bookmarks=Lb;var L1=new Lb(null);function U1(t){if(t==null||t==="")return[];if(Db.isString(t))return[t];if(Array.isArray(t)){for(var r=new Set,e=Ub(t),n=0;n<e.length;n++){var i=e[n];if(i!=null){if(!Db.isString(i))throw new TypeError("Bookmark value should be a string, given: '".concat(i,"'"));r.add(i)}}return k1([],N1(r),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(t,"'"))}function Ub(t){return t.reduce(function(r,e){return Array.isArray(e)?r.concat(Ub(e)):r.concat(e)},[])}});var Ao=d(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.BOLT_PROTOCOL_V5_0=W.BOLT_PROTOCOL_V4_4=W.BOLT_PROTOCOL_V4_3=W.BOLT_PROTOCOL_V4_2=W.BOLT_PROTOCOL_V4_1=W.BOLT_PROTOCOL_V4_0=W.BOLT_PROTOCOL_V3=W.BOLT_PROTOCOL_V2=W.BOLT_PROTOCOL_V1=W.DEFAULT_POOL_MAX_SIZE=W.DEFAULT_POOL_ACQUISITION_TIMEOUT=W.DEFAULT_CONNECTION_TIMEOUT_MILLIS=W.ACCESS_MODE_WRITE=W.ACCESS_MODE_READ=W.FETCH_ALL=void 0;var x1=-1;W.FETCH_ALL=x1;var F1=60*1e3;W.DEFAULT_POOL_ACQUISITION_TIMEOUT=F1;var B1=100;W.DEFAULT_POOL_MAX_SIZE=B1;var W1=3e4;W.DEFAULT_CONNECTION_TIMEOUT_MILLIS=W1;var V1="READ";W.ACCESS_MODE_READ=V1;var H1="WRITE";W.ACCESS_MODE_WRITE=H1;var z1=1;W.BOLT_PROTOCOL_V1=z1;var Y1=2;W.BOLT_PROTOCOL_V2=Y1;var G1=3;W.BOLT_PROTOCOL_V3=G1;var K1=4;W.BOLT_PROTOCOL_V4_0=K1;var Z1=4.1;W.BOLT_PROTOCOL_V4_1=Z1;var $1=4.2;W.BOLT_PROTOCOL_V4_2=$1;var Q1=4.3;W.BOLT_PROTOCOL_V4_3=Q1;var X1=4.4;W.BOLT_PROTOCOL_V4_4=X1;var J1=5;W.BOLT_PROTOCOL_V5_0=J1});var Za=d(Ee=>{"use strict";var Bb=Ee&&Ee.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mo=Ee&&Ee.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},No=Ee&&Ee.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.EMPTY_CONNECTION_HOLDER=Ee.ReadOnlyConnectionHolder=Ee.ConnectionHolder=void 0;var eC=ke(),rC=Le(),tC=Ao(),xb=oi(),_d=function(){function t(r){var e=r===void 0?{}:r,n=e.mode,i=n===void 0?tC.ACCESS_MODE_WRITE:n,o=e.database,a=o===void 0?"":o,s=e.bookmarks,c=e.connectionProvider,u=e.impersonatedUser,l=e.onDatabaseNameResolved,h=e.getConnectionAcquistionBookmarks;this._mode=i,this._database=a!=null?(0,rC.assertString)(a,"database"):"",this._bookmarks=s??xb.Bookmarks.empty(),this._connectionProvider=c,this._impersonatedUser=u,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=l,this._getConnectionAcquistionBookmarks=h??function(){return Promise.resolve(xb.Bookmarks.empty())}}return t.prototype.mode=function(){return this._mode},t.prototype.database=function(){return this._database},t.prototype.setDatabase=function(r){this._database=r},t.prototype.bookmarks=function(){return this._bookmarks},t.prototype.connectionProvider=function(){return this._connectionProvider},t.prototype.referenceCount=function(){return this._referenceCount},t.prototype.initializeConnection=function(){if(this._referenceCount===0&&this._connectionProvider!=null)this._connectionPromise=this._createConnectionPromise(this._connectionProvider);else return this._referenceCount++,!1;return this._referenceCount++,!0},t.prototype._createConnectionPromise=function(r){return Mo(this,void 0,void 0,function(){var e,n,i;return No(this,function(o){switch(o.label){case 0:return n=(e=r).acquireConnection,i={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,n.apply(e,[(i.bookmarks=o.sent(),i.impersonatedUser=this._impersonatedUser,i.onDatabaseNameResolved=this._onDatabaseNameResolved,i)])];case 2:return[2,o.sent()]}})})},t.prototype._getBookmarks=function(){return Mo(this,void 0,void 0,function(){return No(this,function(r){switch(r.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,r.sent()]}})})},t.prototype.getConnection=function(){return this._connectionPromise},t.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},t.prototype.close=function(r){return this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(r))},t.prototype._releaseConnection=function(r){return this._connectionPromise=this._connectionPromise.then(function(e){return e!=null?e.isOpen()&&(e.hasOngoingObservableRequests()||r===!0)?e.resetAndFlush().catch(Fb).then(function(){return e._release().then(function(){return null})}):e._release().then(function(){return null}):Promise.resolve(null)}).catch(Fb),this._connectionPromise},t}();Ee.ConnectionHolder=_d;var Wb=function(t){Bb(r,t);function r(e){var n=t.call(this,{mode:e.mode(),database:e.database(),bookmarks:e.bookmarks(),getConnectionAcquistionBookmarks:e._getConnectionAcquistionBookmarks,connectionProvider:e.connectionProvider()})||this;return n._connectionHolder=e,n}return r.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},r.prototype.getConnection=function(){return this._connectionHolder.getConnection()},r.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},r.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},r}(_d);Ee.ReadOnlyConnectionHolder=Wb;Ee.default=Wb;var nC=function(t){Bb(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.mode=function(){},r.prototype.database=function(){},r.prototype.initializeConnection=function(){return!0},r.prototype.getConnection=function(){return Mo(this,void 0,void 0,function(){return No(this,function(e){switch(e.label){case 0:return[4,Promise.reject((0,eC.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}})})},r.prototype.releaseConnection=function(){return Mo(this,void 0,void 0,function(){return No(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},r.prototype.close=function(){return Mo(this,void 0,void 0,function(){return No(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},r}(_d),iC=new nC;Ee.EMPTY_CONNECTION_HOLDER=iC;function Fb(t){return null}});var $a=d(fr=>{"use strict";var oC=fr&&fr.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),aC=fr&&fr.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),uC=fr&&fr.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&oC(r,t,e);return aC(r,t),r};Object.defineProperty(fr,"__esModule",{value:!0});fr.TxConfig=void 0;var ko=uC(Le()),sC=ke(),cC=Xt(),Vb=function(){function t(r){hC(r),this.timeout=fC(r),this.metadata=dC(r)}return t.empty=function(){return lC},t.prototype.isEmpty=function(){return Object.values(this).every(function(r){return r==null})},t}();fr.TxConfig=Vb;var lC=new Vb({});function fC(t){if(ko.isObject(t)&&t.timeout!=null){ko.assertNumberOrInteger(t.timeout,"Transaction timeout");var r=(0,cC.int)(t.timeout);if(r.isNegative())throw(0,sC.newError)("Transaction timeout should not be negative");return r}return null}function dC(t){if(ko.isObject(t)&&t.metadata!=null){var r=t.metadata;if(ko.assertObject(r,"config.metadata"),Object.keys(r).length!==0)return r}return null}function hC(t){t!=null&&ko.assertObject(t,"Transaction config")}});var md=d(ft=>{"use strict";var vC=ft&&ft.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},pC=ft&&ft.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(ft,"__esModule",{value:!0});ft.TransactionExecutor=void 0;var Do=ke(),_C=30*1e3,mC=1e3,bC=2,yC=.2,gC=function(){function t(r,e,n,i){this._maxRetryTimeMs=Qa(r,_C),this._initialRetryDelayMs=Qa(e,mC),this._multiplier=Qa(n,bC),this._jitterFactor=Qa(i,yC),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return t.prototype.execute=function(r,e,n){var i=this;return new Promise(function(o,a){i._executeTransactionInsidePromise(r,e,o,a,n).catch(a)}).catch(function(o){var a=Date.now(),s=i._initialRetryDelayMs;return i._retryTransactionPromise(r,e,o,a,s,n)})},t.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(r){return clearTimeout(r)}),this._inFlightTimeoutIds=[]},t.prototype._retryTransactionPromise=function(r,e,n,i,o,a){var s=this,c=Date.now()-i;return c>this._maxRetryTimeMs||!(0,Do.isRetriableError)(n)?Promise.reject(n):new Promise(function(u,l){var h=s._computeDelayWithJitter(o),v=setTimeout(function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter(function(_){return _!==v}),s._executeTransactionInsidePromise(r,e,u,l,a).catch(l)},h);s._inFlightTimeoutIds.push(v)}).catch(function(u){var l=o*s._multiplier;return s._retryTransactionPromise(r,e,u,i,l,a)})},t.prototype._executeTransactionInsidePromise=function(r,e,n,i,o){return vC(this,void 0,void 0,function(){var a,s,c,u,l,h=this;return pC(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,r()];case 1:return a=v.sent(),[3,3];case 2:return s=v.sent(),i(s),[2];case 3:return c=o??function(_){return _},u=c(a),l=this._safeExecuteTransactionWork(u,e),l.then(function(_){return h._handleTransactionWorkSuccess(_,a,n,i)}).catch(function(_){return h._handleTransactionWorkFailure(_,a,i)}),[2]}})})},t.prototype._safeExecuteTransactionWork=function(r,e){try{var n=e(r);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},t.prototype._handleTransactionWorkSuccess=function(r,e,n,i){e.isOpen()?e.commit().then(function(){n(r)}).catch(function(o){i(o)}):n(r)},t.prototype._handleTransactionWorkFailure=function(r,e,n){e.isOpen()?e.rollback().catch(function(i){}).then(function(){return n(r)}).catch(n):n(r)},t.prototype._computeDelayWithJitter=function(r){var e=r*this._jitterFactor,n=r-e,i=r+e;return Math.random()*(i-n)+n},t.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,Do.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,Do.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,Do.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,Do.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},t}();ft.TransactionExecutor=gC;function Qa(t,r){return t??r}});var Od=d(ui=>{"use strict";var OC=ui&&ui.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ai;Object.defineProperty(ui,"__esModule",{value:!0});ui.Logger=void 0;var Hb=ke(),bd="error",yd="warn",Lo="info",gd="debug",EC=Lo,Ja=(ai={},ai[bd]=0,ai[yd]=1,ai[Lo]=2,ai[gd]=3,ai),zb=function(){function t(r,e){this._level=r,this._loggerFunction=e}return t.create=function(r){if(r?.logging!=null){var e=r.logging,n=PC(e),i=TC(e);return new t(n,i)}return this.noOp()},t.noOp=function(){return SC},t.prototype.isErrorEnabled=function(){return Xa(this._level,bd)},t.prototype.error=function(r){this.isErrorEnabled()&&this._loggerFunction(bd,r)},t.prototype.isWarnEnabled=function(){return Xa(this._level,yd)},t.prototype.warn=function(r){this.isWarnEnabled()&&this._loggerFunction(yd,r)},t.prototype.isInfoEnabled=function(){return Xa(this._level,Lo)},t.prototype.info=function(r){this.isInfoEnabled()&&this._loggerFunction(Lo,r)},t.prototype.isDebugEnabled=function(){return Xa(this._level,gd)},t.prototype.debug=function(r){this.isDebugEnabled()&&this._loggerFunction(gd,r)},t}();ui.Logger=zb;var wC=function(t){OC(r,t);function r(){return t.call(this,Lo,function(e,n){})||this}return r.prototype.isErrorEnabled=function(){return!1},r.prototype.error=function(e){},r.prototype.isWarnEnabled=function(){return!1},r.prototype.warn=function(e){},r.prototype.isInfoEnabled=function(){return!1},r.prototype.info=function(e){},r.prototype.isDebugEnabled=function(){return!1},r.prototype.debug=function(e){},r}(zb),SC=new wC;function Xa(t,r){return Ja[t]>=Ja[r]}function PC(t){if(t?.level!=null){var r=t.level,e=Ja[r];if(e==null&&e!==0)throw(0,Hb.newError)("Illegal logging level: ".concat(r,". Supported levels are: ").concat(Object.keys(Ja).toString()));return r}return EC}function TC(t){var r,e;if(t?.logger!=null){var n=t.logger;if(n!=null&&typeof n=="function")return n}throw(0,Hb.newError)("Illegal logger function: ".concat((e=(r=t?.logger)===null||r===void 0?void 0:r.toString())!==null&&e!==void 0?e:"undefined"))}});var Ed=d(ve=>{"use strict";var eu=ve&&ve.__assign||function(){return eu=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},eu.apply(this,arguments)},Gb=ve&&ve.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(ve,"__esModule",{value:!0});ve.Url=ve.formatIPv6Address=ve.formatIPv4Address=ve.defaultPortForScheme=ve.parseDatabaseUrl=void 0;var CC=Le(),IC=7687,qC=7474,jC=7473,Kb=function(){function t(r,e,n,i,o){this.scheme=r,this.host=e,this.port=n,this.hostAndPort=i,this.query=o}return t}();ve.Url=Kb;function RC(t){var r;(0,CC.assertString)(t,"URL");var e=MC(t),n=WC(e.url),i=e.schemeMissing?null:NC(n.scheme),o=kC(n.host),a=xC(o),s=DC(n.port,i),c="".concat(a,":").concat(s),u=LC((r=n.query)!==null&&r!==void 0?r:AC(n.resourceName),t);return new Kb(i,o,s,c,u)}ve.parseDatabaseUrl=RC;function AC(t){if(typeof t!="string")return null;var r=Gb(t.split("?"),2),e=r[1];return e}function MC(t){return t=t.trim(),t.includes("://")?{schemeMissing:!1,url:t}:{schemeMissing:!0,url:"none://".concat(t)}}function NC(t){return t!=null?(t=t.trim(),t.charAt(t.length-1)===":"&&(t=t.substring(0,t.length-1)),t):null}function kC(t,r){if(t==null)throw new Error("Unable to extract host from null or undefined URL");return t.trim()}function DC(t,r){var e=typeof t=="string"?parseInt(t,10):t;return e!=null&&!isNaN(e)?e:$b(r)}function LC(t,r){var e=t!=null?UC(t):null,n={};return e?.split("&").forEach(function(i){var o=i.split("=");if(o.length!==2)throw new Error("Invalid parameters: '".concat(o.toString(),"' in URL '").concat(r,"'."));var a=Yb(o[0],"key",r),s=Yb(o[1],"value",r);if(n[a]!==void 0)throw new Error("Duplicated query parameters with key '".concat(a,"' in URL '").concat(r,"'"));n[a]=s}),n}function UC(t){return t=(t??"").trim(),t?.charAt(0)==="?"&&(t=t.substring(1,t.length)),t}function Yb(t,r,e){if(t=(t??"").trim(),t==="")throw new Error("Illegal empty ".concat(r," in URL query '").concat(e,"'"));return t}function Zb(t){var r=t.charAt(0)==="[",e=t.charAt(t.length-1)==="]";if(!r&&!e)return"[".concat(t,"]");if(r&&e)return t;throw new Error("Illegal IPv6 address ".concat(t))}function xC(t){if(t===""||t==null)throw new Error("Illegal host ".concat(t));var r=t.includes(":");return r?Zb(t):t}function FC(t,r){return"".concat(t,":").concat(r)}ve.formatIPv4Address=FC;function BC(t,r){var e=Zb(t);return"".concat(e,":").concat(r)}ve.formatIPv6Address=BC;function $b(t){return t==="http"?qC:t==="https"?jC:IC}ve.defaultPortForScheme=$b;function WC(t){function r(s,c){var u=s.indexOf(c);return u>=0?[s.substring(0,u),s[u],s.substring(u+1)]:[s,"",""]}function e(s,c){var u=s.lastIndexOf(c);return u>=0?[s.substring(0,u),s[u],s.substring(u+1)]:["","",s]}function n(s,c,u){var l=r(s,c),h=r(l[2],u);return[h[0],h[2]]}function i(s){var c={},u;u=e(s,"@"),u[1]==="@"&&(c.userInfo=decodeURIComponent(u[0]),s=u[2]);var l=Gb(n(s,"[","]"),2),h=l[0],v=l[1];return h!==""?(c.host=h,u=r(v,":")):(u=r(s,":"),c.host=u[0]),u[1]===":"&&(c.port=u[2]),c}var o={},a;return a=r(t,":"),a[1]===":"&&(o.scheme=decodeURIComponent(a[0]),t=a[2]),a=r(t,"#"),a[1]==="#"&&(o.fragment=decodeURIComponent(a[2]),t=a[0]),a=r(t,"?"),a[1]==="?"&&(o.query=a[2],t=a[0]),t.startsWith("//")?(a=r(t.substr(2),"/"),o=eu(eu({},o),i(a[0])),o.path=a[1]+a[2]):o.path=t,o}});var Sd=d(dr=>{"use strict";var VC=dr&&dr.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),HC=dr&&dr.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),zC=dr&&dr.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&VC(r,t,e);return HC(r,t),r};Object.defineProperty(dr,"__esModule",{value:!0});dr.ServerAddress=void 0;var wd=Le(),YC=zC(Ed()),GC=function(){function t(r,e,n,i){this._host=(0,wd.assertString)(r,"host"),this._resolved=e!=null?(0,wd.assertString)(e,"resolved"):null,this._port=(0,wd.assertNumber)(n,"port"),this._hostPort=i,this._stringValue=e!=null?"".concat(i,"(").concat(e,")"):"".concat(i)}return t.prototype.host=function(){return this._host},t.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},t.prototype.port=function(){return this._port},t.prototype.resolveWith=function(r){return new t(this._host,r,this._port,this._hostPort)},t.prototype.asHostPort=function(){return this._hostPort},t.prototype.asKey=function(){return this._hostPort},t.prototype.toString=function(){return this._stringValue},t.fromUrl=function(r){var e=YC.parseDatabaseUrl(r);return new t(e.host,null,e.port,e.hostAndPort)},t}();dr.ServerAddress=GC});var Qb=d(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var KC=function(){function t(){}return t.prototype.resolve=function(){throw new Error("Abstract function")},t.prototype._resolveToItself=function(r){return Promise.resolve([r])},t}();Pd.default=KC});var Cd=d(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});var ZC=Sd();function $C(t){return Promise.resolve([t])}var QC=function(){function t(r){this._resolverFunction=r??$C}return t.prototype.resolve=function(r){var e=this;return new Promise(function(n){return n(e._resolverFunction(r.asHostPort()))}).then(function(n){if(!Array.isArray(n))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(n));return n.map(function(i){return ZC.ServerAddress.fromUrl(i)})})},t}();Td.default=QC});var Jb=d(dt=>{"use strict";var Xb=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dt,"__esModule",{value:!0});dt.ConfiguredCustomResolver=dt.BaseHostNameResolver=void 0;var XC=Xb(Qb());dt.BaseHostNameResolver=XC.default;var JC=Xb(Cd());dt.ConfiguredCustomResolver=JC.default});var Id=d(B=>{"use strict";var eI=B&&B.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),rI=B&&B.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),xe=B&&B.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&eI(r,t,e);return rI(r,t),r};Object.defineProperty(B,"__esModule",{value:!0});B.objectUtil=B.resolver=B.serverAddress=B.urlUtil=B.logger=B.transactionExecutor=B.txConfig=B.connectionHolder=B.constants=B.bookmarks=B.observer=B.temporalUtil=B.util=void 0;var tI=xe(Le());B.util=tI;var nI=xe(sd());B.temporalUtil=nI;var iI=xe(Ka());B.observer=iI;var oI=xe(oi());B.bookmarks=oI;var aI=xe(Ao());B.constants=aI;var uI=xe(Za());B.connectionHolder=uI;var sI=xe($a());B.txConfig=sI;var cI=xe(md());B.transactionExecutor=cI;var lI=xe(Od());B.logger=lI;var fI=xe(Ed());B.urlUtil=fI;var dI=xe(Sd());B.serverAddress=dI;var hI=xe(Jb());B.resolver=hI;var vI=xe(od());B.objectUtil=vI});var ru=d(Ar=>{"use strict";var on=Ar&&Ar.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},an=Ar&&Ar.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pI=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ar,"__esModule",{value:!0});var _I=pI(pd()),ey=Id(),Uo=ke(),mI=ey.connectionHolder.EMPTY_CONNECTION_HOLDER,bI=function(t){console.log("Uncaught error when processing result: "+t)},yI=function(t){},gI=function(t){},OI=function(){function t(r,e,n,i,o){o===void 0&&(o={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this._stack=EI(),this._streamObserverPromise=r,this._p=null,this._query=e,this._parameters=n??{},this._connectionHolder=i??mI,this._keys=null,this._summary=null,this._error=null,this._watermarks=o}return t.prototype.keys=function(){var r=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(e,n){r._streamObserverPromise.then(function(i){return i.subscribe(r._decorateObserver({onKeys:function(o){return e(o)},onError:function(o){return n(o)}}))}).catch(n)})},t.prototype.summary=function(){var r=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(e,n){r._streamObserverPromise.then(function(i){i.cancel(),i.subscribe(r._decorateObserver({onCompleted:function(o){return e(o)},onError:function(o){return n(o)}}))}).catch(n)})},t.prototype._getOrCreatePromise=function(){var r=this;return this._p==null&&(this._p=new Promise(function(e,n){var i=[],o={onNext:function(a){i.push(a)},onCompleted:function(a){e({records:i,summary:a})},onError:function(a){n(a)}};r.subscribe(o)})),this._p},t.prototype[Symbol.asyncIterator]=function(){var r=this;if(!this.isOpen()){var e=(0,Uo.newError)("Result is already consumed");return{next:function(){return Promise.reject(e)},peek:function(){return Promise.reject(e)}}}var n={paused:!0,firstRun:!0,finished:!1},i=function(){var s,c;if(n.streaming!=null){var u=(c=(s=n.queuedObserver)===null||s===void 0?void 0:s.size)!==null&&c!==void 0?c:0,l=u>=r._watermarks.high,h=u<=r._watermarks.low;l&&!n.paused?(n.paused=!0,n.streaming.pause()):(h&&n.paused||n.firstRun&&!l)&&(n.firstRun=!1,n.paused=!1,n.streaming.resume())}},o=function(){return on(r,void 0,void 0,function(){var s;return an(this,function(c){switch(c.label){case 0:return n.queuedObserver!==void 0?[3,2]:(n.queuedObserver=this._createQueuedResultObserver(i),s=n,[4,this._subscribe(n.queuedObserver,!0).catch(function(){})]);case 1:s.streaming=c.sent(),i(),c.label=2;case 2:return[2,n.queuedObserver]}})})},a=function(s){if(s===void 0)throw(0,Uo.newError)("InvalidState: Result stream finished without Summary",Uo.PROTOCOL_ERROR);return!0};return{next:function(){return on(r,void 0,void 0,function(){var s,c;return an(this,function(u){switch(u.label){case 0:return n.finished&&a(n.summary)?[2,{done:!0,value:n.summary}]:[4,o()];case 1:return s=u.sent(),[4,s.dequeue()];case 2:return c=u.sent(),c.done===!0&&(n.finished=c.done,n.summary=c.value),[2,c]}})})},return:function(s){return on(r,void 0,void 0,function(){var c,u,l;return an(this,function(h){switch(h.label){case 0:return n.finished&&a(n.summary)?[2,{done:!0,value:s??n.summary}]:((l=n.streaming)===null||l===void 0||l.cancel(),[4,o()]);case 1:return c=h.sent(),[4,c.dequeueUntilDone()];case 2:return u=h.sent(),n.finished=!0,u.value=s??u.value,n.summary=u.value,[2,u]}})})},peek:function(){return on(r,void 0,void 0,function(){var s;return an(this,function(c){switch(c.label){case 0:return n.finished&&a(n.summary)?[2,{done:!0,value:n.summary}]:[4,o()];case 1:return s=c.sent(),[4,s.head()];case 2:return[2,c.sent()]}})})}}},t.prototype.then=function(r,e){return this._getOrCreatePromise().then(r,e)},t.prototype.catch=function(r){return this._getOrCreatePromise().catch(r)},t.prototype.finally=function(r){return this._getOrCreatePromise().finally(r)},t.prototype.subscribe=function(r){this._subscribe(r).catch(function(){})},t.prototype.isOpen=function(){return this._summary===null&&this._error===null},t.prototype._subscribe=function(r,e){e===void 0&&(e=!1);var n=this._decorateObserver(r);return this._streamObserverPromise.then(function(i){return e&&i.pause(),i.subscribe(n),i}).catch(function(i){return n.onError!=null&&n.onError(i),Promise.reject(i)})},t.prototype._decorateObserver=function(r){var e=this,n,i,o,a=(n=r.onCompleted)!==null&&n!==void 0?n:yI,s=(i=r.onError)!==null&&i!==void 0?i:bI,c=(o=r.onKeys)!==null&&o!==void 0?o:gI,u=function(v){e._releaseConnectionAndGetSummary(v).then(function(_){return e._summary!==null?a.call(r,e._summary):(e._summary=_,a.call(r,_))}).catch(s)},l=function(v){e._connectionHolder.releaseConnection().then(function(){wI(v,e._stack),e._error=v,s.call(r,v)}).catch(s)},h=function(v){return e._keys=v,c.call(r,v)};return{onNext:r.onNext!=null?r.onNext.bind(r):void 0,onKeys:h,onCompleted:u,onError:l}},t.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(r){return r.cancel()}).catch(function(){})},t.prototype._releaseConnectionAndGetSummary=function(r){var e=ey.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=e.validatedQuery,i=e.params,o=this._connectionHolder;return o.getConnection().then(function(a){return o.releaseConnection().then(function(){var s;return(s=a?.protocol())===null||s===void 0?void 0:s.version})},function(a){}).then(function(a){return new _I.default(n,i,r,a)})},t.prototype._createQueuedResultObserver=function(r){var e=this;function n(){var u={};return u.promise=new Promise(function(l,h){u.resolve=l,u.reject=h}),u}function i(u){return u instanceof Error}function o(){var u;return on(this,void 0,void 0,function(){var l;return an(this,function(h){switch(h.label){case 0:if(a.length>0){if(l=(u=a.shift())!==null&&u!==void 0?u:(0,Uo.newError)("Unexpected empty buffer",Uo.PROTOCOL_ERROR),r(),i(l))throw l;return[2,l]}return s.resolvable=n(),[4,s.resolvable.promise];case 1:return[2,h.sent()]}})})}var a=[],s={resolvable:null},c={onNext:function(u){c._push({done:!1,value:u})},onCompleted:function(u){c._push({done:!0,value:u})},onError:function(u){c._push(u)},_push:function(u){if(s.resolvable!==null){var l=s.resolvable;s.resolvable=null,i(u)?l.reject(u):l.resolve(u)}else a.push(u),r()},dequeue:o,dequeueUntilDone:function(){return on(e,void 0,void 0,function(){var u;return an(this,function(l){switch(l.label){case 0:return[4,o()];case 1:return u=l.sent(),u.done===!0?[2,u]:[3,0];case 2:return[2]}})})},head:function(){return on(e,void 0,void 0,function(){var u,u,l;return an(this,function(h){switch(h.label){case 0:if(a.length>0){if(u=a[0],i(u))throw u;return[2,u]}s.resolvable=n(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,s.resolvable.promise];case 2:return u=h.sent(),a.unshift(u),[2,u];case 3:throw l=h.sent(),a.unshift(l),l;case 4:return r(),[7];case 5:return[2]}})})},get size(){return a.length}};return c},t}();function EI(){var t=new Error("");return t.stack!=null?t.stack.replace(/^Error(\n\r)*/,""):null}function wI(t,r){r!=null&&(t.stack=t.toString()+`
`+r)}Ar.default=OI});var ry=d(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});var SI=function(){function t(){}return t.prototype.acquireConnection=function(r){throw Error("Not implemented")},t.prototype.supportsMultiDb=function(){throw Error("Not implemented")},t.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},t.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},t.prototype.verifyConnectivityAndGetServerInfo=function(r){throw Error("Not implemented")},t.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},t.prototype.close=function(){throw Error("Not implemented")},t}();qd.default=SI});var ty=d(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});var PI=function(){function t(){}return Object.defineProperty(t.prototype,"id",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return!1},t.prototype.protocol=function(){throw Error("Not implemented")},t.prototype.connect=function(r,e){throw Error("Not implemented")},t.prototype.write=function(r,e,n){throw Error("Not implemented")},t.prototype.resetAndFlush=function(){throw Error("Not implemented")},t.prototype.hasOngoingObservableRequests=function(){throw Error("Not implemented")},t.prototype.close=function(){throw Error("Not implemented")},t.prototype._release=function(){return Promise.resolve()},t}();jd.default=PI});var Rd=d(Mr=>{"use strict";var ny=Mr&&Mr.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},iy=Mr&&Mr.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},TI=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});var CI=Le(),xo=Za(),tu=oi(),II=$a(),rr=Ka(),tr=ke(),ay=TI(ru()),qI=function(){function t(r){var e=r.connectionHolder,n=r.onClose,i=r.onBookmarks,o=r.onConnection,a=r.reactive,s=r.fetchSize,c=r.impersonatedUser,u=r.highRecordWatermark,l=r.lowRecordWatermark,h=this;this._connectionHolder=e,this._reactive=a,this._state=nr.ACTIVE,this._onClose=n,this._onBookmarks=i,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._fetchSize=s,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=c,this._lowRecordWatermak=l,this._highRecordWatermark=u,this._bookmarks=tu.Bookmarks.empty(),this._acceptActive=function(){},this._activePromise=new Promise(function(v,_){h._acceptActive=v})}return t.prototype._begin=function(r,e,n){var i=this;this._connectionHolder.getConnection().then(function(o){return ny(i,void 0,void 0,function(){var a,s=this;return iy(this,function(c){switch(c.label){case 0:return this._onConnection(),o==null?[3,2]:(a=this,[4,r()]);case 1:return a._bookmarks=c.sent(),[2,o.protocol().beginTransaction({bookmarks:this._bookmarks,txConfig:e,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,beforeError:function(u){return n?.onError(u),s._onError(u)},afterComplete:function(u){return n?.onComplete(u),s._onComplete(u)}})];case 2:throw(0,tr.newError)("No connection available")}})})}).catch(function(o){n?.onError(o),i._onError(o).catch(function(){})}).finally(function(){return i._acceptActive()})},t.prototype.run=function(r,e){var n=(0,CI.validateQueryAndParameters)(r,e),i=n.validatedQuery,o=n.params,a=this._state.run(i,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(a),a},t.prototype.commit=function(){var r=this,e=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(n){return r._onCompleteCallback(n,r._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=e.state,this._onClose(),new Promise(function(n,i){e.result.subscribe({onCompleted:function(){return n()},onError:function(o){return i(o)}})})},t.prototype.rollback=function(){var r=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=r.state,this._onClose(),new Promise(function(e,n){r.result.subscribe({onCompleted:function(){return e()},onError:function(i){return n(i)}})})},t.prototype.isOpen=function(){return this._state===nr.ACTIVE},t.prototype.close=function(){return ny(this,void 0,void 0,function(){return iy(this,function(r){switch(r.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype._onErrorCallback=function(){return this._state=nr.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},t.prototype._onCompleteCallback=function(r,e){this._onBookmarks(new tu.Bookmarks(r?.bookmark),e??tu.Bookmarks.empty(),r?.db)},t}(),nr={ACTIVE:{commit:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete,i=t.onConnection,o=t.pendingResults,a=t.preparationJob;return{result:oy(!0,r,e,n,i,o,a),state:nr.SUCCEEDED}},rollback:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete,i=t.onConnection,o=t.pendingResults,a=t.preparationJob;return{result:oy(!1,r,e,n,i,o,a),state:nr.ROLLED_BACK}},run:function(t,r,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete,a=e.onConnection,s=e.reactive,c=e.fetchSize,u=e.highRecordWatermark,l=e.lowRecordWatermark,h=e.preparationJob,v=h??Promise.resolve(),_=n.getConnection().then(function(m){return v.then(function(){return m})}).then(function(m){if(a(),m!=null)return m.protocol().run(t,r,{bookmarks:tu.Bookmarks.empty(),txConfig:II.TxConfig.empty(),beforeError:i,afterComplete:o,reactive:s,fetchSize:c,highRecordWatermark:u,lowRecordWatermark:l});throw(0,tr.newError)("No connection available")}).catch(function(m){return new rr.FailedObserver({error:m,onError:i})});return hr(_,t,r,n,u,l)}},FAILED:{commit:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete;return{result:hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:e}),"COMMIT",{},r,0,0),state:nr.FAILED}},rollback:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete;return{result:hr(new rr.CompletedObserver,"ROLLBACK",{},r,0,0),state:nr.FAILED}},run:function(t,r,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete;return hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:i}),t,r,n,0,0)}},SUCCEEDED:{commit:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete;return{result:hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot commit this transaction, because it has already been committed."),onError:e}),"COMMIT",{},xo.EMPTY_CONNECTION_HOLDER,0,0),state:nr.SUCCEEDED,connectionHolder:r}},rollback:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete;return{result:hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot rollback this transaction, because it has already been committed."),onError:e}),"ROLLBACK",{},xo.EMPTY_CONNECTION_HOLDER,0,0),state:nr.SUCCEEDED,connectionHolder:r}},run:function(t,r,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete;return hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot run query in this transaction, because it has already been committed."),onError:i}),t,r,n,0,0)}},ROLLED_BACK:{commit:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete;return{result:hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:e}),"COMMIT",{},r,0,0),state:nr.ROLLED_BACK}},rollback:function(t){var r=t.connectionHolder,e=t.onError,n=t.onComplete;return{result:hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},r,0,0),state:nr.ROLLED_BACK}},run:function(t,r,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete;return hr(new rr.FailedObserver({error:(0,tr.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:i}),t,r,n,0,0)}}};function oy(t,r,e,n,i,o,a){var s=a??Promise.resolve(),c=r.getConnection().then(function(u){return s.then(function(){return u})}).then(function(u){return i(),o.forEach(function(l){return l._cancel()}),Promise.all(o.map(function(l){return l.summary()})).then(function(l){if(u!=null)return t?u.protocol().commitTransaction({beforeError:e,afterComplete:n}):u.protocol().rollbackTransaction({beforeError:e,afterComplete:n});throw(0,tr.newError)("No connection available")})}).catch(function(u){return new rr.FailedObserver({error:u,onError:e})});return new ay.default(c,t?"COMMIT":"ROLLBACK",{},r,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function hr(t,r,e,n,i,o){return n===void 0&&(n=xo.EMPTY_CONNECTION_HOLDER),new ay.default(Promise.resolve(t),r,e,new xo.ReadOnlyConnectionHolder(n??xo.EMPTY_CONNECTION_HOLDER),{low:o,high:i})}Mr.default=qI});var Md=d(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});var jI=function(){function t(r){var e=r.run;this._run=e}return t.fromTransaction=function(r){return new t({run:r.run.bind(r)})},t.prototype.run=function(r,e){return this._run(r,e)},t}();Ad.default=jI});var Nd=d(Nr=>{"use strict";var RI=Nr&&Nr.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nu=Nr&&Nr.__assign||function(){return nu=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},nu.apply(this,arguments)},AI=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},uy;Object.defineProperty(Nr,"__esModule",{value:!0});var MI=AI(Rd()),NI=function(t){RI(r,t);function r(e){var n=e.connectionHolder,i=e.onClose,o=e.onBookmarks,a=e.onConnection,s=e.reactive,c=e.fetchSize,u=e.impersonatedUser,l=e.highRecordWatermark,h=e.lowRecordWatermark,v=t.call(this,{connectionHolder:n,onClose:i,onBookmarks:o,onConnection:a,reactive:s,fetchSize:c,impersonatedUser:u,highRecordWatermark:l,lowRecordWatermark:h})||this;return v[uy]="TransactionPromise",v}return r.prototype.then=function(e,n){return this._getOrCreateBeginPromise().then(e,n)},r.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},r.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},r.prototype._getOrCreateBeginPromise=function(){var e=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(n,i){e._resolve=n,e._reject=i,e._beginError!=null&&i(e._beginError),e._beginMetadata!=null&&n(e._toTransaction())})),this._beginPromise},r.prototype._toTransaction=function(){return nu(nu({},this),{run:t.prototype.run.bind(this),commit:t.prototype.commit.bind(this),rollback:t.prototype.rollback.bind(this),close:t.prototype.close.bind(this),isOpen:t.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},r.prototype._begin=function(e,n){return t.prototype._begin.call(this,e,n,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},r.prototype._onBeginError=function(e){this._beginError=e,this._reject!=null&&this._reject(e)},r.prototype._onBeginMetadata=function(e){this._beginMetadata=e??{},this._resolve!=null&&this._resolve(this._toTransaction())},r}(MI.default);uy=Symbol.toStringTag;Nr.default=NI});var Ld=d(Fe=>{"use strict";var Fo=Fe&&Fe.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},Bo=Fe&&Fe.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},iu=Fe&&Fe.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},ou=Fe&&Fe.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))},Dd=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});var kd=Ka(),kI=Le(),ze=Ao(),kr=ke(),DI=Dd(ru()),sy=Za(),LI=md(),Wo=oi(),ht=$a(),UI=Dd(Nd()),xI=Dd(Md()),FI=function(){function t(r){var e=r.mode,n=r.connectionProvider,i=r.bookmarks,o=r.database,a=r.config,s=r.reactive,c=r.fetchSize,u=r.impersonatedUser,l=r.bookmarkManager;this._mode=e,this._database=o,this._reactive=s,this._fetchSize=c,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new sy.ConnectionHolder({mode:ze.ACCESS_MODE_READ,database:o,bookmarks:i,connectionProvider:n,impersonatedUser:u,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._writeConnectionHolder=new sy.ConnectionHolder({mode:ze.ACCESS_MODE_WRITE,database:o,bookmarks:i,connectionProvider:n,impersonatedUser:u,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._open=!0,this._hasTx=!1,this._impersonatedUser=u,this._lastBookmarks=i??Wo.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=BI(a),this._databaseNameResolved=this._database!=="";var h=this._calculateWatermaks();this._lowRecordWatermark=h.low,this._highRecordWatermark=h.high,this._results=[],this._bookmarkManager=l}return t.prototype.run=function(r,e,n){var i=this,o=(0,kI.validateQueryAndParameters)(r,e),a=o.validatedQuery,s=o.params,c=n!=null?new ht.TxConfig(n):ht.TxConfig.empty(),u=this._run(a,s,function(l){return Fo(i,void 0,void 0,function(){var h,v=this;return Bo(this,function(_){switch(_.label){case 0:return[4,this._bookmarks()];case 1:return h=_.sent(),this._assertSessionIsOpen(),[2,l.protocol().run(a,s,{bookmarks:h,txConfig:c,mode:this._mode,database:this._database,impersonatedUser:this._impersonatedUser,afterComplete:function(m){return v._onCompleteCallback(m,h)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark})]}})})});return this._results.push(u),u},t.prototype._run=function(r,e,n){var i=this._connectionHolderWithMode(this._mode),o;this._open?!this._hasTx&&i.initializeConnection()?o=i.getConnection().then(function(s){return n(s)}).catch(function(s){return Promise.resolve(new kd.FailedObserver({error:s}))}):o=Promise.resolve(new kd.FailedObserver({error:(0,kr.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):o=Promise.resolve(new kd.FailedObserver({error:(0,kr.newError)("Cannot run query in a closed session.")}));var a={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new DI.default(o,r,e,i,a)},t.prototype._acquireConnection=function(r){var e=this,n,i=this._connectionHolderWithMode(this._mode);return this._open?!this._hasTx&&i.initializeConnection()?n=i.getConnection().then(function(o){return r(o)}).then(function(o){return Fo(e,void 0,void 0,function(){return Bo(this,function(a){switch(a.label){case 0:return[4,i.releaseConnection()];case 1:return a.sent(),[2,o]}})})}):n=Promise.reject((0,kr.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):n=Promise.reject((0,kr.newError)("Cannot run query in a closed session.")),n},t.prototype.beginTransaction=function(r){var e=r,n=ht.TxConfig.empty();return e!=null&&(n=new ht.TxConfig(e)),this._beginTransaction(this._mode,n)},t.prototype._beginTransaction=function(r,e){var n=this;if(!this._open)throw(0,kr.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,kr.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var i=t._validateSessionMode(r),o=this._connectionHolderWithMode(i);o.initializeConnection(),this._hasTx=!0;var a=new UI.default({connectionHolder:o,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(s,c,u){return n._updateBookmarks(s,c,u)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark});return a._begin(function(){return n._bookmarks()},e),a},t.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,kr.newError)("You cannot run more transactions on a closed session.")},t.prototype._transactionClosed=function(){this._hasTx=!1},t.prototype.lastBookmark=function(){return this.lastBookmarks()},t.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},t.prototype._bookmarks=function(){var r;return Fo(this,void 0,void 0,function(){var e;return Bo(this,function(n){switch(n.label){case 0:return[4,(r=this._bookmarkManager)===null||r===void 0?void 0:r.getBookmarks()];case 1:return e=n.sent(),e===void 0?[2,this._lastBookmarks]:[2,new Wo.Bookmarks(ou(ou([],iu(e),!1),iu(this._configuredBookmarks),!1))]}})})},t.prototype.readTransaction=function(r,e){var n=new ht.TxConfig(e);return this._runTransaction(ze.ACCESS_MODE_READ,n,r)},t.prototype.writeTransaction=function(r,e){var n=new ht.TxConfig(e);return this._runTransaction(ze.ACCESS_MODE_WRITE,n,r)},t.prototype._runTransaction=function(r,e,n){var i=this;return this._transactionExecutor.execute(function(){return i._beginTransaction(r,e)},n)},t.prototype.executeRead=function(r,e){var n=new ht.TxConfig(e);return this._executeInTransaction(ze.ACCESS_MODE_READ,n,r)},t.prototype.executeWrite=function(r,e){var n=new ht.TxConfig(e);return this._executeInTransaction(ze.ACCESS_MODE_WRITE,n,r)},t.prototype._executeInTransaction=function(r,e,n){var i=this;return this._transactionExecutor.execute(function(){return i._beginTransaction(r,e)},n,xI.default.fromTransaction)},t.prototype._onDatabaseNameResolved=function(r){if(!this._databaseNameResolved){var e=r??"";this._database=e,this._readConnectionHolder.setDatabase(e),this._writeConnectionHolder.setDatabase(e),this._databaseNameResolved=!0}},t.prototype._getConnectionAcquistionBookmarks=function(){var r;return Fo(this,void 0,void 0,function(){var e;return Bo(this,function(n){switch(n.label){case 0:return[4,(r=this._bookmarkManager)===null||r===void 0?void 0:r.getBookmarks()];case 1:return e=n.sent(),e===void 0?[2,this._lastBookmarks]:[2,new Wo.Bookmarks(ou(ou([],iu(this._configuredBookmarks),!1),iu(e),!1))]}})})},t.prototype._updateBookmarks=function(r,e,n){var i,o,a;r!=null&&!r.isEmpty()&&((i=this._bookmarkManager)===null||i===void 0||i.updateBookmarks((o=e?.values())!==null&&o!==void 0?o:[],(a=r?.values())!==null&&a!==void 0?a:[]),this._lastBookmarks=r,this._configuredBookmarks=Wo.Bookmarks.empty())},t.prototype.close=function(){return Fo(this,void 0,void 0,function(){return Bo(this,function(r){switch(r.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(e){return e._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return r.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype._connectionHolderWithMode=function(r){if(r===ze.ACCESS_MODE_READ)return this._readConnectionHolder;if(r===ze.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,kr.newError)("Unknown access mode: "+r)},t.prototype._onCompleteCallback=function(r,e){this._updateBookmarks(new Wo.Bookmarks(r.bookmark),e,r.db)},t.prototype._calculateWatermaks=function(){return this._fetchSize===ze.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},t._validateSessionMode=function(r){var e=r??ze.ACCESS_MODE_WRITE;if(e!==ze.ACCESS_MODE_READ&&e!==ze.ACCESS_MODE_WRITE)throw(0,kr.newError)("Illegal session mode "+e);return e},t}();function BI(t){var r,e=(r=t?.maxTransactionRetryTime)!==null&&r!==void 0?r:null;return new LI.TransactionExecutor(e)}Fe.default=FI});var Bd=d(Be=>{"use strict";var fy=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.SessionConfig=Be.WRITE=Be.READ=Be.Driver=void 0;var cy=oi(),WI=fy(Cd()),un=Ao(),VI=Od(),ly=fy(Ld()),HI=Le(),zI=60*60*1e3,YI=1e3,xd=un.ACCESS_MODE_READ;Be.READ=xd;var Fd=un.ACCESS_MODE_WRITE;Be.WRITE=Fd;var GI=0,KI=function(){function t(){this.defaultAccessMode=Fd,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0}return t}();Be.SessionConfig=KI;var dy=function(){function t(r,e,n,i){e===void 0&&(e={}),i===void 0&&(i=function(a){return new ly.default(a)}),$I(e);var o=VI.Logger.create(e);ZI(e,o),this._id=GI++,this._meta=r,this._config=e,this._log=o,this._createConnectionProvider=n,this._createSession=i,this._connectionProvider=null,this._afterConstruction()}return t.prototype.verifyConnectivity=function(r){var e=r===void 0?{}:r,n=e.database,i=n===void 0?"":n,o=this._getOrCreateConnectionProvider();return o.verifyConnectivityAndGetServerInfo({database:i,accessMode:xd})},t.prototype.getServerInfo=function(r){var e=r===void 0?{}:r,n=e.database,i=n===void 0?"":n,o=this._getOrCreateConnectionProvider();return o.verifyConnectivityAndGetServerInfo({database:i,accessMode:xd})},t.prototype.supportsMultiDb=function(){var r=this._getOrCreateConnectionProvider();return r.supportsMultiDb()},t.prototype.supportsTransactionConfig=function(){var r=this._getOrCreateConnectionProvider();return r.supportsTransactionConfig()},t.prototype.supportsUserImpersonation=function(){var r=this._getOrCreateConnectionProvider();return r.supportsUserImpersonation()},t.prototype.getNegotiatedProtocolVersion=function(){var r=this._getOrCreateConnectionProvider();return r.getNegotiatedProtocolVersion()},t.prototype.isEncrypted=function(){return this._isEncrypted()},t.prototype._supportsRouting=function(){return this._meta.routing},t.prototype._isEncrypted=function(){return this._config.encrypted===HI.ENCRYPTION_ON||this._config.encrypted===!0},t.prototype._getTrust=function(){return this._config.trust},t.prototype.session=function(r){var e=r===void 0?{}:r,n=e.defaultAccessMode,i=n===void 0?Fd:n,o=e.bookmarks,a=e.database,s=a===void 0?"":a,c=e.impersonatedUser,u=e.fetchSize,l=e.bookmarkManager;return this._newSession({defaultAccessMode:i,bookmarkOrBookmarks:o,database:s,reactive:!1,impersonatedUser:c,fetchSize:hy(u,this._config.fetchSize),bookmarkManager:l})},t.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},t.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},t.prototype._newSession=function(r){var e=r.defaultAccessMode,n=r.bookmarkOrBookmarks,i=r.database,o=r.reactive,a=r.impersonatedUser,s=r.fetchSize,c=r.bookmarkManager,u=ly.default._validateSessionMode(e),l=this._getOrCreateConnectionProvider(),h=n!=null?new cy.Bookmarks(n):cy.Bookmarks.empty();return this._createSession({mode:u,database:i??"",connectionProvider:l,bookmarks:h,config:this._config,reactive:o,impersonatedUser:a,fetchSize:s,bookmarkManager:c})},t.prototype._getOrCreateConnectionProvider=function(){return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,XI(this._config))),this._connectionProvider},t}();Be.Driver=dy;function ZI(t,r){var e=t.resolver;if(e!=null&&typeof e!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof e));return t.connectionAcquisitionTimeout<t.connectionTimeout&&r.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),t}function $I(t){t.maxConnectionLifetime=Ud(t.maxConnectionLifetime,zI),t.maxConnectionPoolSize=Ud(t.maxConnectionPoolSize,un.DEFAULT_POOL_MAX_SIZE),t.connectionAcquisitionTimeout=Ud(t.connectionAcquisitionTimeout,un.DEFAULT_POOL_ACQUISITION_TIMEOUT),t.fetchSize=hy(t.fetchSize,YI),t.connectionTimeout=QI(t)}function Ud(t,r){var e=parseInt(t,10);return e>0||e===0?e:e<0?Number.MAX_SAFE_INTEGER:r}function hy(t,r){var e=parseInt(t,10);if(e>0||e===un.FETCH_ALL)return e;if(e===0||e<0)throw new Error("The fetch size can only be a positive value or ".concat(un.FETCH_ALL," for ALL. However fetchSize = ").concat(e));return r}function QI(t){var r=parseInt(t.connectionTimeout,10);return r===0||!isNaN(r)&&r<0?null:isNaN(r)?un.DEFAULT_CONNECTION_TIMEOUT_MILLIS:r}function XI(t){return new WI.default(t.resolver)}Be.default=dy});var vy=d(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});var JI={basic:function(t,r,e){return e!=null?{scheme:"basic",principal:t,credentials:r,realm:e}:{scheme:"basic",principal:t,credentials:r}},kerberos:function(t){return{scheme:"kerberos",principal:"",credentials:t}},bearer:function(t){return{scheme:"bearer",credentials:t}},custom:function(t,r,e,n,i){var o={scheme:n,principal:t};return Wd(r)&&(o.credentials=r),Wd(e)&&(o.realm=e),Wd(i)&&(o.parameters=i),o}};function Wd(t){return!(t==null||t===""||Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length===0)}Vd.default=JI});var my=d(we=>{"use strict";var au=we&&we.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},uu=we&&we.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hd=we&&we.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},py=we&&we.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},_y=we&&we.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(we,"__esModule",{value:!0});we.bookmarkManager=void 0;var eq=function(){function t(){throw new Error("Not implemented")}return t.prototype.updateBookmarks=function(r,e){return au(this,void 0,void 0,function(){return uu(this,function(n){throw new Error("Not implemented")})})},t.prototype.getBookmarks=function(){return au(this,void 0,void 0,function(){return uu(this,function(r){throw new Error("Not implemented")})})},t}();we.default=eq;function rq(t){t===void 0&&(t={});var r=new Set(t.initialBookmarks);return new tq(r,t.bookmarksSupplier,t.bookmarksConsumer)}we.bookmarkManager=rq;var tq=function(){function t(r,e,n){this._bookmarks=r,this._bookmarksSupplier=e,this._bookmarksConsumer=n}return t.prototype.updateBookmarks=function(r,e){return au(this,void 0,void 0,function(){var n,i,o,c,a,s,c,u,l,h,v;return uu(this,function(_){switch(_.label){case 0:n=this._bookmarks;try{for(i=Hd(r),o=i.next();!o.done;o=i.next())c=o.value,n.delete(c)}catch(m){u={error:m}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}try{for(a=Hd(e),s=a.next();!s.done;s=a.next())c=s.value,n.add(c)}catch(m){h={error:m}}finally{try{s&&!s.done&&(v=a.return)&&v.call(a)}finally{if(h)throw h.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(_y([],py(n),!1))];case 1:_.sent(),_.label=2;case 2:return[2]}})})},t.prototype.getBookmarks=function(){var r;return au(this,void 0,void 0,function(){var e,n,i,o,a,s,c;return uu(this,function(u){switch(u.label){case 0:return e=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:n=(r=u.sent())!==null&&r!==void 0?r:[];try{for(i=Hd(n),o=i.next();!o.done;o=i.next())a=o.value,e.add(a)}catch(l){s={error:l}}finally{try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(s)throw s.error}}u.label=2;case 2:return[2,_y([],py(e),!1)]}})})},t}()});var yy=d(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0})});var D=d(b=>{"use strict";var nq=b&&b.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),iq=b&&b.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),sn=b&&b.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&nq(r,t,e);return iq(r,t),r},Lr=b&&b.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(b,"__esModule",{value:!0});b.TransactionPromise=b.ManagedTransaction=b.Transaction=b.Connection=b.ConnectionProvider=b.Result=b.Stats=b.QueryStatistics=b.ProfiledPlan=b.Plan=b.Notification=b.ServerInfo=b.queryType=b.ResultSummary=b.Record=b.isPathSegment=b.PathSegment=b.isPath=b.Path=b.isUnboundRelationship=b.UnboundRelationship=b.isRelationship=b.Relationship=b.isNode=b.Node=b.Time=b.LocalTime=b.LocalDateTime=b.isTime=b.isLocalTime=b.isLocalDateTime=b.isDuration=b.isDateTime=b.isDate=b.Duration=b.DateTime=b.Date=b.Point=b.isPoint=b.internal=b.toString=b.toNumber=b.inSafeRange=b.isInt=b.int=b.Integer=b.error=b.isRetriableError=b.Neo4jError=b.newError=void 0;b.bookmarkManager=b.auth=b.json=b.driver=b.types=b.Driver=b.Session=void 0;var Dr=ke();Object.defineProperty(b,"newError",{enumerable:!0,get:function(){return Dr.newError}});Object.defineProperty(b,"Neo4jError",{enumerable:!0,get:function(){return Dr.Neo4jError}});Object.defineProperty(b,"isRetriableError",{enumerable:!0,get:function(){return Dr.isRetriableError}});var Ye=sn(Xt());b.Integer=Ye.default;Object.defineProperty(b,"int",{enumerable:!0,get:function(){return Ye.int}});Object.defineProperty(b,"isInt",{enumerable:!0,get:function(){return Ye.isInt}});Object.defineProperty(b,"inSafeRange",{enumerable:!0,get:function(){return Ye.inSafeRange}});Object.defineProperty(b,"toNumber",{enumerable:!0,get:function(){return Ye.toNumber}});Object.defineProperty(b,"toString",{enumerable:!0,get:function(){return Ye.toString}});var Z=_b();Object.defineProperty(b,"Date",{enumerable:!0,get:function(){return Z.Date}});Object.defineProperty(b,"DateTime",{enumerable:!0,get:function(){return Z.DateTime}});Object.defineProperty(b,"Duration",{enumerable:!0,get:function(){return Z.Duration}});Object.defineProperty(b,"isDate",{enumerable:!0,get:function(){return Z.isDate}});Object.defineProperty(b,"isDateTime",{enumerable:!0,get:function(){return Z.isDateTime}});Object.defineProperty(b,"isDuration",{enumerable:!0,get:function(){return Z.isDuration}});Object.defineProperty(b,"isLocalDateTime",{enumerable:!0,get:function(){return Z.isLocalDateTime}});Object.defineProperty(b,"isLocalTime",{enumerable:!0,get:function(){return Z.isLocalTime}});Object.defineProperty(b,"isTime",{enumerable:!0,get:function(){return Z.isTime}});Object.defineProperty(b,"LocalDateTime",{enumerable:!0,get:function(){return Z.LocalDateTime}});Object.defineProperty(b,"LocalTime",{enumerable:!0,get:function(){return Z.LocalTime}});Object.defineProperty(b,"Time",{enumerable:!0,get:function(){return Z.Time}});var ie=Tb();Object.defineProperty(b,"Node",{enumerable:!0,get:function(){return ie.Node}});Object.defineProperty(b,"isNode",{enumerable:!0,get:function(){return ie.isNode}});Object.defineProperty(b,"Relationship",{enumerable:!0,get:function(){return ie.Relationship}});Object.defineProperty(b,"isRelationship",{enumerable:!0,get:function(){return ie.isRelationship}});Object.defineProperty(b,"UnboundRelationship",{enumerable:!0,get:function(){return ie.UnboundRelationship}});Object.defineProperty(b,"isUnboundRelationship",{enumerable:!0,get:function(){return ie.isUnboundRelationship}});Object.defineProperty(b,"Path",{enumerable:!0,get:function(){return ie.Path}});Object.defineProperty(b,"isPath",{enumerable:!0,get:function(){return ie.isPath}});Object.defineProperty(b,"PathSegment",{enumerable:!0,get:function(){return ie.PathSegment}});Object.defineProperty(b,"isPathSegment",{enumerable:!0,get:function(){return ie.isPathSegment}});var gy=Lr(Ib());b.Record=gy.default;var su=Rb();Object.defineProperty(b,"isPoint",{enumerable:!0,get:function(){return su.isPoint}});Object.defineProperty(b,"Point",{enumerable:!0,get:function(){return su.Point}});var pe=sn(pd());b.ResultSummary=pe.default;Object.defineProperty(b,"queryType",{enumerable:!0,get:function(){return pe.queryType}});Object.defineProperty(b,"ServerInfo",{enumerable:!0,get:function(){return pe.ServerInfo}});Object.defineProperty(b,"Notification",{enumerable:!0,get:function(){return pe.Notification}});Object.defineProperty(b,"Plan",{enumerable:!0,get:function(){return pe.Plan}});Object.defineProperty(b,"ProfiledPlan",{enumerable:!0,get:function(){return pe.ProfiledPlan}});Object.defineProperty(b,"QueryStatistics",{enumerable:!0,get:function(){return pe.QueryStatistics}});Object.defineProperty(b,"Stats",{enumerable:!0,get:function(){return pe.Stats}});var Oy=Lr(ru());b.Result=Oy.default;var oq=Lr(ry());b.ConnectionProvider=oq.default;var Ey=Lr(ty());b.Connection=Ey.default;var wy=Lr(Rd());b.Transaction=wy.default;var Sy=Lr(Md());b.ManagedTransaction=Sy.default;var Py=Lr(Nd());b.TransactionPromise=Py.default;var Ty=Lr(Ld());b.Session=Ty.default;var zd=sn(Bd()),Cy=zd;b.Driver=zd.default;b.driver=Cy;var Iy=Lr(vy());b.auth=Iy.default;var qy=sn(my());Object.defineProperty(b,"bookmarkManager",{enumerable:!0,get:function(){return qy.bookmarkManager}});var T7=Bd(),jy=sn(yy());b.types=jy;var Ry=sn(Ha());b.json=Ry;var Ay=sn(Id());b.internal=Ay;var My={SERVICE_UNAVAILABLE:Dr.SERVICE_UNAVAILABLE,SESSION_EXPIRED:Dr.SESSION_EXPIRED,PROTOCOL_ERROR:Dr.PROTOCOL_ERROR};b.error=My;var aq={newError:Dr.newError,Neo4jError:Dr.Neo4jError,isRetriableError:Dr.isRetriableError,error:My,Integer:Ye.default,int:Ye.int,isInt:Ye.isInt,inSafeRange:Ye.inSafeRange,toNumber:Ye.toNumber,toString:Ye.toString,internal:Ay,isPoint:su.isPoint,Point:su.Point,Date:Z.Date,DateTime:Z.DateTime,Duration:Z.Duration,isDate:Z.isDate,isDateTime:Z.isDateTime,isDuration:Z.isDuration,isLocalDateTime:Z.isLocalDateTime,isLocalTime:Z.isLocalTime,isTime:Z.isTime,LocalDateTime:Z.LocalDateTime,LocalTime:Z.LocalTime,Time:Z.Time,Node:ie.Node,isNode:ie.isNode,Relationship:ie.Relationship,isRelationship:ie.isRelationship,UnboundRelationship:ie.UnboundRelationship,isUnboundRelationship:ie.isUnboundRelationship,Path:ie.Path,isPath:ie.isPath,PathSegment:ie.PathSegment,isPathSegment:ie.isPathSegment,Record:gy.default,ResultSummary:pe.default,queryType:pe.queryType,ServerInfo:pe.ServerInfo,Notification:pe.Notification,Plan:pe.Plan,ProfiledPlan:pe.ProfiledPlan,QueryStatistics:pe.QueryStatistics,Stats:pe.Stats,Result:Oy.default,Transaction:wy.default,ManagedTransaction:Sy.default,TransactionPromise:Py.default,Session:Ty.default,Driver:zd.default,Connection:Ey.default,types:jy,driver:Cy,json:Ry,auth:Iy.default,bookmarkManager:qy.bookmarkManager};b.default=aq});var V=d(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.isFunction=void 0;function uq(t){return typeof t=="function"}cu.isFunction=uq});var vt=d(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.createErrorClass=void 0;function sq(t){var r=function(n){Error.call(n),n.stack=new Error().stack},e=t(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}lu.createErrorClass=sq});var Yd=d(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.UnsubscriptionError=void 0;var cq=vt();fu.UnsubscriptionError=cq.createErrorClass(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}})});var Ur=d(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.arrRemove=void 0;function lq(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}du.arrRemove=lq});var We=d(qe=>{"use strict";var Ny=qe&&qe.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ky=qe&&qe.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Dy=qe&&qe.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(qe,"__esModule",{value:!0});qe.isSubscription=qe.EMPTY_SUBSCRIPTION=qe.Subscription=void 0;var Vo=V(),Gd=Yd(),Ly=Ur(),Kd=function(){function t(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var r,e,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ny(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}else a.remove(this);var l=this.initialTeardown;if(Vo.isFunction(l))try{l()}catch(g){o=g instanceof Gd.UnsubscriptionError?g.errors:[g]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var v=Ny(h),_=v.next();!_.done;_=v.next()){var m=_.value;try{Uy(m)}catch(g){o=o??[],g instanceof Gd.UnsubscriptionError?o=Dy(Dy([],ky(o)),ky(g.errors)):o.push(g)}}}catch(g){n={error:g}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new Gd.UnsubscriptionError(o)}},t.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)Uy(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},t.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},t.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},t.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&Ly.arrRemove(e,r)},t.prototype.remove=function(r){var e=this._finalizers;e&&Ly.arrRemove(e,r),r instanceof t&&r._removeParent(this)},t.EMPTY=function(){var r=new t;return r.closed=!0,r}(),t}();qe.Subscription=Kd;qe.EMPTY_SUBSCRIPTION=Kd.EMPTY;function fq(t){return t instanceof Kd||t&&"closed"in t&&Vo.isFunction(t.remove)&&Vo.isFunction(t.add)&&Vo.isFunction(t.unsubscribe)}qe.isSubscription=fq;function Uy(t){Vo.isFunction(t)?t():t.unsubscribe()}});var si=d(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.config=void 0;hu.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Zd=d(vr=>{"use strict";var xy=vr&&vr.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Fy=vr&&vr.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(vr,"__esModule",{value:!0});vr.timeoutProvider=void 0;vr.timeoutProvider={setTimeout:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=vr.timeoutProvider.delegate;return i?.setTimeout?i.setTimeout.apply(i,Fy([t,r],xy(e))):setTimeout.apply(void 0,Fy([t,r],xy(e)))},clearTimeout:function(t){var r=vr.timeoutProvider.delegate;return(r?.clearTimeout||clearTimeout)(t)},delegate:void 0}});var $d=d(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.reportUnhandledError=void 0;var dq=si(),hq=Zd();function vq(t){hq.timeoutProvider.setTimeout(function(){var r=dq.config.onUnhandledError;if(r)r(t);else throw t})}vu.reportUnhandledError=vq});var se=d(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.noop=void 0;function pq(){}pu.noop=pq});var By=d(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.createNotification=pr.nextNotification=pr.errorNotification=pr.COMPLETE_NOTIFICATION=void 0;pr.COMPLETE_NOTIFICATION=function(){return _u("C",void 0,void 0)}();function _q(t){return _u("E",void 0,t)}pr.errorNotification=_q;function mq(t){return _u("N",t,void 0)}pr.nextNotification=mq;function _u(t,r,e){return{kind:t,value:r,error:e}}pr.createNotification=_u});var mu=d(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.captureError=ci.errorContext=void 0;var Wy=si(),cn=null;function bq(t){if(Wy.config.useDeprecatedSynchronousErrorHandling){var r=!cn;if(r&&(cn={errorThrown:!1,error:null}),t(),r){var e=cn,n=e.errorThrown,i=e.error;if(cn=null,n)throw i}}else t()}ci.errorContext=bq;function yq(t){Wy.config.useDeprecatedSynchronousErrorHandling&&cn&&(cn.errorThrown=!0,cn.error=t)}ci.captureError=yq});var li=d(ir=>{"use strict";var zy=ir&&ir.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ir,"__esModule",{value:!0});ir.EMPTY_OBSERVER=ir.SafeSubscriber=ir.Subscriber=void 0;var gq=V(),Vy=We(),eh=si(),Oq=$d(),Hy=se(),Qd=By(),Eq=Zd(),wq=mu(),Yy=function(t){zy(r,t);function r(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Vy.isSubscription(e)&&e.add(n)):n.destination=ir.EMPTY_OBSERVER,n}return r.create=function(e,n,i){return new Gy(e,n,i)},r.prototype.next=function(e){this.isStopped?Jd(Qd.nextNotification(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?Jd(Qd.errorNotification(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?Jd(Qd.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(Vy.Subscription);ir.Subscriber=Yy;var Sq=Function.prototype.bind;function Xd(t,r){return Sq.call(t,r)}var Pq=function(){function t(r){this.partialObserver=r}return t.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(n){bu(n)}},t.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(n){bu(n)}else bu(r)},t.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){bu(e)}},t}(),Gy=function(t){zy(r,t);function r(e,n,i){var o=t.call(this)||this,a;if(gq.isFunction(e)||!e)a={next:e??void 0,error:n??void 0,complete:i??void 0};else{var s;o&&eh.config.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&Xd(e.next,s),error:e.error&&Xd(e.error,s),complete:e.complete&&Xd(e.complete,s)}):a=e}return o.destination=new Pq(a),o}return r}(Yy);ir.SafeSubscriber=Gy;function bu(t){eh.config.useDeprecatedSynchronousErrorHandling?wq.captureError(t):Oq.reportUnhandledError(t)}function Tq(t){throw t}function Jd(t,r){var e=eh.config.onStoppedNotification;e&&Eq.timeoutProvider.setTimeout(function(){return e(t,r)})}ir.EMPTY_OBSERVER={closed:!0,next:Hy.noop,error:Tq,complete:Hy.noop}});var Ho=d(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.observable=void 0;yu.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var ce=d(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.identity=void 0;function Cq(t){return t}gu.identity=Cq});var zo=d(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.pipeFromArray=fi.pipe=void 0;var Iq=ce();function qq(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ky(t)}fi.pipe=qq;function Ky(t){return t.length===0?Iq.identity:t.length===1?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}fi.pipeFromArray=Ky});var z=d(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.Observable=void 0;var th=li(),jq=We(),Rq=Ho(),Aq=zo(),Mq=si(),rh=V(),Nq=mu(),kq=function(){function t(r){r&&(this._subscribe=r)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(r,e,n){var i=this,o=Lq(r)?r:new th.SafeSubscriber(r,e,n);return Nq.errorContext(function(){var a=i,s=a.operator,c=a.source;o.add(s?s.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},t.prototype.forEach=function(r,e){var n=this;return e=Zy(e),new e(function(i,o){var a=new th.SafeSubscriber({next:function(s){try{r(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},t.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},t.prototype[Rq.observable]=function(){return this},t.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Aq.pipeFromArray(r)(this)},t.prototype.toPromise=function(r){var e=this;return r=Zy(r),new r(function(n,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(r){return new t(r)},t}();Ou.Observable=kq;function Zy(t){var r;return(r=t??Mq.config.Promise)!==null&&r!==void 0?r:Promise}function Dq(t){return t&&rh.isFunction(t.next)&&rh.isFunction(t.error)&&rh.isFunction(t.complete)}function Lq(t){return t&&t instanceof th.Subscriber||Dq(t)&&jq.isSubscription(t)}});var C=d(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.operate=di.hasLift=void 0;var Uq=V();function $y(t){return Uq.isFunction(t?.lift)}di.hasLift=$y;function xq(t){return function(r){if($y(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}di.operate=xq});var j=d(pt=>{"use strict";var Fq=pt&&pt.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(pt,"__esModule",{value:!0});pt.OperatorSubscriber=pt.createOperatorSubscriber=void 0;var Bq=li();function Wq(t,r,e,n,i){return new Qy(t,r,e,n,i)}pt.createOperatorSubscriber=Wq;var Qy=function(t){Fq(r,t);function r(e,n,i,o,a,s){var c=t.call(this,e)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(l){e.error(l)}}:t.prototype._next,c._error=o?function(u){try{o(u)}catch(l){e.error(l)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(u){e.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return r.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},r}(Bq.Subscriber);pt.OperatorSubscriber=Qy});var wu=d(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.refCount=void 0;var Vq=C(),Hq=j();function zq(){return Vq.operate(function(t,r){var e=null;t._refCount++;var n=Hq.createOperatorSubscriber(r,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){e=null;return}var i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),r.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}Eu.refCount=zq});var Yo=d(hi=>{"use strict";var Yq=hi&&hi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(hi,"__esModule",{value:!0});hi.ConnectableObservable=void 0;var Gq=z(),Xy=We(),Kq=wu(),Zq=j(),$q=C(),Qq=function(t){Yq(r,t);function r(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,$q.hasLift(e)&&(i.lift=e.lift),i}return r.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},r.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,e?.unsubscribe()},r.prototype.connect=function(){var e=this,n=this._connection;if(!n){n=this._connection=new Xy.Subscription;var i=this.getSubject();n.add(this.source.subscribe(Zq.createOperatorSubscriber(i,void 0,function(){e._teardown(),i.complete()},function(o){e._teardown(),i.error(o)},function(){return e._teardown()}))),n.closed&&(this._connection=null,n=Xy.Subscription.EMPTY)}return n},r.prototype.refCount=function(){return Kq.refCount()(this)},r}(Gq.Observable);hi.ConnectableObservable=Qq});var Jy=d(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.performanceTimestampProvider=void 0;Go.performanceTimestampProvider={now:function(){return(Go.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var nh=d(or=>{"use strict";var eg=or&&or.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},rg=or&&or.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(or,"__esModule",{value:!0});or.animationFrameProvider=void 0;var Xq=We();or.animationFrameProvider={schedule:function(t){var r=requestAnimationFrame,e=cancelAnimationFrame,n=or.animationFrameProvider.delegate;n&&(r=n.requestAnimationFrame,e=n.cancelAnimationFrame);var i=r(function(o){e=void 0,t(o)});return new Xq.Subscription(function(){return e?.(i)})},requestAnimationFrame:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=or.animationFrameProvider.delegate;return(e?.requestAnimationFrame||requestAnimationFrame).apply(void 0,rg([],eg(t)))},cancelAnimationFrame:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=or.animationFrameProvider.delegate;return(e?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,rg([],eg(t)))},delegate:void 0}});var ig=d(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.animationFrames=void 0;var Jq=z(),ej=Jy(),tg=nh();function rj(t){return t?ng(t):tj}Su.animationFrames=rj;function ng(t){return new Jq.Observable(function(r){var e=t||ej.performanceTimestampProvider,n=e.now(),i=0,o=function(){r.closed||(i=tg.animationFrameProvider.requestAnimationFrame(function(a){i=0;var s=e.now();r.next({timestamp:t?s:a,elapsed:s-n}),o()}))};return o(),function(){i&&tg.animationFrameProvider.cancelAnimationFrame(i)}})}var tj=ng()});var ih=d(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.ObjectUnsubscribedError=void 0;var nj=vt();Pu.ObjectUnsubscribedError=nj.createErrorClass(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var le=d(_r=>{"use strict";var ag=_r&&_r.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ij=_r&&_r.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(_r,"__esModule",{value:!0});_r.AnonymousSubject=_r.Subject=void 0;var og=z(),ah=We(),oj=ih(),aj=Ur(),oh=mu(),ug=function(t){ag(r,t);function r(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.prototype.lift=function(e){var n=new uh(this,this);return n.operator=e,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new oj.ObjectUnsubscribedError},r.prototype.next=function(e){var n=this;oh.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=ij(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(e)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},r.prototype.error=function(e){var n=this;oh.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=e;for(var i=n.observers;i.length;)i.shift().error(e)}})},r.prototype.complete=function(){var e=this;oh.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var n=e.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?ah.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(e),new ah.Subscription(function(){n.currentObservers=null,aj.arrRemove(s,e)}))},r.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?e.error(o):a&&e.complete()},r.prototype.asObservable=function(){var e=new og.Observable;return e.source=this,e},r.create=function(e,n){return new uh(e,n)},r}(og.Observable);_r.Subject=ug;var uh=function(t){ag(r,t);function r(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return r.prototype.next=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)},r.prototype.error=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)},r.prototype.complete=function(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)},r.prototype._subscribe=function(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:ah.EMPTY_SUBSCRIPTION},r}(ug);_r.AnonymousSubject=uh});var sh=d(vi=>{"use strict";var uj=vi&&vi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(vi,"__esModule",{value:!0});vi.BehaviorSubject=void 0;var sj=le(),cj=function(t){uj(r,t);function r(e){var n=t.call(this)||this;return n._value=e,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},r.prototype.getValue=function(){var e=this,n=e.hasError,i=e.thrownError,o=e._value;if(n)throw i;return this._throwIfClosed(),o},r.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},r}(sj.Subject);vi.BehaviorSubject=cj});var Tu=d(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.dateTimestampProvider=void 0;Ko.dateTimestampProvider={now:function(){return(Ko.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var Cu=d(pi=>{"use strict";var lj=pi&&pi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(pi,"__esModule",{value:!0});pi.ReplaySubject=void 0;var fj=le(),dj=Tu(),hj=function(t){lj(r,t);function r(e,n,i){e===void 0&&(e=1/0),n===void 0&&(n=1/0),i===void 0&&(i=dj.dateTimestampProvider);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return r.prototype.next=function(e){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,c=n._windowTime;i||(o.push(e),!a&&o.push(s.now()+c)),this._trimBuffer(),t.prototype.next.call(this,e)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(e),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),c=0;c<s.length&&!e.closed;c+=o?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),n},r.prototype._trimBuffer=function(){var e=this,n=e._bufferSize,i=e._timestampProvider,o=e._buffer,a=e._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var c=i.now(),u=0,l=1;l<o.length&&o[l]<=c;l+=2)u=l;u&&o.splice(0,u+1)}},r}(fj.Subject);pi.ReplaySubject=hj});var Iu=d(_i=>{"use strict";var vj=_i&&_i.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(_i,"__esModule",{value:!0});_i.AsyncSubject=void 0;var pj=le(),_j=function(t){vj(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return r.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,c=n.isStopped,u=n._isComplete;i?e.error(s):(c||u)&&(o&&e.next(a),e.complete())},r.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},r.prototype.complete=function(){var e=this,n=e._hasValue,i=e._value,o=e._isComplete;o||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},r}(pj.Subject);_i.AsyncSubject=_j});var sg=d(mi=>{"use strict";var mj=mi&&mi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(mi,"__esModule",{value:!0});mi.Action=void 0;var bj=We(),yj=function(t){mj(r,t);function r(e,n){return t.call(this)||this}return r.prototype.schedule=function(e,n){return n===void 0&&(n=0),this},r}(bj.Subscription);mi.Action=yj});var fg=d(mr=>{"use strict";var cg=mr&&mr.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},lg=mr&&mr.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(mr,"__esModule",{value:!0});mr.intervalProvider=void 0;mr.intervalProvider={setInterval:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=mr.intervalProvider.delegate;return i?.setInterval?i.setInterval.apply(i,lg([t,r],cg(e))):setInterval.apply(void 0,lg([t,r],cg(e)))},clearInterval:function(t){var r=mr.intervalProvider.delegate;return(r?.clearInterval||clearInterval)(t)},delegate:void 0}});var yi=d(bi=>{"use strict";var gj=bi&&bi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(bi,"__esModule",{value:!0});bi.AsyncAction=void 0;var Oj=sg(),dg=fg(),Ej=Ur(),wj=function(t){gj(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return r.prototype.schedule=function(e,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=e;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),dg.intervalProvider.setInterval(e.flush.bind(e,this),i)},r.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&dg.intervalProvider.clearInterval(n)},r.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,n){var i=!1,o;try{this.work(e)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,i=e.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ej.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},r}(Oj.Action);bi.AsyncAction=wj});var vg=d(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.TestTools=gi.Immediate=void 0;var Sj=1,ch,qu={};function hg(t){return t in qu?(delete qu[t],!0):!1}gi.Immediate={setImmediate:function(t){var r=Sj++;return qu[r]=!0,ch||(ch=Promise.resolve()),ch.then(function(){return hg(r)&&t()}),r},clearImmediate:function(t){hg(t)}};gi.TestTools={pending:function(){return Object.keys(qu).length}}});var _g=d(br=>{"use strict";var Pj=br&&br.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Tj=br&&br.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(br,"__esModule",{value:!0});br.immediateProvider=void 0;var pg=vg(),Cj=pg.Immediate.setImmediate,Ij=pg.Immediate.clearImmediate;br.immediateProvider={setImmediate:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=br.immediateProvider.delegate;return(e?.setImmediate||Cj).apply(void 0,Tj([],Pj(t)))},clearImmediate:function(t){var r=br.immediateProvider.delegate;return(r?.clearImmediate||Ij)(t)},delegate:void 0}});var bg=d(Oi=>{"use strict";var qj=Oi&&Oi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.AsapAction=void 0;var jj=yi(),mg=_g(),Rj=function(t){qj(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=mg.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},r.prototype.recycleAsyncId=function(e,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);var a=e.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(mg.immediateProvider.clearImmediate(n),e._scheduled=void 0)},r}(jj.AsyncAction);Oi.AsapAction=Rj});var lh=d(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.Scheduler=void 0;var Aj=Tu(),Mj=function(){function t(r,e){e===void 0&&(e=t.now),this.schedulerActionCtor=r,this.now=e}return t.prototype.schedule=function(r,e,n){return e===void 0&&(e=0),new this.schedulerActionCtor(this,r).schedule(n,e)},t.now=Aj.dateTimestampProvider.now,t}();ju.Scheduler=Mj});var wi=d(Ei=>{"use strict";var Nj=Ei&&Ei.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.AsyncScheduler=void 0;var yg=lh(),kj=function(t){Nj(r,t);function r(e,n){n===void 0&&(n=yg.Scheduler.now);var i=t.call(this,e,n)||this;return i.actions=[],i._active=!1,i}return r.prototype.flush=function(e){var n=this.actions;if(this._active){n.push(e);return}var i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},r}(yg.Scheduler);Ei.AsyncScheduler=kj});var gg=d(Si=>{"use strict";var Dj=Si&&Si.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Si,"__esModule",{value:!0});Si.AsapScheduler=void 0;var Lj=wi(),Uj=function(t){Dj(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.flush=function(e){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;e=e||i.shift();do if(o=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw o}},r}(Lj.AsyncScheduler);Si.AsapScheduler=Uj});var Og=d(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.asap=ln.asapScheduler=void 0;var xj=bg(),Fj=gg();ln.asapScheduler=new Fj.AsapScheduler(xj.AsapAction);ln.asap=ln.asapScheduler});var je=d(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.async=fn.asyncScheduler=void 0;var Bj=yi(),Wj=wi();fn.asyncScheduler=new Wj.AsyncScheduler(Bj.AsyncAction);fn.async=fn.asyncScheduler});var Eg=d(Pi=>{"use strict";var Vj=Pi&&Pi.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.QueueAction=void 0;var Hj=yi(),zj=function(t){Vj(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},r.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.flush(this),0)},r}(Hj.AsyncAction);Pi.QueueAction=zj});var wg=d(Ti=>{"use strict";var Yj=Ti&&Ti.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.QueueScheduler=void 0;var Gj=wi(),Kj=function(t){Yj(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(Gj.AsyncScheduler);Ti.QueueScheduler=Kj});var Sg=d(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.queue=dn.queueScheduler=void 0;var Zj=Eg(),$j=wg();dn.queueScheduler=new $j.QueueScheduler(Zj.QueueAction);dn.queue=dn.queueScheduler});var Tg=d(Ci=>{"use strict";var Qj=Ci&&Ci.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.AnimationFrameAction=void 0;var Xj=yi(),Pg=nh(),Jj=function(t){Qj(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=Pg.animationFrameProvider.requestAnimationFrame(function(){return e.flush(void 0)})))},r.prototype.recycleAsyncId=function(e,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);var a=e.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(Pg.animationFrameProvider.cancelAnimationFrame(n),e._scheduled=void 0)},r}(Xj.AsyncAction);Ci.AnimationFrameAction=Jj});var Cg=d(Ii=>{"use strict";var eR=Ii&&Ii.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.AnimationFrameScheduler=void 0;var rR=wi(),tR=function(t){eR(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.flush=function(e){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;e=e||i.shift();do if(o=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw o}},r}(rR.AsyncScheduler);Ii.AnimationFrameScheduler=tR});var Ig=d(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.animationFrame=hn.animationFrameScheduler=void 0;var nR=Tg(),iR=Cg();hn.animationFrameScheduler=new iR.AnimationFrameScheduler(nR.AnimationFrameAction);hn.animationFrame=hn.animationFrameScheduler});var Rg=d(_t=>{"use strict";var qg=_t&&_t.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(_t,"__esModule",{value:!0});_t.VirtualAction=_t.VirtualTimeScheduler=void 0;var oR=yi(),aR=We(),uR=wi(),sR=function(t){qg(r,t);function r(e,n){e===void 0&&(e=jg),n===void 0&&(n=1/0);var i=t.call(this,e,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return r.prototype.flush=function(){for(var e=this,n=e.actions,i=e.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},r.frameTimeFactor=10,r}(uR.AsyncScheduler);_t.VirtualTimeScheduler=sR;var jg=function(t){qg(r,t);function r(e,n,i){i===void 0&&(i=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=i,o.active=!0,o.index=e.index=i,o}return r.prototype.schedule=function(e,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,e,n);this.active=!1;var i=new r(this.scheduler,this.work);return this.add(i),i.schedule(e,n)}else return aR.Subscription.EMPTY},r.prototype.requestAsyncId=function(e,n,i){i===void 0&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(e,n,i){i===void 0&&(i=0)},r.prototype._execute=function(e,n){if(this.active===!0)return t.prototype._execute.call(this,e,n)},r.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},r}(oR.AsyncAction);_t.VirtualAction=jg});var ar=d(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.empty=vn.EMPTY=void 0;var Ag=z();vn.EMPTY=new Ag.Observable(function(t){return t.complete()});function cR(t){return t?lR(t):vn.EMPTY}vn.empty=cR;function lR(t){return new Ag.Observable(function(r){return t.schedule(function(){return r.complete()})})}});var Zo=d(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.isScheduler=void 0;var fR=V();function dR(t){return t&&fR.isFunction(t.schedule)}Ru.isScheduler=dR});var Re=d(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.popNumber=mt.popScheduler=mt.popResultSelector=void 0;var hR=V(),vR=Zo();function fh(t){return t[t.length-1]}function pR(t){return hR.isFunction(fh(t))?t.pop():void 0}mt.popResultSelector=pR;function _R(t){return vR.isScheduler(fh(t))?t.pop():void 0}mt.popScheduler=_R;function mR(t,r){return typeof fh(t)=="number"?t.pop():r}mt.popNumber=mR});var Mu=d(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.isArrayLike=void 0;Au.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}});var dh=d(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.isPromise=void 0;var bR=V();function yR(t){return bR.isFunction(t?.then)}Nu.isPromise=yR});var hh=d(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.isInteropObservable=void 0;var gR=Ho(),OR=V();function ER(t){return OR.isFunction(t[gR.observable])}ku.isInteropObservable=ER});var vh=d(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.isAsyncIterable=void 0;var wR=V();function SR(t){return Symbol.asyncIterator&&wR.isFunction(t?.[Symbol.asyncIterator])}Du.isAsyncIterable=SR});var ph=d(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.createInvalidObservableTypeError=void 0;function PR(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Lu.createInvalidObservableTypeError=PR});var _h=d(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.iterator=qi.getSymbolIterator=void 0;function Mg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}qi.getSymbolIterator=Mg;qi.iterator=Mg()});var mh=d(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.isIterable=void 0;var TR=_h(),CR=V();function IR(t){return CR.isFunction(t?.[TR.iterator])}Uu.isIterable=IR});var xu=d(Ge=>{"use strict";var qR=Ge&&Ge.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ji=Ge&&Ge.__await||function(t){return this instanceof ji?(this.v=t,this):new ji(t)},jR=Ge&&Ge.__asyncGenerator||function(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,r||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(v){n[v]&&(i[v]=function(_){return new Promise(function(m,g){o.push([v,_,m,g])>1||s(v,_)})})}function s(v,_){try{c(n[v](_))}catch(m){h(o[0][3],m)}}function c(v){v.value instanceof ji?Promise.resolve(v.value.v).then(u,l):h(o[0][2],v)}function u(v){s("next",v)}function l(v){s("throw",v)}function h(v,_){v(_),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.isReadableStreamLike=Ge.readableStreamLikeToAsyncGenerator=void 0;var RR=V();function AR(t){return jR(this,arguments,function(){var e,n,i,o;return qR(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ji(e.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,ji(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ji(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}Ge.readableStreamLikeToAsyncGenerator=AR;function MR(t){return RR.isFunction(t?.getReader)}Ge.isReadableStreamLike=MR});var L=d($=>{"use strict";var NR=$&&$.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},kR=$&&$.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},DR=$&&$.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],e;return r?r.call(t):(t=typeof bh=="function"?bh(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(a){return new Promise(function(s,c){a=t[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(u){o({value:u,done:s})},a)}},bh=$&&$.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($,"__esModule",{value:!0});$.fromReadableStreamLike=$.fromAsyncIterable=$.fromIterable=$.fromPromise=$.fromArrayLike=$.fromInteropObservable=$.innerFrom=void 0;var LR=Mu(),UR=dh(),Ri=z(),xR=hh(),FR=vh(),BR=ph(),WR=mh(),Ng=xu(),VR=V(),HR=$d(),zR=Ho();function YR(t){if(t instanceof Ri.Observable)return t;if(t!=null){if(xR.isInteropObservable(t))return kg(t);if(LR.isArrayLike(t))return Dg(t);if(UR.isPromise(t))return Lg(t);if(FR.isAsyncIterable(t))return yh(t);if(WR.isIterable(t))return Ug(t);if(Ng.isReadableStreamLike(t))return xg(t)}throw BR.createInvalidObservableTypeError(t)}$.innerFrom=YR;function kg(t){return new Ri.Observable(function(r){var e=t[zR.observable]();if(VR.isFunction(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}$.fromInteropObservable=kg;function Dg(t){return new Ri.Observable(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}$.fromArrayLike=Dg;function Lg(t){return new Ri.Observable(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,HR.reportUnhandledError)})}$.fromPromise=Lg;function Ug(t){return new Ri.Observable(function(r){var e,n;try{for(var i=bh(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(r.next(a),r.closed)return}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r.complete()})}$.fromIterable=Ug;function yh(t){return new Ri.Observable(function(r){GR(t,r).catch(function(e){return r.error(e)})})}$.fromAsyncIterable=yh;function xg(t){return yh(Ng.readableStreamLikeToAsyncGenerator(t))}$.fromReadableStreamLike=xg;function GR(t,r){var e,n,i,o;return NR(this,void 0,void 0,function(){var a,s;return kR(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),e=DR(t),c.label=1;case 1:return[4,e.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,r.next(a),r.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}});var xr=d(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.executeSchedule=void 0;function KR(t,r,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}Fu.executeSchedule=KR});var Ai=d(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.observeOn=void 0;var gh=xr(),ZR=C(),$R=j();function QR(t,r){return r===void 0&&(r=0),ZR.operate(function(e,n){e.subscribe($R.createOperatorSubscriber(n,function(i){return gh.executeSchedule(n,t,function(){return n.next(i)},r)},function(){return gh.executeSchedule(n,t,function(){return n.complete()},r)},function(i){return gh.executeSchedule(n,t,function(){return n.error(i)},r)}))})}Bu.observeOn=QR});var Mi=d(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.subscribeOn=void 0;var XR=C();function JR(t,r){return r===void 0&&(r=0),XR.operate(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}Wu.subscribeOn=JR});var Fg=d(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.scheduleObservable=void 0;var eA=L(),rA=Ai(),tA=Mi();function nA(t,r){return eA.innerFrom(t).pipe(tA.subscribeOn(r),rA.observeOn(r))}Vu.scheduleObservable=nA});var Bg=d(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.schedulePromise=void 0;var iA=L(),oA=Ai(),aA=Mi();function uA(t,r){return iA.innerFrom(t).pipe(aA.subscribeOn(r),oA.observeOn(r))}Hu.schedulePromise=uA});var Wg=d(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.scheduleArray=void 0;var sA=z();function cA(t,r){return new sA.Observable(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}zu.scheduleArray=cA});var Oh=d(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.scheduleIterable=void 0;var lA=z(),fA=_h(),dA=V(),Vg=xr();function hA(t,r){return new lA.Observable(function(e){var n;return Vg.executeSchedule(e,r,function(){n=t[fA.iterator](),Vg.executeSchedule(e,r,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){e.error(s);return}a?e.complete():e.next(o)},0,!0)}),function(){return dA.isFunction(n?.return)&&n.return()}})}Yu.scheduleIterable=hA});var Eh=d(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.scheduleAsyncIterable=void 0;var vA=z(),Hg=xr();function pA(t,r){if(!t)throw new Error("Iterable cannot be null");return new vA.Observable(function(e){Hg.executeSchedule(e,r,function(){var n=t[Symbol.asyncIterator]();Hg.executeSchedule(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}Gu.scheduleAsyncIterable=pA});var zg=d(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.scheduleReadableStreamLike=void 0;var _A=Eh(),mA=xu();function bA(t,r){return _A.scheduleAsyncIterable(mA.readableStreamLikeToAsyncGenerator(t),r)}Ku.scheduleReadableStreamLike=bA});var wh=d(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.scheduled=void 0;var yA=Fg(),gA=Bg(),OA=Wg(),EA=Oh(),wA=Eh(),SA=hh(),PA=dh(),TA=Mu(),CA=mh(),IA=vh(),qA=ph(),jA=xu(),RA=zg();function AA(t,r){if(t!=null){if(SA.isInteropObservable(t))return yA.scheduleObservable(t,r);if(TA.isArrayLike(t))return OA.scheduleArray(t,r);if(PA.isPromise(t))return gA.schedulePromise(t,r);if(IA.isAsyncIterable(t))return wA.scheduleAsyncIterable(t,r);if(CA.isIterable(t))return EA.scheduleIterable(t,r);if(jA.isReadableStreamLike(t))return RA.scheduleReadableStreamLike(t,r)}throw qA.createInvalidObservableTypeError(t)}Zu.scheduled=AA});var Fr=d($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.from=void 0;var MA=wh(),NA=L();function kA(t,r){return r?MA.scheduled(t,r):NA.innerFrom(t)}$u.from=kA});var Xu=d(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.of=void 0;var DA=Re(),LA=Fr();function UA(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=DA.popScheduler(t);return LA.from(t,e)}Qu.of=UA});var Sh=d(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.throwError=void 0;var xA=z(),FA=V();function BA(t,r){var e=FA.isFunction(t)?t:function(){return t},n=function(i){return i.error(e())};return new xA.Observable(r?function(i){return r.schedule(n,0,i)}:n)}Ju.throwError=BA});var es=d(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.observeNotification=Br.Notification=Br.NotificationKind=void 0;var WA=ar(),VA=Xu(),HA=Sh(),zA=V(),YA;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(YA=Br.NotificationKind||(Br.NotificationKind={}));var GA=function(){function t(r,e,n){this.kind=r,this.value=e,this.error=n,this.hasValue=r==="N"}return t.prototype.observe=function(r){return Yg(this,r)},t.prototype.do=function(r,e,n){var i=this,o=i.kind,a=i.value,s=i.error;return o==="N"?r?.(a):o==="E"?e?.(s):n?.()},t.prototype.accept=function(r,e,n){var i;return zA.isFunction((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,e,n)},t.prototype.toObservable=function(){var r=this,e=r.kind,n=r.value,i=r.error,o=e==="N"?VA.of(n):e==="E"?HA.throwError(function(){return i}):e==="C"?WA.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+e);return o},t.createNext=function(r){return new t("N",r)},t.createError=function(r){return new t("E",void 0,r)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();Br.Notification=GA;function Yg(t,r){var e,n,i,o=t,a=o.kind,s=o.value,c=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(e=r.next)===null||e===void 0||e.call(r,s):a==="E"?(n=r.error)===null||n===void 0||n.call(r,c):(i=r.complete)===null||i===void 0||i.call(r)}Br.observeNotification=Yg});var Kg=d(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.isObservable=void 0;var KA=z(),Gg=V();function ZA(t){return!!t&&(t instanceof KA.Observable||Gg.isFunction(t.lift)&&Gg.isFunction(t.subscribe))}rs.isObservable=ZA});var bt=d(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.EmptyError=void 0;var $A=vt();ts.EmptyError=$A.createErrorClass(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}})});var Zg=d(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.lastValueFrom=void 0;var QA=bt();function XA(t,r){var e=typeof r=="object";return new Promise(function(n,i){var o=!1,a;t.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):e?n(r.defaultValue):i(new QA.EmptyError)}})})}ns.lastValueFrom=XA});var $g=d(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.firstValueFrom=void 0;var JA=bt(),eM=li();function rM(t,r){var e=typeof r=="object";return new Promise(function(n,i){var o=new eM.SafeSubscriber({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){e?n(r.defaultValue):i(new JA.EmptyError)}});t.subscribe(o)})}is.firstValueFrom=rM});var Ph=d(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.ArgumentOutOfRangeError=void 0;var tM=vt();os.ArgumentOutOfRangeError=tM.createErrorClass(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var Th=d(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.NotFoundError=void 0;var nM=vt();as.NotFoundError=nM.createErrorClass(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}})});var Ch=d(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.SequenceError=void 0;var iM=vt();us.SequenceError=iM.createErrorClass(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}})});var cs=d(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.isValidDate=void 0;function oM(t){return t instanceof Date&&!isNaN(t)}ss.isValidDate=oM});var $o=d(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.timeout=pn.TimeoutError=void 0;var aM=je(),uM=cs(),sM=C(),cM=L(),lM=vt(),fM=j(),dM=xr();pn.TimeoutError=lM.createErrorClass(function(t){return function(e){e===void 0&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function hM(t,r){var e=uM.isValidDate(t)?{first:t}:typeof t=="number"?{each:t}:t,n=e.first,i=e.each,o=e.with,a=o===void 0?vM:o,s=e.scheduler,c=s===void 0?r??aM.asyncScheduler:s,u=e.meta,l=u===void 0?null:u;if(n==null&&i==null)throw new TypeError("No timeout provided.");return sM.operate(function(h,v){var _,m,g=null,w=0,S=function(I){m=dM.executeSchedule(v,c,function(){try{_.unsubscribe(),cM.innerFrom(a({meta:l,lastValue:g,seen:w})).subscribe(v)}catch(U){v.error(U)}},I)};_=h.subscribe(fM.createOperatorSubscriber(v,function(I){m?.unsubscribe(),w++,v.next(g=I),i>0&&S(i)},void 0,void 0,function(){m?.closed||m?.unsubscribe(),g=null})),!w&&S(n!=null?typeof n=="number"?n:+n-c.now():i)})}pn.timeout=hM;function vM(t){throw new pn.TimeoutError(t)}});var Wr=d(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.map=void 0;var pM=C(),_M=j();function mM(t,r){return pM.operate(function(e,n){var i=0;e.subscribe(_M.createOperatorSubscriber(n,function(o){n.next(t.call(r,o,i++))}))})}ls.map=mM});var gt=d(yt=>{"use strict";var bM=yt&&yt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},yM=yt&&yt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(yt,"__esModule",{value:!0});yt.mapOneOrManyArgs=void 0;var gM=Wr(),OM=Array.isArray;function EM(t,r){return OM(r)?t.apply(void 0,yM([],bM(r))):t(r)}function wM(t){return gM.map(function(r){return EM(t,r)})}yt.mapOneOrManyArgs=wM});var qh=d(Ot=>{"use strict";var SM=Ot&&Ot.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Qg=Ot&&Ot.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.bindCallbackInternals=void 0;var PM=Zo(),TM=z(),CM=Mi(),IM=gt(),qM=Ai(),jM=Iu();function Ih(t,r,e,n){if(e)if(PM.isScheduler(e))n=e;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Ih(t,r,n).apply(this,i).pipe(IM.mapOneOrManyArgs(e))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Ih(t,r).apply(this,i).pipe(CM.subscribeOn(n),qM.observeOn(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new jM.AsyncSubject,c=!0;return new TM.Observable(function(u){var l=s.subscribe(u);if(c){c=!1;var h=!1,v=!1;r.apply(i,Qg(Qg([],SM(o)),[function(){for(var _=[],m=0;m<arguments.length;m++)_[m]=arguments[m];if(t){var g=_.shift();if(g!=null){s.error(g);return}}s.next(1<_.length?_:_[0]),v=!0,h&&s.complete()}])),v&&s.complete(),h=!0}return l})}}Ot.bindCallbackInternals=Ih});var Xg=d(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.bindCallback=void 0;var RM=qh();function AM(t,r,e){return RM.bindCallbackInternals(!1,t,r,e)}fs.bindCallback=AM});var Jg=d(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.bindNodeCallback=void 0;var MM=qh();function NM(t,r,e){return MM.bindCallbackInternals(!0,t,r,e)}ds.bindNodeCallback=NM});var jh=d(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.argsArgArrayOrObject=void 0;var kM=Array.isArray,DM=Object.getPrototypeOf,LM=Object.prototype,UM=Object.keys;function xM(t){if(t.length===1){var r=t[0];if(kM(r))return{args:r,keys:null};if(FM(r)){var e=UM(r);return{args:e.map(function(n){return r[n]}),keys:e}}}return{args:t,keys:null}}hs.argsArgArrayOrObject=xM;function FM(t){return t&&typeof t=="object"&&DM(t)===LM}});var Rh=d(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.createObject=void 0;function BM(t,r){return t.reduce(function(e,n,i){return e[n]=r[i],e},{})}vs.createObject=BM});var ps=d(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.combineLatestInit=Ni.combineLatest=void 0;var WM=z(),VM=jh(),tO=Fr(),nO=ce(),HM=gt(),eO=Re(),zM=Rh(),YM=j(),GM=xr();function KM(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=eO.popScheduler(t),n=eO.popResultSelector(t),i=VM.argsArgArrayOrObject(t),o=i.args,a=i.keys;if(o.length===0)return tO.from([],e);var s=new WM.Observable(iO(o,e,a?function(c){return zM.createObject(a,c)}:nO.identity));return n?s.pipe(HM.mapOneOrManyArgs(n)):s}Ni.combineLatest=KM;function iO(t,r,e){return e===void 0&&(e=nO.identity),function(n){rO(r,function(){for(var i=t.length,o=new Array(i),a=i,s=i,c=function(l){rO(r,function(){var h=tO.from(t[l],r),v=!1;h.subscribe(YM.createOperatorSubscriber(n,function(_){o[l]=_,v||(v=!0,s--),s||n.next(e(o.slice()))},function(){--a||n.complete()}))},n)},u=0;u<i;u++)c(u)},n)}}Ni.combineLatestInit=iO;function rO(t,r,e){t?GM.executeSchedule(e,t,r):r()}});var ms=d(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.mergeInternals=void 0;var ZM=L(),$M=xr(),oO=j();function QM(t,r,e,n,i,o,a,s){var c=[],u=0,l=0,h=!1,v=function(){h&&!c.length&&!u&&r.complete()},_=function(g){return u<n?m(g):c.push(g)},m=function(g){o&&r.next(g),u++;var w=!1;ZM.innerFrom(e(g,l++)).subscribe(oO.createOperatorSubscriber(r,function(S){i?.(S),o?_(S):r.next(S)},function(){w=!0},void 0,function(){if(w)try{u--;for(var S=function(){var I=c.shift();a?$M.executeSchedule(r,a,function(){return m(I)}):m(I)};c.length&&u<n;)S();v()}catch(I){r.error(I)}}))};return t.subscribe(oO.createOperatorSubscriber(r,_,function(){h=!0,v()})),function(){s?.()}}_s.mergeInternals=QM});var yr=d(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.mergeMap=void 0;var XM=Wr(),JM=L(),eN=C(),rN=ms(),tN=V();function aO(t,r,e){return e===void 0&&(e=1/0),tN.isFunction(r)?aO(function(n,i){return XM.map(function(o,a){return r(n,o,i,a)})(JM.innerFrom(t(n,i)))},e):(typeof r=="number"&&(e=r),eN.operate(function(n,i){return rN.mergeInternals(n,i,t,e)}))}bs.mergeMap=aO});var ki=d(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.mergeAll=void 0;var nN=yr(),iN=ce();function oN(t){return t===void 0&&(t=1/0),nN.mergeMap(iN.identity,t)}ys.mergeAll=oN});var Qo=d(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.concatAll=void 0;var aN=ki();function uN(){return aN.mergeAll(1)}gs.concatAll=uN});var Xo=d(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.concat=void 0;var sN=Qo(),cN=Re(),lN=Fr();function fN(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return sN.concatAll()(lN.from(t,cN.popScheduler(t)))}Os.concat=fN});var Jo=d(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.defer=void 0;var dN=z(),hN=L();function vN(t){return new dN.Observable(function(r){hN.innerFrom(t()).subscribe(r)})}Es.defer=vN});var uO=d(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.connectable=void 0;var pN=le(),_N=z(),mN=Jo(),bN={connector:function(){return new pN.Subject},resetOnDisconnect:!0};function yN(t,r){r===void 0&&(r=bN);var e=null,n=r.connector,i=r.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new _N.Observable(function(c){return a.subscribe(c)});return s.connect=function(){return(!e||e.closed)&&(e=mN.defer(function(){return t}).subscribe(a),o&&e.add(function(){return a=n()})),e},s}ws.connectable=yN});var sO=d(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.forkJoin=void 0;var gN=z(),ON=jh(),EN=L(),wN=Re(),SN=j(),PN=gt(),TN=Rh();function CN(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=wN.popResultSelector(t),n=ON.argsArgArrayOrObject(t),i=n.args,o=n.keys,a=new gN.Observable(function(s){var c=i.length;if(!c){s.complete();return}for(var u=new Array(c),l=c,h=c,v=function(m){var g=!1;EN.innerFrom(i[m]).subscribe(SN.createOperatorSubscriber(s,function(w){g||(g=!0,h--),u[m]=w},function(){return l--},void 0,function(){(!l||!g)&&(h||s.next(o?TN.createObject(o,u):u),s.complete())}))},_=0;_<c;_++)v(_)});return e?a.pipe(PN.mapOneOrManyArgs(e)):a}Ss.forkJoin=CN});var lO=d(Di=>{"use strict";var IN=Di&&Di.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(Di,"__esModule",{value:!0});Di.fromEvent=void 0;var qN=L(),jN=z(),RN=yr(),AN=Mu(),_n=V(),MN=gt(),NN=["addListener","removeListener"],kN=["addEventListener","removeEventListener"],DN=["on","off"];function Ah(t,r,e,n){if(_n.isFunction(e)&&(n=e,e=void 0),n)return Ah(t,r,e).pipe(MN.mapOneOrManyArgs(n));var i=IN(xN(t)?kN.map(function(s){return function(c){return t[s](r,c,e)}}):LN(t)?NN.map(cO(t,r)):UN(t)?DN.map(cO(t,r)):[],2),o=i[0],a=i[1];if(!o&&AN.isArrayLike(t))return RN.mergeMap(function(s){return Ah(s,r,e)})(qN.innerFrom(t));if(!o)throw new TypeError("Invalid event target");return new jN.Observable(function(s){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return o(c),function(){return a(c)}})}Di.fromEvent=Ah;function cO(t,r){return function(e){return function(n){return t[e](r,n)}}}function LN(t){return _n.isFunction(t.addListener)&&_n.isFunction(t.removeListener)}function UN(t){return _n.isFunction(t.on)&&_n.isFunction(t.off)}function xN(t){return _n.isFunction(t.addEventListener)&&_n.isFunction(t.removeEventListener)}});var dO=d(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.fromEventPattern=void 0;var FN=z(),BN=V(),WN=gt();function fO(t,r,e){return e?fO(t,r).pipe(WN.mapOneOrManyArgs(e)):new FN.Observable(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=t(i);return BN.isFunction(r)?function(){return r(i,o)}:void 0})}Ps.fromEventPattern=fO});var vO=d(Li=>{"use strict";var VN=Li&&Li.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Li,"__esModule",{value:!0});Li.generate=void 0;var hO=ce(),HN=Zo(),zN=Jo(),YN=Oh();function GN(t,r,e,n,i){var o,a,s,c;arguments.length===1?(o=t,c=o.initialState,r=o.condition,e=o.iterate,a=o.resultSelector,s=a===void 0?hO.identity:a,i=o.scheduler):(c=t,!n||HN.isScheduler(n)?(s=hO.identity,i=n):s=n);function u(){var l;return VN(this,function(h){switch(h.label){case 0:l=c,h.label=1;case 1:return!r||r(l)?[4,s(l)]:[3,4];case 2:h.sent(),h.label=3;case 3:return l=e(l),[3,1];case 4:return[2]}})}return zN.defer(i?function(){return YN.scheduleIterable(u(),i)}:u)}Li.generate=GN});var pO=d(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.iif=void 0;var KN=Jo();function ZN(t,r,e){return KN.defer(function(){return t()?r:e})}Ts.iif=ZN});var Et=d(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.timer=void 0;var $N=z(),QN=je(),XN=Zo(),JN=cs();function ek(t,r,e){t===void 0&&(t=0),e===void 0&&(e=QN.async);var n=-1;return r!=null&&(XN.isScheduler(r)?e=r:n=r),new $N.Observable(function(i){var o=JN.isValidDate(t)?+t-e.now():t;o<0&&(o=0);var a=0;return e.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}Cs.timer=ek});var Mh=d(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.interval=void 0;var rk=je(),tk=Et();function nk(t,r){return t===void 0&&(t=0),r===void 0&&(r=rk.asyncScheduler),t<0&&(t=0),tk.timer(t,t,r)}Is.interval=nk});var mO=d(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.merge=void 0;var ik=ki(),ok=L(),ak=ar(),_O=Re(),uk=Fr();function sk(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=_O.popScheduler(t),n=_O.popNumber(t,1/0),i=t;return i.length?i.length===1?ok.innerFrom(i[0]):ik.mergeAll(n)(uk.from(i,e)):ak.EMPTY}qs.merge=sk});var Nh=d(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.never=mn.NEVER=void 0;var ck=z(),lk=se();mn.NEVER=new ck.Observable(lk.noop);function fk(){return mn.NEVER}mn.never=fk});var wt=d(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.argsOrArgArray=void 0;var dk=Array.isArray;function hk(t){return t.length===1&&dk(t[0])?t[0]:t}js.argsOrArgArray=hk});var kh=d(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.onErrorResumeNext=void 0;var vk=z(),pk=wt(),_k=j(),bO=se(),mk=L();function bk(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=pk.argsOrArgArray(t);return new vk.Observable(function(n){var i=0,o=function(){if(i<e.length){var a=void 0;try{a=mk.innerFrom(e[i++])}catch{o();return}var s=new _k.OperatorSubscriber(n,void 0,bO.noop,bO.noop);a.subscribe(s),s.add(o)}else n.complete()};o()})}Rs.onErrorResumeNext=bk});var yO=d(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.pairs=void 0;var yk=Fr();function gk(t,r){return yk.from(Object.entries(t),r)}As.pairs=gk});var Dh=d(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.not=void 0;function Ok(t,r){return function(e,n){return!t.call(r,e,n)}}Ms.not=Ok});var Vr=d(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.filter=void 0;var Ek=C(),wk=j();function Sk(t,r){return Ek.operate(function(e,n){var i=0;e.subscribe(wk.createOperatorSubscriber(n,function(o){return t.call(r,o,i++)&&n.next(o)}))})}Ns.filter=Sk});var EO=d(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.partition=void 0;var Pk=Dh(),gO=Vr(),OO=L();function Tk(t,r,e){return[gO.filter(r,e)(OO.innerFrom(t)),gO.filter(Pk.not(r,e))(OO.innerFrom(t))]}ks.partition=Tk});var Lh=d(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.raceInit=Ui.race=void 0;var Ck=z(),wO=L(),Ik=wt(),qk=j();function jk(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t=Ik.argsOrArgArray(t),t.length===1?wO.innerFrom(t[0]):new Ck.Observable(SO(t))}Ui.race=jk;function SO(t){return function(r){for(var e=[],n=function(o){e.push(wO.innerFrom(t[o]).subscribe(qk.createOperatorSubscriber(r,function(a){if(e){for(var s=0;s<e.length;s++)s!==o&&e[s].unsubscribe();e=null}r.next(a)})))},i=0;e&&!r.closed&&i<t.length;i++)n(i)}}Ui.raceInit=SO});var PO=d(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.range=void 0;var Rk=z(),Ak=ar();function Mk(t,r,e){if(r==null&&(r=t,t=0),r<=0)return Ak.EMPTY;var n=r+t;return new Rk.Observable(e?function(i){var o=t;return e.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<n&&!i.closed;)i.next(o++);i.complete()})}Ds.range=Mk});var TO=d(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.using=void 0;var Nk=z(),kk=L(),Dk=ar();function Lk(t,r){return new Nk.Observable(function(e){var n=t(),i=r(n),o=i?kk.innerFrom(i):Dk.EMPTY;return o.subscribe(e),function(){n&&n.unsubscribe()}})}Ls.using=Lk});var Us=d(St=>{"use strict";var Uk=St&&St.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},xk=St&&St.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(St,"__esModule",{value:!0});St.zip=void 0;var Fk=z(),Bk=L(),Wk=wt(),Vk=ar(),Hk=j(),zk=Re();function Yk(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=zk.popResultSelector(t),n=Wk.argsOrArgArray(t);return n.length?new Fk.Observable(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(u){Bk.innerFrom(n[u]).subscribe(Hk.createOperatorSubscriber(i,function(l){if(o[u].push(l),o.every(function(v){return v.length})){var h=o.map(function(v){return v.shift()});i.next(e?e.apply(void 0,xk([],Uk(h))):h),o.some(function(v,_){return!v.length&&a[_]})&&i.complete()}},function(){a[u]=!0,!o[u].length&&i.complete()}))},c=0;!i.closed&&c<n.length;c++)s(c);return function(){o=a=null}}):Vk.EMPTY}St.zip=Yk});var IO=d(CO=>{"use strict";Object.defineProperty(CO,"__esModule",{value:!0})});var Fs=d(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.audit=void 0;var Gk=C(),Kk=L(),qO=j();function Zk(t){return Gk.operate(function(r,e){var n=!1,i=null,o=null,a=!1,s=function(){if(o?.unsubscribe(),o=null,n){n=!1;var u=i;i=null,e.next(u)}a&&e.complete()},c=function(){o=null,a&&e.complete()};r.subscribe(qO.createOperatorSubscriber(e,function(u){n=!0,i=u,o||Kk.innerFrom(t(u)).subscribe(o=qO.createOperatorSubscriber(e,s,c))},function(){a=!0,(!n||!o||o.closed)&&e.complete()}))})}xs.audit=Zk});var Uh=d(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.auditTime=void 0;var $k=je(),Qk=Fs(),Xk=Et();function Jk(t,r){return r===void 0&&(r=$k.asyncScheduler),Qk.audit(function(){return Xk.timer(t,r)})}Bs.auditTime=Jk});var xh=d(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.buffer=void 0;var eD=C(),rD=se(),jO=j(),tD=L();function nD(t){return eD.operate(function(r,e){var n=[];return r.subscribe(jO.createOperatorSubscriber(e,function(i){return n.push(i)},function(){e.next(n),e.complete()})),tD.innerFrom(t).subscribe(jO.createOperatorSubscriber(e,function(){var i=n;n=[],e.next(i)},rD.noop)),function(){n=null}})}Ws.buffer=nD});var Bh=d(xi=>{"use strict";var Fh=xi&&xi.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xi,"__esModule",{value:!0});xi.bufferCount=void 0;var iD=C(),oD=j(),aD=Ur();function uD(t,r){return r===void 0&&(r=null),r=r??t,iD.operate(function(e,n){var i=[],o=0;e.subscribe(oD.createOperatorSubscriber(n,function(a){var s,c,u,l,h=null;o++%r===0&&i.push([]);try{for(var v=Fh(i),_=v.next();!_.done;_=v.next()){var m=_.value;m.push(a),t<=m.length&&(h=h??[],h.push(m))}}catch(S){s={error:S}}finally{try{_&&!_.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}if(h)try{for(var g=Fh(h),w=g.next();!w.done;w=g.next()){var m=w.value;aD.arrRemove(i,m),n.next(m)}}catch(S){u={error:S}}finally{try{w&&!w.done&&(l=g.return)&&l.call(g)}finally{if(u)throw u.error}}},function(){var a,s;try{for(var c=Fh(i),u=c.next();!u.done;u=c.next()){var l=u.value;n.next(l)}}catch(h){a={error:h}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}xi.bufferCount=uD});var Wh=d(Fi=>{"use strict";var sD=Fi&&Fi.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.bufferTime=void 0;var cD=We(),lD=C(),fD=j(),dD=Ur(),hD=je(),vD=Re(),RO=xr();function pD(t){for(var r,e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=vD.popScheduler(n))!==null&&r!==void 0?r:hD.asyncScheduler,a=(e=n[0])!==null&&e!==void 0?e:null,s=n[1]||1/0;return lD.operate(function(c,u){var l=[],h=!1,v=function(g){var w=g.buffer,S=g.subs;S.unsubscribe(),dD.arrRemove(l,g),u.next(w),h&&_()},_=function(){if(l){var g=new cD.Subscription;u.add(g);var w=[],S={buffer:w,subs:g};l.push(S),RO.executeSchedule(g,o,function(){return v(S)},t)}};a!==null&&a>=0?RO.executeSchedule(u,o,_,a,!0):h=!0,_();var m=fD.createOperatorSubscriber(u,function(g){var w,S,I=l.slice();try{for(var U=sD(I),x=U.next();!x.done;x=U.next()){var A=x.value,G=A.buffer;G.push(g),s<=G.length&&v(A)}}catch(ge){w={error:ge}}finally{try{x&&!x.done&&(S=U.return)&&S.call(U)}finally{if(w)throw w.error}}},function(){for(;l?.length;)u.next(l.shift().buffer);m?.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return l=null});c.subscribe(m)})}Fi.bufferTime=pD});var Hh=d(Bi=>{"use strict";var _D=Bi&&Bi.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.bufferToggle=void 0;var mD=We(),bD=C(),AO=L(),Vh=j(),MO=se(),yD=Ur();function gD(t,r){return bD.operate(function(e,n){var i=[];AO.innerFrom(t).subscribe(Vh.createOperatorSubscriber(n,function(o){var a=[];i.push(a);var s=new mD.Subscription,c=function(){yD.arrRemove(i,a),n.next(a),s.unsubscribe()};s.add(AO.innerFrom(r(o)).subscribe(Vh.createOperatorSubscriber(n,c,MO.noop)))},MO.noop)),e.subscribe(Vh.createOperatorSubscriber(n,function(o){var a,s;try{for(var c=_D(i),u=c.next();!u.done;u=c.next()){var l=u.value;l.push(o)}}catch(h){a={error:h}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}Bi.bufferToggle=gD});var zh=d(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.bufferWhen=void 0;var OD=C(),ED=se(),NO=j(),wD=L();function SD(t){return OD.operate(function(r,e){var n=null,i=null,o=function(){i?.unsubscribe();var a=n;n=[],a&&e.next(a),wD.innerFrom(t()).subscribe(i=NO.createOperatorSubscriber(e,o,ED.noop))};o(),r.subscribe(NO.createOperatorSubscriber(e,function(a){return n?.push(a)},function(){n&&e.next(n),e.complete()},void 0,function(){return n=i=null}))})}Vs.bufferWhen=SD});var Yh=d(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.catchError=void 0;var PD=L(),TD=j(),CD=C();function kO(t){return CD.operate(function(r,e){var n=null,i=!1,o;n=r.subscribe(TD.createOperatorSubscriber(e,void 0,void 0,function(a){o=PD.innerFrom(t(a,kO(t)(r))),n?(n.unsubscribe(),n=null,o.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(e))})}Hs.catchError=kO});var Gh=d(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.scanInternals=void 0;var ID=j();function qD(t,r,e,n,i){return function(o,a){var s=e,c=r,u=0;o.subscribe(ID.createOperatorSubscriber(a,function(l){var h=u++;c=s?t(c,l,h):(s=!0,l),n&&a.next(c)},i&&function(){s&&a.next(c),a.complete()}))}}zs.scanInternals=qD});var bn=d(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.reduce=void 0;var jD=Gh(),RD=C();function AD(t,r){return RD.operate(jD.scanInternals(t,r,arguments.length>=2,!1,!0))}Ys.reduce=AD});var Ks=d(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.toArray=void 0;var MD=bn(),ND=C(),kD=function(t,r){return t.push(r),t};function DD(){return ND.operate(function(t,r){MD.reduce(kD,[])(t).subscribe(r)})}Gs.toArray=DD});var Kh=d(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.joinAllInternals=void 0;var LD=ce(),UD=gt(),xD=zo(),FD=yr(),BD=Ks();function WD(t,r){return xD.pipe(BD.toArray(),FD.mergeMap(function(e){return t(e)}),r?UD.mapOneOrManyArgs(r):LD.identity)}Zs.joinAllInternals=WD});var Qs=d($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.combineLatestAll=void 0;var VD=ps(),HD=Kh();function zD(t){return HD.joinAllInternals(VD.combineLatest,t)}$s.combineLatestAll=zD});var Zh=d(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.combineAll=void 0;var YD=Qs();Xs.combineAll=YD.combineLatestAll});var $h=d(Pt=>{"use strict";var DO=Pt&&Pt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},LO=Pt&&Pt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.combineLatest=void 0;var GD=ps(),KD=C(),ZD=wt(),$D=gt(),QD=zo(),XD=Re();function UO(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=XD.popResultSelector(t);return e?QD.pipe(UO.apply(void 0,LO([],DO(t))),$D.mapOneOrManyArgs(e)):KD.operate(function(n,i){GD.combineLatestInit(LO([n],DO(ZD.argsOrArgArray(t))))(i)})}Pt.combineLatest=UO});var Qh=d(Tt=>{"use strict";var JD=Tt&&Tt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},eL=Tt&&Tt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.combineLatestWith=void 0;var rL=$h();function tL(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return rL.combineLatest.apply(void 0,eL([],JD(t)))}Tt.combineLatestWith=tL});var ec=d(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.concatMap=void 0;var xO=yr(),nL=V();function iL(t,r){return nL.isFunction(r)?xO.mergeMap(t,r,1):xO.mergeMap(t,1)}Js.concatMap=iL});var Xh=d(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.concatMapTo=void 0;var FO=ec(),oL=V();function aL(t,r){return oL.isFunction(r)?FO.concatMap(function(){return t},r):FO.concatMap(function(){return t})}rc.concatMapTo=aL});var Jh=d(Ct=>{"use strict";var uL=Ct&&Ct.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},sL=Ct&&Ct.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.concat=void 0;var cL=C(),lL=Qo(),fL=Re(),dL=Fr();function hL(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=fL.popScheduler(t);return cL.operate(function(n,i){lL.concatAll()(dL.from(sL([n],uL(t)),e)).subscribe(i)})}Ct.concat=hL});var ev=d(It=>{"use strict";var vL=It&&It.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},pL=It&&It.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(It,"__esModule",{value:!0});It.concatWith=void 0;var _L=Jh();function mL(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return _L.concat.apply(void 0,pL([],vL(t)))}It.concatWith=mL});var BO=d(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.fromSubscribable=void 0;var bL=z();function yL(t){return new bL.Observable(function(r){return t.subscribe(r)})}tc.fromSubscribable=yL});var ea=d(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.connect=void 0;var gL=le(),OL=L(),EL=C(),wL=BO(),SL={connector:function(){return new gL.Subject}};function PL(t,r){r===void 0&&(r=SL);var e=r.connector;return EL.operate(function(n,i){var o=e();OL.innerFrom(t(wL.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}nc.connect=PL});var rv=d(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.count=void 0;var TL=bn();function CL(t){return TL.reduce(function(r,e,n){return!t||t(e,n)?r+1:r},0)}ic.count=CL});var tv=d(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.debounce=void 0;var IL=C(),qL=se(),WO=j(),jL=L();function RL(t){return IL.operate(function(r,e){var n=!1,i=null,o=null,a=function(){if(o?.unsubscribe(),o=null,n){n=!1;var s=i;i=null,e.next(s)}};r.subscribe(WO.createOperatorSubscriber(e,function(s){o?.unsubscribe(),n=!0,i=s,o=WO.createOperatorSubscriber(e,a,qL.noop),jL.innerFrom(t(s)).subscribe(o)},function(){a(),e.complete()},void 0,function(){i=o=null}))})}oc.debounce=RL});var nv=d(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.debounceTime=void 0;var AL=je(),ML=C(),NL=j();function kL(t,r){return r===void 0&&(r=AL.asyncScheduler),ML.operate(function(e,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,n.next(u)}};function c(){var u=a+t,l=r.now();if(l<u){i=this.schedule(void 0,u-l),n.add(i);return}s()}e.subscribe(NL.createOperatorSubscriber(n,function(u){o=u,a=r.now(),i||(i=r.schedule(c,t),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}ac.debounceTime=kL});var Wi=d(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.defaultIfEmpty=void 0;var DL=C(),LL=j();function UL(t){return DL.operate(function(r,e){var n=!1;r.subscribe(LL.createOperatorSubscriber(e,function(i){n=!0,e.next(i)},function(){n||e.next(t),e.complete()}))})}uc.defaultIfEmpty=UL});var Vi=d(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.take=void 0;var xL=ar(),FL=C(),BL=j();function WL(t){return t<=0?function(){return xL.EMPTY}:FL.operate(function(r,e){var n=0;r.subscribe(BL.createOperatorSubscriber(e,function(i){++n<=t&&(e.next(i),t<=n&&e.complete())}))})}sc.take=WL});var lc=d(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.ignoreElements=void 0;var VL=C(),HL=j(),zL=se();function YL(){return VL.operate(function(t,r){t.subscribe(HL.createOperatorSubscriber(r,zL.noop))})}cc.ignoreElements=YL});var dc=d(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.mapTo=void 0;var GL=Wr();function KL(t){return GL.map(function(){return t})}fc.mapTo=KL});var vc=d(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.delayWhen=void 0;var ZL=Xo(),VO=Vi(),$L=lc(),QL=dc(),XL=yr(),JL=L();function HO(t,r){return r?function(e){return ZL.concat(r.pipe(VO.take(1),$L.ignoreElements()),e.pipe(HO(t)))}:XL.mergeMap(function(e,n){return JL.innerFrom(t(e,n)).pipe(VO.take(1),QL.mapTo(e))})}hc.delayWhen=HO});var iv=d(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.delay=void 0;var eU=je(),rU=vc(),tU=Et();function nU(t,r){r===void 0&&(r=eU.asyncScheduler);var e=tU.timer(t,r);return rU.delayWhen(function(){return e})}pc.delay=nU});var ov=d(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.dematerialize=void 0;var iU=es(),oU=C(),aU=j();function uU(){return oU.operate(function(t,r){t.subscribe(aU.createOperatorSubscriber(r,function(e){return iU.observeNotification(e,r)}))})}_c.dematerialize=uU});var av=d(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.distinct=void 0;var sU=C(),zO=j(),cU=se(),lU=L();function fU(t,r){return sU.operate(function(e,n){var i=new Set;e.subscribe(zO.createOperatorSubscriber(n,function(o){var a=t?t(o):o;i.has(a)||(i.add(a),n.next(o))})),r&&lU.innerFrom(r).subscribe(zO.createOperatorSubscriber(n,function(){return i.clear()},cU.noop))})}mc.distinct=fU});var yc=d(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.distinctUntilChanged=void 0;var dU=ce(),hU=C(),vU=j();function pU(t,r){return r===void 0&&(r=dU.identity),t=t??_U,hU.operate(function(e,n){var i,o=!0;e.subscribe(vU.createOperatorSubscriber(n,function(a){var s=r(a);(o||!t(i,s))&&(o=!1,i=s,n.next(a))}))})}bc.distinctUntilChanged=pU;function _U(t,r){return t===r}});var uv=d(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.distinctUntilKeyChanged=void 0;var mU=yc();function bU(t,r){return mU.distinctUntilChanged(function(e,n){return r?r(e[t],n[t]):e[t]===n[t]})}gc.distinctUntilKeyChanged=bU});var Hi=d(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.throwIfEmpty=void 0;var yU=bt(),gU=C(),OU=j();function EU(t){return t===void 0&&(t=wU),gU.operate(function(r,e){var n=!1;r.subscribe(OU.createOperatorSubscriber(e,function(i){n=!0,e.next(i)},function(){return n?e.complete():e.error(t())}))})}Oc.throwIfEmpty=EU;function wU(){return new yU.EmptyError}});var sv=d(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.elementAt=void 0;var YO=Ph(),SU=Vr(),PU=Hi(),TU=Wi(),CU=Vi();function IU(t,r){if(t<0)throw new YO.ArgumentOutOfRangeError;var e=arguments.length>=2;return function(n){return n.pipe(SU.filter(function(i,o){return o===t}),CU.take(1),e?TU.defaultIfEmpty(r):PU.throwIfEmpty(function(){return new YO.ArgumentOutOfRangeError}))}}Ec.elementAt=IU});var cv=d(qt=>{"use strict";var qU=qt&&qt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},jU=qt&&qt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(qt,"__esModule",{value:!0});qt.endWith=void 0;var RU=Xo(),AU=Xu();function MU(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(e){return RU.concat(e,AU.of.apply(void 0,jU([],qU(t))))}}qt.endWith=MU});var lv=d(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.every=void 0;var NU=C(),kU=j();function DU(t,r){return NU.operate(function(e,n){var i=0;e.subscribe(kU.createOperatorSubscriber(n,function(o){t.call(r,o,i++,e)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}wc.every=DU});var Pc=d(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.exhaustMap=void 0;var LU=Wr(),GO=L(),UU=C(),KO=j();function ZO(t,r){return r?function(e){return e.pipe(ZO(function(n,i){return GO.innerFrom(t(n,i)).pipe(LU.map(function(o,a){return r(n,o,i,a)}))}))}:UU.operate(function(e,n){var i=0,o=null,a=!1;e.subscribe(KO.createOperatorSubscriber(n,function(s){o||(o=KO.createOperatorSubscriber(n,void 0,function(){o=null,a&&n.complete()}),GO.innerFrom(t(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}Sc.exhaustMap=ZO});var Cc=d(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.exhaustAll=void 0;var xU=Pc(),FU=ce();function BU(){return xU.exhaustMap(FU.identity)}Tc.exhaustAll=BU});var fv=d(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.exhaust=void 0;var WU=Cc();Ic.exhaust=WU.exhaustAll});var dv=d(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.expand=void 0;var VU=C(),HU=ms();function zU(t,r,e){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,VU.operate(function(n,i){return HU.mergeInternals(n,i,t,r,void 0,!0,e)})}qc.expand=zU});var hv=d(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.finalize=void 0;var YU=C();function GU(t){return YU.operate(function(r,e){try{r.subscribe(e)}finally{e.add(t)}})}jc.finalize=GU});var Rc=d(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.createFind=zi.find=void 0;var KU=C(),ZU=j();function $U(t,r){return KU.operate($O(t,r,"value"))}zi.find=$U;function $O(t,r,e){var n=e==="index";return function(i,o){var a=0;i.subscribe(ZU.createOperatorSubscriber(o,function(s){var c=a++;t.call(r,s,c,i)&&(o.next(n?c:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}zi.createFind=$O});var vv=d(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.findIndex=void 0;var QU=C(),XU=Rc();function JU(t,r){return QU.operate(XU.createFind(t,r,"index"))}Ac.findIndex=JU});var pv=d(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.first=void 0;var ex=bt(),rx=Vr(),tx=Vi(),nx=Wi(),ix=Hi(),ox=ce();function ax(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?rx.filter(function(i,o){return t(i,o,n)}):ox.identity,tx.take(1),e?nx.defaultIfEmpty(r):ix.throwIfEmpty(function(){return new ex.EmptyError}))}}Mc.first=ax});var _v=d(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.groupBy=void 0;var ux=z(),sx=L(),cx=le(),lx=C(),QO=j();function fx(t,r,e,n){return lx.operate(function(i,o){var a;!r||typeof r=="function"?a=r:(e=r.duration,a=r.element,n=r.connector);var s=new Map,c=function(m){s.forEach(m),m(o)},u=function(m){return c(function(g){return g.error(m)})},l=0,h=!1,v=new QO.OperatorSubscriber(o,function(m){try{var g=t(m),w=s.get(g);if(!w){s.set(g,w=n?n():new cx.Subject);var S=_(g,w);if(o.next(S),e){var I=QO.createOperatorSubscriber(w,function(){w.complete(),I?.unsubscribe()},void 0,void 0,function(){return s.delete(g)});v.add(sx.innerFrom(e(S)).subscribe(I))}}w.next(a?a(m):m)}catch(U){u(U)}},function(){return c(function(m){return m.complete()})},u,function(){return s.clear()},function(){return h=!0,l===0});i.subscribe(v);function _(m,g){var w=new ux.Observable(function(S){l++;var I=g.subscribe(S);return function(){I.unsubscribe(),--l===0&&h&&v.unsubscribe()}});return w.key=m,w}})}Nc.groupBy=fx});var mv=d(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.isEmpty=void 0;var dx=C(),hx=j();function vx(){return dx.operate(function(t,r){t.subscribe(hx.createOperatorSubscriber(r,function(){r.next(!1),r.complete()},function(){r.next(!0),r.complete()}))})}kc.isEmpty=vx});var Dc=d(Yi=>{"use strict";var px=Yi&&Yi.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.takeLast=void 0;var _x=ar(),mx=C(),bx=j();function yx(t){return t<=0?function(){return _x.EMPTY}:mx.operate(function(r,e){var n=[];r.subscribe(bx.createOperatorSubscriber(e,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,o;try{for(var a=px(n),s=a.next();!s.done;s=a.next()){var c=s.value;e.next(c)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}e.complete()},void 0,function(){n=null}))})}Yi.takeLast=yx});var bv=d(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.last=void 0;var gx=bt(),Ox=Vr(),Ex=Dc(),wx=Hi(),Sx=Wi(),Px=ce();function Tx(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?Ox.filter(function(i,o){return t(i,o,n)}):Px.identity,Ex.takeLast(1),e?Sx.defaultIfEmpty(r):wx.throwIfEmpty(function(){return new gx.EmptyError}))}}Lc.last=Tx});var gv=d(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.materialize=void 0;var yv=es(),Cx=C(),Ix=j();function qx(){return Cx.operate(function(t,r){t.subscribe(Ix.createOperatorSubscriber(r,function(e){r.next(yv.Notification.createNext(e))},function(){r.next(yv.Notification.createComplete()),r.complete()},function(e){r.next(yv.Notification.createError(e)),r.complete()}))})}Uc.materialize=qx});var Ov=d(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.max=void 0;var jx=bn(),Rx=V();function Ax(t){return jx.reduce(Rx.isFunction(t)?function(r,e){return t(r,e)>0?r:e}:function(r,e){return r>e?r:e})}xc.max=Ax});var Ev=d(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.flatMap=void 0;var Mx=yr();Fc.flatMap=Mx.mergeMap});var wv=d(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.mergeMapTo=void 0;var XO=yr(),Nx=V();function kx(t,r,e){return e===void 0&&(e=1/0),Nx.isFunction(r)?XO.mergeMap(function(){return t},r,e):(typeof r=="number"&&(e=r),XO.mergeMap(function(){return t},e))}Bc.mergeMapTo=kx});var Sv=d(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.mergeScan=void 0;var Dx=C(),Lx=ms();function Ux(t,r,e){return e===void 0&&(e=1/0),Dx.operate(function(n,i){var o=r;return Lx.mergeInternals(n,i,function(a,s){return t(o,a,s)},e,function(a){o=a},!1,void 0,function(){return o=null})})}Wc.mergeScan=Ux});var Pv=d(jt=>{"use strict";var xx=jt&&jt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Fx=jt&&jt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(jt,"__esModule",{value:!0});jt.merge=void 0;var Bx=C(),Wx=wt(),Vx=ki(),JO=Re(),Hx=Fr();function zx(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=JO.popScheduler(t),n=JO.popNumber(t,1/0);return t=Wx.argsOrArgArray(t),Bx.operate(function(i,o){Vx.mergeAll(n)(Hx.from(Fx([i],xx(t)),e)).subscribe(o)})}jt.merge=zx});var Tv=d(Rt=>{"use strict";var Yx=Rt&&Rt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Gx=Rt&&Rt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.mergeWith=void 0;var Kx=Pv();function Zx(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Kx.merge.apply(void 0,Gx([],Yx(t)))}Rt.mergeWith=Zx});var Cv=d(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.min=void 0;var $x=bn(),Qx=V();function Xx(t){return $x.reduce(Qx.isFunction(t)?function(r,e){return t(r,e)<0?r:e}:function(r,e){return r<e?r:e})}Vc.min=Xx});var ra=d(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.multicast=void 0;var Jx=Yo(),e0=V(),eF=ea();function rF(t,r){var e=e0.isFunction(t)?t:function(){return t};return e0.isFunction(r)?eF.connect(r,{connector:e}):function(n){return new Jx.ConnectableObservable(n,e)}}Hc.multicast=rF});var Iv=d(gr=>{"use strict";var tF=gr&&gr.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},nF=gr&&gr.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(gr,"__esModule",{value:!0});gr.onErrorResumeNext=gr.onErrorResumeNextWith=void 0;var iF=wt(),oF=kh();function r0(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=iF.argsOrArgArray(t);return function(n){return oF.onErrorResumeNext.apply(void 0,nF([n],tF(e)))}}gr.onErrorResumeNextWith=r0;gr.onErrorResumeNext=r0});var qv=d(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.pairwise=void 0;var aF=C(),uF=j();function sF(){return aF.operate(function(t,r){var e,n=!1;t.subscribe(uF.createOperatorSubscriber(r,function(i){var o=e;e=i,n&&r.next([o,i]),n=!0}))})}zc.pairwise=sF});var jv=d(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.pluck=void 0;var cF=Wr();function lF(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return cF.map(function(n){for(var i=n,o=0;o<e;o++){var a=i?.[t[o]];if(typeof a<"u")i=a;else return}return i})}Yc.pluck=lF});var Rv=d(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.publish=void 0;var fF=le(),dF=ra(),hF=ea();function vF(t){return t?function(r){return hF.connect(t)(r)}:function(r){return dF.multicast(new fF.Subject)(r)}}Gc.publish=vF});var Av=d(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.publishBehavior=void 0;var pF=sh(),_F=Yo();function mF(t){return function(r){var e=new pF.BehaviorSubject(t);return new _F.ConnectableObservable(r,function(){return e})}}Kc.publishBehavior=mF});var Mv=d(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.publishLast=void 0;var bF=Iu(),yF=Yo();function gF(){return function(t){var r=new bF.AsyncSubject;return new yF.ConnectableObservable(t,function(){return r})}}Zc.publishLast=gF});var Nv=d($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.publishReplay=void 0;var OF=Cu(),EF=ra(),t0=V();function wF(t,r,e,n){e&&!t0.isFunction(e)&&(n=e);var i=t0.isFunction(e)?e:void 0;return function(o){return EF.multicast(new OF.ReplaySubject(t,r,n),i)(o)}}$c.publishReplay=wF});var Qc=d(At=>{"use strict";var SF=At&&At.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},PF=At&&At.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(At,"__esModule",{value:!0});At.raceWith=void 0;var TF=Lh(),CF=C(),IF=ce();function qF(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length?CF.operate(function(e,n){TF.raceInit(PF([e],SF(t)))(n)}):IF.identity}At.raceWith=qF});var kv=d(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.repeat=void 0;var jF=ar(),RF=C(),n0=j(),AF=L(),MF=Et();function NF(t){var r,e=1/0,n;return t!=null&&(typeof t=="object"?(r=t.count,e=r===void 0?1/0:r,n=t.delay):e=t),e<=0?function(){return jF.EMPTY}:RF.operate(function(i,o){var a=0,s,c=function(){if(s?.unsubscribe(),s=null,n!=null){var l=typeof n=="number"?MF.timer(n):AF.innerFrom(n(a)),h=n0.createOperatorSubscriber(o,function(){h.unsubscribe(),u()});l.subscribe(h)}else u()},u=function(){var l=!1;s=i.subscribe(n0.createOperatorSubscriber(o,void 0,function(){++a<e?s?c():l=!0:o.complete()})),l&&c()};u()})}Xc.repeat=NF});var Dv=d(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.repeatWhen=void 0;var kF=L(),DF=le(),LF=C(),i0=j();function UF(t){return LF.operate(function(r,e){var n,i=!1,o,a=!1,s=!1,c=function(){return s&&a&&(e.complete(),!0)},u=function(){return o||(o=new DF.Subject,kF.innerFrom(t(o)).subscribe(i0.createOperatorSubscriber(e,function(){n?l():i=!0},function(){a=!0,c()}))),o},l=function(){s=!1,n=r.subscribe(i0.createOperatorSubscriber(e,void 0,function(){s=!0,!c()&&u().next()})),i&&(n.unsubscribe(),n=null,i=!1,l())};l()})}Jc.repeatWhen=UF});var Lv=d(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.retry=void 0;var xF=C(),o0=j(),FF=ce(),BF=Et(),WF=L();function VF(t){t===void 0&&(t=1/0);var r;t&&typeof t=="object"?r=t:r={count:t};var e=r.count,n=e===void 0?1/0:e,i=r.delay,o=r.resetOnSuccess,a=o===void 0?!1:o;return n<=0?FF.identity:xF.operate(function(s,c){var u=0,l,h=function(){var v=!1;l=s.subscribe(o0.createOperatorSubscriber(c,function(_){a&&(u=0),c.next(_)},void 0,function(_){if(u++<n){var m=function(){l?(l.unsubscribe(),l=null,h()):v=!0};if(i!=null){var g=typeof i=="number"?BF.timer(i):WF.innerFrom(i(_,u)),w=o0.createOperatorSubscriber(c,function(){w.unsubscribe(),m()},function(){c.complete()});g.subscribe(w)}else m()}else c.error(_)})),v&&(l.unsubscribe(),l=null,h())};h()})}el.retry=VF});var Uv=d(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.retryWhen=void 0;var HF=L(),zF=le(),YF=C(),a0=j();function GF(t){return YF.operate(function(r,e){var n,i=!1,o,a=function(){n=r.subscribe(a0.createOperatorSubscriber(e,void 0,void 0,function(s){o||(o=new zF.Subject,HF.innerFrom(t(o)).subscribe(a0.createOperatorSubscriber(e,function(){return n?a():i=!0}))),o&&o.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}rl.retryWhen=GF});var nl=d(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.sample=void 0;var KF=L(),ZF=C(),$F=se(),u0=j();function QF(t){return ZF.operate(function(r,e){var n=!1,i=null;r.subscribe(u0.createOperatorSubscriber(e,function(o){n=!0,i=o})),KF.innerFrom(t).subscribe(u0.createOperatorSubscriber(e,function(){if(n){n=!1;var o=i;i=null,e.next(o)}},$F.noop))})}tl.sample=QF});var xv=d(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.sampleTime=void 0;var XF=je(),JF=nl(),eB=Mh();function rB(t,r){return r===void 0&&(r=XF.asyncScheduler),JF.sample(eB.interval(t,r))}il.sampleTime=rB});var Fv=d(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.scan=void 0;var tB=C(),nB=Gh();function iB(t,r){return tB.operate(nB.scanInternals(t,r,arguments.length>=2,!0))}ol.scan=iB});var Bv=d(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.sequenceEqual=void 0;var oB=C(),aB=j(),uB=L();function sB(t,r){return r===void 0&&(r=function(e,n){return e===n}),oB.operate(function(e,n){var i=s0(),o=s0(),a=function(c){n.next(c),n.complete()},s=function(c,u){var l=aB.createOperatorSubscriber(n,function(h){var v=u.buffer,_=u.complete;v.length===0?_?a(!1):c.buffer.push(h):!r(h,v.shift())&&a(!1)},function(){c.complete=!0;var h=u.complete,v=u.buffer;h&&a(v.length===0),l?.unsubscribe()});return l};e.subscribe(s(i,o)),uB.innerFrom(t).subscribe(s(o,i))})}al.sequenceEqual=sB;function s0(){return{buffer:[],complete:!1}}});var ul=d(Mt=>{"use strict";var cB=Mt&&Mt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},lB=Mt&&Mt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.share=void 0;var c0=L(),fB=le(),l0=li(),dB=C();function hB(t){t===void 0&&(t={});var r=t.connector,e=r===void 0?function(){return new fB.Subject}:r,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,a=o===void 0?!0:o,s=t.resetOnRefCountZero,c=s===void 0?!0:s;return function(u){var l,h,v,_=0,m=!1,g=!1,w=function(){h?.unsubscribe(),h=void 0},S=function(){w(),l=v=void 0,m=g=!1},I=function(){var U=l;S(),U?.unsubscribe()};return dB.operate(function(U,x){_++,!g&&!m&&w();var A=v=v??e();x.add(function(){_--,_===0&&!g&&!m&&(h=Wv(I,c))}),A.subscribe(x),!l&&_>0&&(l=new l0.SafeSubscriber({next:function(G){return A.next(G)},error:function(G){g=!0,w(),h=Wv(S,i,G),A.error(G)},complete:function(){m=!0,w(),h=Wv(S,a),A.complete()}}),c0.innerFrom(U).subscribe(l))})(u)}}Mt.share=hB;function Wv(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];if(r===!0){t();return}if(r!==!1){var i=new l0.SafeSubscriber({next:function(){i.unsubscribe(),t()}});return c0.innerFrom(r.apply(void 0,lB([],cB(e)))).subscribe(i)}}});var Vv=d(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.shareReplay=void 0;var vB=Cu(),pB=ul();function _B(t,r,e){var n,i,o,a,s=!1;return t&&typeof t=="object"?(n=t.bufferSize,a=n===void 0?1/0:n,i=t.windowTime,r=i===void 0?1/0:i,o=t.refCount,s=o===void 0?!1:o,e=t.scheduler):a=t??1/0,pB.share({connector:function(){return new vB.ReplaySubject(a,r,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}sl.shareReplay=_B});var Hv=d(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.single=void 0;var mB=bt(),bB=Ch(),yB=Th(),gB=C(),OB=j();function EB(t){return gB.operate(function(r,e){var n=!1,i,o=!1,a=0;r.subscribe(OB.createOperatorSubscriber(e,function(s){o=!0,(!t||t(s,a++,r))&&(n&&e.error(new bB.SequenceError("Too many matching values")),n=!0,i=s)},function(){n?(e.next(i),e.complete()):e.error(o?new yB.NotFoundError("No matching values"):new mB.EmptyError)}))})}cl.single=EB});var zv=d(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.skip=void 0;var wB=Vr();function SB(t){return wB.filter(function(r,e){return t<=e})}ll.skip=SB});var Yv=d(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.skipLast=void 0;var PB=ce(),TB=C(),CB=j();function IB(t){return t<=0?PB.identity:TB.operate(function(r,e){var n=new Array(t),i=0;return r.subscribe(CB.createOperatorSubscriber(e,function(o){var a=i++;if(a<t)n[a]=o;else{var s=a%t,c=n[s];n[s]=o,e.next(c)}})),function(){n=null}})}fl.skipLast=IB});var Gv=d(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.skipUntil=void 0;var qB=C(),f0=j(),jB=L(),RB=se();function AB(t){return qB.operate(function(r,e){var n=!1,i=f0.createOperatorSubscriber(e,function(){i?.unsubscribe(),n=!0},RB.noop);jB.innerFrom(t).subscribe(i),r.subscribe(f0.createOperatorSubscriber(e,function(o){return n&&e.next(o)}))})}dl.skipUntil=AB});var Kv=d(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.skipWhile=void 0;var MB=C(),NB=j();function kB(t){return MB.operate(function(r,e){var n=!1,i=0;r.subscribe(NB.createOperatorSubscriber(e,function(o){return(n||(n=!t(o,i++)))&&e.next(o)}))})}hl.skipWhile=kB});var Zv=d(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.startWith=void 0;var d0=Xo(),DB=Re(),LB=C();function UB(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=DB.popScheduler(t);return LB.operate(function(n,i){(e?d0.concat(t,n,e):d0.concat(t,n)).subscribe(i)})}vl.startWith=UB});var Gi=d(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.switchMap=void 0;var xB=L(),FB=C(),h0=j();function BB(t,r){return FB.operate(function(e,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};e.subscribe(h0.createOperatorSubscriber(n,function(c){i?.unsubscribe();var u=0,l=o++;xB.innerFrom(t(c,l)).subscribe(i=h0.createOperatorSubscriber(n,function(h){return n.next(r?r(c,h,l,u++):h)},function(){i=null,s()}))},function(){a=!0,s()}))})}pl.switchMap=BB});var $v=d(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.switchAll=void 0;var WB=Gi(),VB=ce();function HB(){return WB.switchMap(VB.identity)}_l.switchAll=HB});var Qv=d(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.switchMapTo=void 0;var v0=Gi(),zB=V();function YB(t,r){return zB.isFunction(r)?v0.switchMap(function(){return t},r):v0.switchMap(function(){return t})}ml.switchMapTo=YB});var Xv=d(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.switchScan=void 0;var GB=Gi(),KB=C();function ZB(t,r){return KB.operate(function(e,n){var i=r;return GB.switchMap(function(o,a){return t(i,o,a)},function(o,a){return i=a,a})(e).subscribe(n),function(){i=null}})}bl.switchScan=ZB});var Jv=d(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.takeUntil=void 0;var $B=C(),QB=j(),XB=L(),JB=se();function e4(t){return $B.operate(function(r,e){XB.innerFrom(t).subscribe(QB.createOperatorSubscriber(e,function(){return e.complete()},JB.noop)),!e.closed&&r.subscribe(e)})}yl.takeUntil=e4});var ep=d(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.takeWhile=void 0;var r4=C(),t4=j();function n4(t,r){return r===void 0&&(r=!1),r4.operate(function(e,n){var i=0;e.subscribe(t4.createOperatorSubscriber(n,function(o){var a=t(o,i++);(a||r)&&n.next(o),!a&&n.complete()}))})}gl.takeWhile=n4});var rp=d(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.tap=void 0;var i4=V(),o4=C(),a4=j(),u4=ce();function s4(t,r,e){var n=i4.isFunction(t)||r||e?{next:t,error:r,complete:e}:t;return n?o4.operate(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(a4.createOperatorSubscriber(o,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},function(){var c;s=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},function(c){var u;s=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},function(){var c,u;s&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):u4.identity}Ol.tap=s4});var El=d(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.throttle=yn.defaultThrottleConfig=void 0;var c4=C(),p0=j(),l4=L();yn.defaultThrottleConfig={leading:!0,trailing:!1};function f4(t,r){return r===void 0&&(r=yn.defaultThrottleConfig),c4.operate(function(e,n){var i=r.leading,o=r.trailing,a=!1,s=null,c=null,u=!1,l=function(){c?.unsubscribe(),c=null,o&&(_(),u&&n.complete())},h=function(){c=null,u&&n.complete()},v=function(m){return c=l4.innerFrom(t(m)).subscribe(p0.createOperatorSubscriber(n,l,h))},_=function(){if(a){a=!1;var m=s;s=null,n.next(m),!u&&v(m)}};e.subscribe(p0.createOperatorSubscriber(n,function(m){a=!0,s=m,!(c&&!c.closed)&&(i?_():v(m))},function(){u=!0,!(o&&a&&c&&!c.closed)&&n.complete()}))})}yn.throttle=f4});var tp=d(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.throttleTime=void 0;var d4=je(),_0=El(),h4=Et();function v4(t,r,e){r===void 0&&(r=d4.asyncScheduler),e===void 0&&(e=_0.defaultThrottleConfig);var n=h4.timer(t,r);return _0.throttle(function(){return n},e)}wl.throttleTime=v4});var np=d(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.TimeInterval=Ki.timeInterval=void 0;var p4=je(),_4=C(),m4=j();function b4(t){return t===void 0&&(t=p4.asyncScheduler),_4.operate(function(r,e){var n=t.now();r.subscribe(m4.createOperatorSubscriber(e,function(i){var o=t.now(),a=o-n;n=o,e.next(new m0(i,a))}))})}Ki.timeInterval=b4;var m0=function(){function t(r,e){this.value=r,this.interval=e}return t}();Ki.TimeInterval=m0});var ip=d(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.timeoutWith=void 0;var y4=je(),g4=cs(),O4=$o();function E4(t,r,e){var n,i,o;if(e=e??y4.async,g4.isValidDate(t)?n=t:typeof t=="number"&&(i=t),r)o=function(){return r};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return O4.timeout({first:n,each:i,scheduler:e,with:o})}Sl.timeoutWith=E4});var op=d(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.timestamp=void 0;var w4=Tu(),S4=Wr();function P4(t){return t===void 0&&(t=w4.dateTimestampProvider),S4.map(function(r){return{value:r,timestamp:t.now()}})}Pl.timestamp=P4});var ap=d(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.window=void 0;var b0=le(),T4=C(),y0=j(),C4=se(),I4=L();function q4(t){return T4.operate(function(r,e){var n=new b0.Subject;e.next(n.asObservable());var i=function(o){n.error(o),e.error(o)};return r.subscribe(y0.createOperatorSubscriber(e,function(o){return n?.next(o)},function(){n.complete(),e.complete()},i)),I4.innerFrom(t).subscribe(y0.createOperatorSubscriber(e,function(){n.complete(),e.next(n=new b0.Subject)},C4.noop,i)),function(){n?.unsubscribe(),n=null}})}Tl.window=q4});var up=d(Zi=>{"use strict";var j4=Zi&&Zi.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.windowCount=void 0;var g0=le(),R4=C(),A4=j();function M4(t,r){r===void 0&&(r=0);var e=r>0?r:t;return R4.operate(function(n,i){var o=[new g0.Subject],a=[],s=0;i.next(o[0].asObservable()),n.subscribe(A4.createOperatorSubscriber(i,function(c){var u,l;try{for(var h=j4(o),v=h.next();!v.done;v=h.next()){var _=v.value;_.next(c)}}catch(w){u={error:w}}finally{try{v&&!v.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}var m=s-t+1;if(m>=0&&m%e===0&&o.shift().complete(),++s%e===0){var g=new g0.Subject;o.push(g),i.next(g.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(c){for(;o.length>0;)o.shift().error(c);i.error(c)},function(){a=null,o=null}))})}Zi.windowCount=M4});var sp=d(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.windowTime=void 0;var N4=le(),k4=je(),D4=We(),L4=C(),U4=j(),x4=Ur(),F4=Re(),O0=xr();function B4(t){for(var r,e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=F4.popScheduler(n))!==null&&r!==void 0?r:k4.asyncScheduler,a=(e=n[0])!==null&&e!==void 0?e:null,s=n[1]||1/0;return L4.operate(function(c,u){var l=[],h=!1,v=function(w){var S=w.window,I=w.subs;S.complete(),I.unsubscribe(),x4.arrRemove(l,w),h&&_()},_=function(){if(l){var w=new D4.Subscription;u.add(w);var S=new N4.Subject,I={window:S,subs:w,seen:0};l.push(I),u.next(S.asObservable()),O0.executeSchedule(w,o,function(){return v(I)},t)}};a!==null&&a>=0?O0.executeSchedule(u,o,_,a,!0):h=!0,_();var m=function(w){return l.slice().forEach(w)},g=function(w){m(function(S){var I=S.window;return w(I)}),w(u),u.unsubscribe()};return c.subscribe(U4.createOperatorSubscriber(u,function(w){m(function(S){S.window.next(w),s<=++S.seen&&v(S)})},function(){return g(function(w){return w.complete()})},function(w){return g(function(S){return S.error(w)})})),function(){l=null}})}Cl.windowTime=B4});var lp=d($i=>{"use strict";var W4=$i&&$i.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($i,"__esModule",{value:!0});$i.windowToggle=void 0;var V4=le(),H4=We(),z4=C(),E0=L(),cp=j(),w0=se(),Y4=Ur();function G4(t,r){return z4.operate(function(e,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};E0.innerFrom(t).subscribe(cp.createOperatorSubscriber(n,function(a){var s=new V4.Subject;i.push(s);var c=new H4.Subscription,u=function(){Y4.arrRemove(i,s),s.complete(),c.unsubscribe()},l;try{l=E0.innerFrom(r(a))}catch(h){o(h);return}n.next(s.asObservable()),c.add(l.subscribe(cp.createOperatorSubscriber(n,u,w0.noop,o)))},w0.noop)),e.subscribe(cp.createOperatorSubscriber(n,function(a){var s,c,u=i.slice();try{for(var l=W4(u),h=l.next();!h.done;h=l.next()){var v=h.value;v.next(a)}}catch(_){s={error:_}}finally{try{h&&!h.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}$i.windowToggle=G4});var fp=d(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.windowWhen=void 0;var K4=le(),Z4=C(),S0=j(),$4=L();function Q4(t){return Z4.operate(function(r,e){var n,i,o=function(s){n.error(s),e.error(s)},a=function(){i?.unsubscribe(),n?.complete(),n=new K4.Subject,e.next(n.asObservable());var s;try{s=$4.innerFrom(t())}catch(c){o(c);return}s.subscribe(i=S0.createOperatorSubscriber(e,a,a,o))};a(),r.subscribe(S0.createOperatorSubscriber(e,function(s){return n.next(s)},function(){n.complete(),e.complete()},o,function(){i?.unsubscribe(),n=null}))})}Il.windowWhen=Q4});var dp=d(Nt=>{"use strict";var P0=Nt&&Nt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},T0=Nt&&Nt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.withLatestFrom=void 0;var X4=C(),C0=j(),J4=L(),e2=ce(),r2=se(),t2=Re();function n2(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=t2.popResultSelector(t);return X4.operate(function(n,i){for(var o=t.length,a=new Array(o),s=t.map(function(){return!1}),c=!1,u=function(h){J4.innerFrom(t[h]).subscribe(C0.createOperatorSubscriber(i,function(v){a[h]=v,!c&&!s[h]&&(s[h]=!0,(c=s.every(e2.identity))&&(s=null))},r2.noop))},l=0;l<o;l++)u(l);n.subscribe(C0.createOperatorSubscriber(i,function(h){if(c){var v=T0([h],P0(a));i.next(e?e.apply(void 0,T0([],P0(v))):v)}}))})}Nt.withLatestFrom=n2});var hp=d(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.zipAll=void 0;var i2=Us(),o2=Kh();function a2(t){return o2.joinAllInternals(i2.zip,t)}ql.zipAll=a2});var vp=d(kt=>{"use strict";var u2=kt&&kt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},s2=kt&&kt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(kt,"__esModule",{value:!0});kt.zip=void 0;var c2=Us(),l2=C();function f2(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return l2.operate(function(e,n){c2.zip.apply(void 0,s2([e],u2(t))).subscribe(n)})}kt.zip=f2});var pp=d(Dt=>{"use strict";var d2=Dt&&Dt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},h2=Dt&&Dt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.zipWith=void 0;var v2=vp();function p2(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return v2.zip.apply(void 0,h2([],d2(t)))}Dt.zipWith=p2});var ta=d(f=>{"use strict";var _2=f&&f.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),m2=f&&f.__exportStar||function(t,r){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&_2(r,t,e)};Object.defineProperty(f,"__esModule",{value:!0});f.interval=f.iif=f.generate=f.fromEventPattern=f.fromEvent=f.from=f.forkJoin=f.empty=f.defer=f.connectable=f.concat=f.combineLatest=f.bindNodeCallback=f.bindCallback=f.UnsubscriptionError=f.TimeoutError=f.SequenceError=f.ObjectUnsubscribedError=f.NotFoundError=f.EmptyError=f.ArgumentOutOfRangeError=f.firstValueFrom=f.lastValueFrom=f.isObservable=f.identity=f.noop=f.pipe=f.NotificationKind=f.Notification=f.Subscriber=f.Subscription=f.Scheduler=f.VirtualAction=f.VirtualTimeScheduler=f.animationFrameScheduler=f.animationFrame=f.queueScheduler=f.queue=f.asyncScheduler=f.async=f.asapScheduler=f.asap=f.AsyncSubject=f.ReplaySubject=f.BehaviorSubject=f.Subject=f.animationFrames=f.observable=f.ConnectableObservable=f.Observable=void 0;f.filter=f.expand=f.exhaustMap=f.exhaustAll=f.exhaust=f.every=f.endWith=f.elementAt=f.distinctUntilKeyChanged=f.distinctUntilChanged=f.distinct=f.dematerialize=f.delayWhen=f.delay=f.defaultIfEmpty=f.debounceTime=f.debounce=f.count=f.connect=f.concatWith=f.concatMapTo=f.concatMap=f.concatAll=f.combineLatestWith=f.combineLatestAll=f.combineAll=f.catchError=f.bufferWhen=f.bufferToggle=f.bufferTime=f.bufferCount=f.buffer=f.auditTime=f.audit=f.config=f.NEVER=f.EMPTY=f.scheduled=f.zip=f.using=f.timer=f.throwError=f.range=f.race=f.partition=f.pairs=f.onErrorResumeNext=f.of=f.never=f.merge=void 0;f.switchMap=f.switchAll=f.subscribeOn=f.startWith=f.skipWhile=f.skipUntil=f.skipLast=f.skip=f.single=f.shareReplay=f.share=f.sequenceEqual=f.scan=f.sampleTime=f.sample=f.refCount=f.retryWhen=f.retry=f.repeatWhen=f.repeat=f.reduce=f.raceWith=f.publishReplay=f.publishLast=f.publishBehavior=f.publish=f.pluck=f.pairwise=f.onErrorResumeNextWith=f.observeOn=f.multicast=f.min=f.mergeWith=f.mergeScan=f.mergeMapTo=f.mergeMap=f.flatMap=f.mergeAll=f.max=f.materialize=f.mapTo=f.map=f.last=f.isEmpty=f.ignoreElements=f.groupBy=f.first=f.findIndex=f.find=f.finalize=void 0;f.zipWith=f.zipAll=f.withLatestFrom=f.windowWhen=f.windowToggle=f.windowTime=f.windowCount=f.window=f.toArray=f.timestamp=f.timeoutWith=f.timeout=f.timeInterval=f.throwIfEmpty=f.throttleTime=f.throttle=f.tap=f.takeWhile=f.takeUntil=f.takeLast=f.take=f.switchScan=f.switchMapTo=void 0;var b2=z();Object.defineProperty(f,"Observable",{enumerable:!0,get:function(){return b2.Observable}});var y2=Yo();Object.defineProperty(f,"ConnectableObservable",{enumerable:!0,get:function(){return y2.ConnectableObservable}});var g2=Ho();Object.defineProperty(f,"observable",{enumerable:!0,get:function(){return g2.observable}});var O2=ig();Object.defineProperty(f,"animationFrames",{enumerable:!0,get:function(){return O2.animationFrames}});var E2=le();Object.defineProperty(f,"Subject",{enumerable:!0,get:function(){return E2.Subject}});var w2=sh();Object.defineProperty(f,"BehaviorSubject",{enumerable:!0,get:function(){return w2.BehaviorSubject}});var S2=Cu();Object.defineProperty(f,"ReplaySubject",{enumerable:!0,get:function(){return S2.ReplaySubject}});var P2=Iu();Object.defineProperty(f,"AsyncSubject",{enumerable:!0,get:function(){return P2.AsyncSubject}});var I0=Og();Object.defineProperty(f,"asap",{enumerable:!0,get:function(){return I0.asap}});Object.defineProperty(f,"asapScheduler",{enumerable:!0,get:function(){return I0.asapScheduler}});var q0=je();Object.defineProperty(f,"async",{enumerable:!0,get:function(){return q0.async}});Object.defineProperty(f,"asyncScheduler",{enumerable:!0,get:function(){return q0.asyncScheduler}});var j0=Sg();Object.defineProperty(f,"queue",{enumerable:!0,get:function(){return j0.queue}});Object.defineProperty(f,"queueScheduler",{enumerable:!0,get:function(){return j0.queueScheduler}});var R0=Ig();Object.defineProperty(f,"animationFrame",{enumerable:!0,get:function(){return R0.animationFrame}});Object.defineProperty(f,"animationFrameScheduler",{enumerable:!0,get:function(){return R0.animationFrameScheduler}});var A0=Rg();Object.defineProperty(f,"VirtualTimeScheduler",{enumerable:!0,get:function(){return A0.VirtualTimeScheduler}});Object.defineProperty(f,"VirtualAction",{enumerable:!0,get:function(){return A0.VirtualAction}});var T2=lh();Object.defineProperty(f,"Scheduler",{enumerable:!0,get:function(){return T2.Scheduler}});var C2=We();Object.defineProperty(f,"Subscription",{enumerable:!0,get:function(){return C2.Subscription}});var I2=li();Object.defineProperty(f,"Subscriber",{enumerable:!0,get:function(){return I2.Subscriber}});var M0=es();Object.defineProperty(f,"Notification",{enumerable:!0,get:function(){return M0.Notification}});Object.defineProperty(f,"NotificationKind",{enumerable:!0,get:function(){return M0.NotificationKind}});var q2=zo();Object.defineProperty(f,"pipe",{enumerable:!0,get:function(){return q2.pipe}});var j2=se();Object.defineProperty(f,"noop",{enumerable:!0,get:function(){return j2.noop}});var R2=ce();Object.defineProperty(f,"identity",{enumerable:!0,get:function(){return R2.identity}});var A2=Kg();Object.defineProperty(f,"isObservable",{enumerable:!0,get:function(){return A2.isObservable}});var M2=Zg();Object.defineProperty(f,"lastValueFrom",{enumerable:!0,get:function(){return M2.lastValueFrom}});var N2=$g();Object.defineProperty(f,"firstValueFrom",{enumerable:!0,get:function(){return N2.firstValueFrom}});var k2=Ph();Object.defineProperty(f,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return k2.ArgumentOutOfRangeError}});var D2=bt();Object.defineProperty(f,"EmptyError",{enumerable:!0,get:function(){return D2.EmptyError}});var L2=Th();Object.defineProperty(f,"NotFoundError",{enumerable:!0,get:function(){return L2.NotFoundError}});var U2=ih();Object.defineProperty(f,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return U2.ObjectUnsubscribedError}});var x2=Ch();Object.defineProperty(f,"SequenceError",{enumerable:!0,get:function(){return x2.SequenceError}});var F2=$o();Object.defineProperty(f,"TimeoutError",{enumerable:!0,get:function(){return F2.TimeoutError}});var B2=Yd();Object.defineProperty(f,"UnsubscriptionError",{enumerable:!0,get:function(){return B2.UnsubscriptionError}});var W2=Xg();Object.defineProperty(f,"bindCallback",{enumerable:!0,get:function(){return W2.bindCallback}});var V2=Jg();Object.defineProperty(f,"bindNodeCallback",{enumerable:!0,get:function(){return V2.bindNodeCallback}});var H2=ps();Object.defineProperty(f,"combineLatest",{enumerable:!0,get:function(){return H2.combineLatest}});var z2=Xo();Object.defineProperty(f,"concat",{enumerable:!0,get:function(){return z2.concat}});var Y2=uO();Object.defineProperty(f,"connectable",{enumerable:!0,get:function(){return Y2.connectable}});var G2=Jo();Object.defineProperty(f,"defer",{enumerable:!0,get:function(){return G2.defer}});var K2=ar();Object.defineProperty(f,"empty",{enumerable:!0,get:function(){return K2.empty}});var Z2=sO();Object.defineProperty(f,"forkJoin",{enumerable:!0,get:function(){return Z2.forkJoin}});var $2=Fr();Object.defineProperty(f,"from",{enumerable:!0,get:function(){return $2.from}});var Q2=lO();Object.defineProperty(f,"fromEvent",{enumerable:!0,get:function(){return Q2.fromEvent}});var X2=dO();Object.defineProperty(f,"fromEventPattern",{enumerable:!0,get:function(){return X2.fromEventPattern}});var J2=vO();Object.defineProperty(f,"generate",{enumerable:!0,get:function(){return J2.generate}});var eW=pO();Object.defineProperty(f,"iif",{enumerable:!0,get:function(){return eW.iif}});var rW=Mh();Object.defineProperty(f,"interval",{enumerable:!0,get:function(){return rW.interval}});var tW=mO();Object.defineProperty(f,"merge",{enumerable:!0,get:function(){return tW.merge}});var nW=Nh();Object.defineProperty(f,"never",{enumerable:!0,get:function(){return nW.never}});var iW=Xu();Object.defineProperty(f,"of",{enumerable:!0,get:function(){return iW.of}});var oW=kh();Object.defineProperty(f,"onErrorResumeNext",{enumerable:!0,get:function(){return oW.onErrorResumeNext}});var aW=yO();Object.defineProperty(f,"pairs",{enumerable:!0,get:function(){return aW.pairs}});var uW=EO();Object.defineProperty(f,"partition",{enumerable:!0,get:function(){return uW.partition}});var sW=Lh();Object.defineProperty(f,"race",{enumerable:!0,get:function(){return sW.race}});var cW=PO();Object.defineProperty(f,"range",{enumerable:!0,get:function(){return cW.range}});var lW=Sh();Object.defineProperty(f,"throwError",{enumerable:!0,get:function(){return lW.throwError}});var fW=Et();Object.defineProperty(f,"timer",{enumerable:!0,get:function(){return fW.timer}});var dW=TO();Object.defineProperty(f,"using",{enumerable:!0,get:function(){return dW.using}});var hW=Us();Object.defineProperty(f,"zip",{enumerable:!0,get:function(){return hW.zip}});var vW=wh();Object.defineProperty(f,"scheduled",{enumerable:!0,get:function(){return vW.scheduled}});var pW=ar();Object.defineProperty(f,"EMPTY",{enumerable:!0,get:function(){return pW.EMPTY}});var _W=Nh();Object.defineProperty(f,"NEVER",{enumerable:!0,get:function(){return _W.NEVER}});m2(IO(),f);var mW=si();Object.defineProperty(f,"config",{enumerable:!0,get:function(){return mW.config}});var bW=Fs();Object.defineProperty(f,"audit",{enumerable:!0,get:function(){return bW.audit}});var yW=Uh();Object.defineProperty(f,"auditTime",{enumerable:!0,get:function(){return yW.auditTime}});var gW=xh();Object.defineProperty(f,"buffer",{enumerable:!0,get:function(){return gW.buffer}});var OW=Bh();Object.defineProperty(f,"bufferCount",{enumerable:!0,get:function(){return OW.bufferCount}});var EW=Wh();Object.defineProperty(f,"bufferTime",{enumerable:!0,get:function(){return EW.bufferTime}});var wW=Hh();Object.defineProperty(f,"bufferToggle",{enumerable:!0,get:function(){return wW.bufferToggle}});var SW=zh();Object.defineProperty(f,"bufferWhen",{enumerable:!0,get:function(){return SW.bufferWhen}});var PW=Yh();Object.defineProperty(f,"catchError",{enumerable:!0,get:function(){return PW.catchError}});var TW=Zh();Object.defineProperty(f,"combineAll",{enumerable:!0,get:function(){return TW.combineAll}});var CW=Qs();Object.defineProperty(f,"combineLatestAll",{enumerable:!0,get:function(){return CW.combineLatestAll}});var IW=Qh();Object.defineProperty(f,"combineLatestWith",{enumerable:!0,get:function(){return IW.combineLatestWith}});var qW=Qo();Object.defineProperty(f,"concatAll",{enumerable:!0,get:function(){return qW.concatAll}});var jW=ec();Object.defineProperty(f,"concatMap",{enumerable:!0,get:function(){return jW.concatMap}});var RW=Xh();Object.defineProperty(f,"concatMapTo",{enumerable:!0,get:function(){return RW.concatMapTo}});var AW=ev();Object.defineProperty(f,"concatWith",{enumerable:!0,get:function(){return AW.concatWith}});var MW=ea();Object.defineProperty(f,"connect",{enumerable:!0,get:function(){return MW.connect}});var NW=rv();Object.defineProperty(f,"count",{enumerable:!0,get:function(){return NW.count}});var kW=tv();Object.defineProperty(f,"debounce",{enumerable:!0,get:function(){return kW.debounce}});var DW=nv();Object.defineProperty(f,"debounceTime",{enumerable:!0,get:function(){return DW.debounceTime}});var LW=Wi();Object.defineProperty(f,"defaultIfEmpty",{enumerable:!0,get:function(){return LW.defaultIfEmpty}});var UW=iv();Object.defineProperty(f,"delay",{enumerable:!0,get:function(){return UW.delay}});var xW=vc();Object.defineProperty(f,"delayWhen",{enumerable:!0,get:function(){return xW.delayWhen}});var FW=ov();Object.defineProperty(f,"dematerialize",{enumerable:!0,get:function(){return FW.dematerialize}});var BW=av();Object.defineProperty(f,"distinct",{enumerable:!0,get:function(){return BW.distinct}});var WW=yc();Object.defineProperty(f,"distinctUntilChanged",{enumerable:!0,get:function(){return WW.distinctUntilChanged}});var VW=uv();Object.defineProperty(f,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return VW.distinctUntilKeyChanged}});var HW=sv();Object.defineProperty(f,"elementAt",{enumerable:!0,get:function(){return HW.elementAt}});var zW=cv();Object.defineProperty(f,"endWith",{enumerable:!0,get:function(){return zW.endWith}});var YW=lv();Object.defineProperty(f,"every",{enumerable:!0,get:function(){return YW.every}});var GW=fv();Object.defineProperty(f,"exhaust",{enumerable:!0,get:function(){return GW.exhaust}});var KW=Cc();Object.defineProperty(f,"exhaustAll",{enumerable:!0,get:function(){return KW.exhaustAll}});var ZW=Pc();Object.defineProperty(f,"exhaustMap",{enumerable:!0,get:function(){return ZW.exhaustMap}});var $W=dv();Object.defineProperty(f,"expand",{enumerable:!0,get:function(){return $W.expand}});var QW=Vr();Object.defineProperty(f,"filter",{enumerable:!0,get:function(){return QW.filter}});var XW=hv();Object.defineProperty(f,"finalize",{enumerable:!0,get:function(){return XW.finalize}});var JW=Rc();Object.defineProperty(f,"find",{enumerable:!0,get:function(){return JW.find}});var eV=vv();Object.defineProperty(f,"findIndex",{enumerable:!0,get:function(){return eV.findIndex}});var rV=pv();Object.defineProperty(f,"first",{enumerable:!0,get:function(){return rV.first}});var tV=_v();Object.defineProperty(f,"groupBy",{enumerable:!0,get:function(){return tV.groupBy}});var nV=lc();Object.defineProperty(f,"ignoreElements",{enumerable:!0,get:function(){return nV.ignoreElements}});var iV=mv();Object.defineProperty(f,"isEmpty",{enumerable:!0,get:function(){return iV.isEmpty}});var oV=bv();Object.defineProperty(f,"last",{enumerable:!0,get:function(){return oV.last}});var aV=Wr();Object.defineProperty(f,"map",{enumerable:!0,get:function(){return aV.map}});var uV=dc();Object.defineProperty(f,"mapTo",{enumerable:!0,get:function(){return uV.mapTo}});var sV=gv();Object.defineProperty(f,"materialize",{enumerable:!0,get:function(){return sV.materialize}});var cV=Ov();Object.defineProperty(f,"max",{enumerable:!0,get:function(){return cV.max}});var lV=ki();Object.defineProperty(f,"mergeAll",{enumerable:!0,get:function(){return lV.mergeAll}});var fV=Ev();Object.defineProperty(f,"flatMap",{enumerable:!0,get:function(){return fV.flatMap}});var dV=yr();Object.defineProperty(f,"mergeMap",{enumerable:!0,get:function(){return dV.mergeMap}});var hV=wv();Object.defineProperty(f,"mergeMapTo",{enumerable:!0,get:function(){return hV.mergeMapTo}});var vV=Sv();Object.defineProperty(f,"mergeScan",{enumerable:!0,get:function(){return vV.mergeScan}});var pV=Tv();Object.defineProperty(f,"mergeWith",{enumerable:!0,get:function(){return pV.mergeWith}});var _V=Cv();Object.defineProperty(f,"min",{enumerable:!0,get:function(){return _V.min}});var mV=ra();Object.defineProperty(f,"multicast",{enumerable:!0,get:function(){return mV.multicast}});var bV=Ai();Object.defineProperty(f,"observeOn",{enumerable:!0,get:function(){return bV.observeOn}});var yV=Iv();Object.defineProperty(f,"onErrorResumeNextWith",{enumerable:!0,get:function(){return yV.onErrorResumeNextWith}});var gV=qv();Object.defineProperty(f,"pairwise",{enumerable:!0,get:function(){return gV.pairwise}});var OV=jv();Object.defineProperty(f,"pluck",{enumerable:!0,get:function(){return OV.pluck}});var EV=Rv();Object.defineProperty(f,"publish",{enumerable:!0,get:function(){return EV.publish}});var wV=Av();Object.defineProperty(f,"publishBehavior",{enumerable:!0,get:function(){return wV.publishBehavior}});var SV=Mv();Object.defineProperty(f,"publishLast",{enumerable:!0,get:function(){return SV.publishLast}});var PV=Nv();Object.defineProperty(f,"publishReplay",{enumerable:!0,get:function(){return PV.publishReplay}});var TV=Qc();Object.defineProperty(f,"raceWith",{enumerable:!0,get:function(){return TV.raceWith}});var CV=bn();Object.defineProperty(f,"reduce",{enumerable:!0,get:function(){return CV.reduce}});var IV=kv();Object.defineProperty(f,"repeat",{enumerable:!0,get:function(){return IV.repeat}});var qV=Dv();Object.defineProperty(f,"repeatWhen",{enumerable:!0,get:function(){return qV.repeatWhen}});var jV=Lv();Object.defineProperty(f,"retry",{enumerable:!0,get:function(){return jV.retry}});var RV=Uv();Object.defineProperty(f,"retryWhen",{enumerable:!0,get:function(){return RV.retryWhen}});var AV=wu();Object.defineProperty(f,"refCount",{enumerable:!0,get:function(){return AV.refCount}});var MV=nl();Object.defineProperty(f,"sample",{enumerable:!0,get:function(){return MV.sample}});var NV=xv();Object.defineProperty(f,"sampleTime",{enumerable:!0,get:function(){return NV.sampleTime}});var kV=Fv();Object.defineProperty(f,"scan",{enumerable:!0,get:function(){return kV.scan}});var DV=Bv();Object.defineProperty(f,"sequenceEqual",{enumerable:!0,get:function(){return DV.sequenceEqual}});var LV=ul();Object.defineProperty(f,"share",{enumerable:!0,get:function(){return LV.share}});var UV=Vv();Object.defineProperty(f,"shareReplay",{enumerable:!0,get:function(){return UV.shareReplay}});var xV=Hv();Object.defineProperty(f,"single",{enumerable:!0,get:function(){return xV.single}});var FV=zv();Object.defineProperty(f,"skip",{enumerable:!0,get:function(){return FV.skip}});var BV=Yv();Object.defineProperty(f,"skipLast",{enumerable:!0,get:function(){return BV.skipLast}});var WV=Gv();Object.defineProperty(f,"skipUntil",{enumerable:!0,get:function(){return WV.skipUntil}});var VV=Kv();Object.defineProperty(f,"skipWhile",{enumerable:!0,get:function(){return VV.skipWhile}});var HV=Zv();Object.defineProperty(f,"startWith",{enumerable:!0,get:function(){return HV.startWith}});var zV=Mi();Object.defineProperty(f,"subscribeOn",{enumerable:!0,get:function(){return zV.subscribeOn}});var YV=$v();Object.defineProperty(f,"switchAll",{enumerable:!0,get:function(){return YV.switchAll}});var GV=Gi();Object.defineProperty(f,"switchMap",{enumerable:!0,get:function(){return GV.switchMap}});var KV=Qv();Object.defineProperty(f,"switchMapTo",{enumerable:!0,get:function(){return KV.switchMapTo}});var ZV=Xv();Object.defineProperty(f,"switchScan",{enumerable:!0,get:function(){return ZV.switchScan}});var $V=Vi();Object.defineProperty(f,"take",{enumerable:!0,get:function(){return $V.take}});var QV=Dc();Object.defineProperty(f,"takeLast",{enumerable:!0,get:function(){return QV.takeLast}});var XV=Jv();Object.defineProperty(f,"takeUntil",{enumerable:!0,get:function(){return XV.takeUntil}});var JV=ep();Object.defineProperty(f,"takeWhile",{enumerable:!0,get:function(){return JV.takeWhile}});var eH=rp();Object.defineProperty(f,"tap",{enumerable:!0,get:function(){return eH.tap}});var rH=El();Object.defineProperty(f,"throttle",{enumerable:!0,get:function(){return rH.throttle}});var tH=tp();Object.defineProperty(f,"throttleTime",{enumerable:!0,get:function(){return tH.throttleTime}});var nH=Hi();Object.defineProperty(f,"throwIfEmpty",{enumerable:!0,get:function(){return nH.throwIfEmpty}});var iH=np();Object.defineProperty(f,"timeInterval",{enumerable:!0,get:function(){return iH.timeInterval}});var oH=$o();Object.defineProperty(f,"timeout",{enumerable:!0,get:function(){return oH.timeout}});var aH=ip();Object.defineProperty(f,"timeoutWith",{enumerable:!0,get:function(){return aH.timeoutWith}});var uH=op();Object.defineProperty(f,"timestamp",{enumerable:!0,get:function(){return uH.timestamp}});var sH=Ks();Object.defineProperty(f,"toArray",{enumerable:!0,get:function(){return sH.toArray}});var cH=ap();Object.defineProperty(f,"window",{enumerable:!0,get:function(){return cH.window}});var lH=up();Object.defineProperty(f,"windowCount",{enumerable:!0,get:function(){return lH.windowCount}});var fH=sp();Object.defineProperty(f,"windowTime",{enumerable:!0,get:function(){return fH.windowTime}});var dH=lp();Object.defineProperty(f,"windowToggle",{enumerable:!0,get:function(){return dH.windowToggle}});var hH=fp();Object.defineProperty(f,"windowWhen",{enumerable:!0,get:function(){return hH.windowWhen}});var vH=dp();Object.defineProperty(f,"withLatestFrom",{enumerable:!0,get:function(){return vH.withLatestFrom}});var pH=hp();Object.defineProperty(f,"zipAll",{enumerable:!0,get:function(){return pH.zipAll}});var _H=pp();Object.defineProperty(f,"zipWith",{enumerable:!0,get:function(){return _H.zipWith}})});var k0=d(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.partition=void 0;var mH=Dh(),N0=Vr();function bH(t,r){return function(e){return[N0.filter(t,r)(e),N0.filter(mH.not(t,r))(e)]}}jl.partition=bH});var D0=d(Lt=>{"use strict";var yH=Lt&&Lt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},gH=Lt&&Lt.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.race=void 0;var OH=wt(),EH=Qc();function wH(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return EH.raceWith.apply(void 0,gH([],yH(OH.argsOrArgArray(t))))}Lt.race=wH});var Rl=d(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.mergeAll=p.merge=p.max=p.materialize=p.mapTo=p.map=p.last=p.isEmpty=p.ignoreElements=p.groupBy=p.first=p.findIndex=p.find=p.finalize=p.filter=p.expand=p.exhaustMap=p.exhaustAll=p.exhaust=p.every=p.endWith=p.elementAt=p.distinctUntilKeyChanged=p.distinctUntilChanged=p.distinct=p.dematerialize=p.delayWhen=p.delay=p.defaultIfEmpty=p.debounceTime=p.debounce=p.count=p.connect=p.concatWith=p.concatMapTo=p.concatMap=p.concatAll=p.concat=p.combineLatestWith=p.combineLatest=p.combineLatestAll=p.combineAll=p.catchError=p.bufferWhen=p.bufferToggle=p.bufferTime=p.bufferCount=p.buffer=p.auditTime=p.audit=void 0;p.timeInterval=p.throwIfEmpty=p.throttleTime=p.throttle=p.tap=p.takeWhile=p.takeUntil=p.takeLast=p.take=p.switchScan=p.switchMapTo=p.switchMap=p.switchAll=p.subscribeOn=p.startWith=p.skipWhile=p.skipUntil=p.skipLast=p.skip=p.single=p.shareReplay=p.share=p.sequenceEqual=p.scan=p.sampleTime=p.sample=p.refCount=p.retryWhen=p.retry=p.repeatWhen=p.repeat=p.reduce=p.raceWith=p.race=p.publishReplay=p.publishLast=p.publishBehavior=p.publish=p.pluck=p.partition=p.pairwise=p.onErrorResumeNext=p.observeOn=p.multicast=p.min=p.mergeWith=p.mergeScan=p.mergeMapTo=p.mergeMap=p.flatMap=void 0;p.zipWith=p.zipAll=p.zip=p.withLatestFrom=p.windowWhen=p.windowToggle=p.windowTime=p.windowCount=p.window=p.toArray=p.timestamp=p.timeoutWith=p.timeout=void 0;var SH=Fs();Object.defineProperty(p,"audit",{enumerable:!0,get:function(){return SH.audit}});var PH=Uh();Object.defineProperty(p,"auditTime",{enumerable:!0,get:function(){return PH.auditTime}});var TH=xh();Object.defineProperty(p,"buffer",{enumerable:!0,get:function(){return TH.buffer}});var CH=Bh();Object.defineProperty(p,"bufferCount",{enumerable:!0,get:function(){return CH.bufferCount}});var IH=Wh();Object.defineProperty(p,"bufferTime",{enumerable:!0,get:function(){return IH.bufferTime}});var qH=Hh();Object.defineProperty(p,"bufferToggle",{enumerable:!0,get:function(){return qH.bufferToggle}});var jH=zh();Object.defineProperty(p,"bufferWhen",{enumerable:!0,get:function(){return jH.bufferWhen}});var RH=Yh();Object.defineProperty(p,"catchError",{enumerable:!0,get:function(){return RH.catchError}});var AH=Zh();Object.defineProperty(p,"combineAll",{enumerable:!0,get:function(){return AH.combineAll}});var MH=Qs();Object.defineProperty(p,"combineLatestAll",{enumerable:!0,get:function(){return MH.combineLatestAll}});var NH=$h();Object.defineProperty(p,"combineLatest",{enumerable:!0,get:function(){return NH.combineLatest}});var kH=Qh();Object.defineProperty(p,"combineLatestWith",{enumerable:!0,get:function(){return kH.combineLatestWith}});var DH=Jh();Object.defineProperty(p,"concat",{enumerable:!0,get:function(){return DH.concat}});var LH=Qo();Object.defineProperty(p,"concatAll",{enumerable:!0,get:function(){return LH.concatAll}});var UH=ec();Object.defineProperty(p,"concatMap",{enumerable:!0,get:function(){return UH.concatMap}});var xH=Xh();Object.defineProperty(p,"concatMapTo",{enumerable:!0,get:function(){return xH.concatMapTo}});var FH=ev();Object.defineProperty(p,"concatWith",{enumerable:!0,get:function(){return FH.concatWith}});var BH=ea();Object.defineProperty(p,"connect",{enumerable:!0,get:function(){return BH.connect}});var WH=rv();Object.defineProperty(p,"count",{enumerable:!0,get:function(){return WH.count}});var VH=tv();Object.defineProperty(p,"debounce",{enumerable:!0,get:function(){return VH.debounce}});var HH=nv();Object.defineProperty(p,"debounceTime",{enumerable:!0,get:function(){return HH.debounceTime}});var zH=Wi();Object.defineProperty(p,"defaultIfEmpty",{enumerable:!0,get:function(){return zH.defaultIfEmpty}});var YH=iv();Object.defineProperty(p,"delay",{enumerable:!0,get:function(){return YH.delay}});var GH=vc();Object.defineProperty(p,"delayWhen",{enumerable:!0,get:function(){return GH.delayWhen}});var KH=ov();Object.defineProperty(p,"dematerialize",{enumerable:!0,get:function(){return KH.dematerialize}});var ZH=av();Object.defineProperty(p,"distinct",{enumerable:!0,get:function(){return ZH.distinct}});var $H=yc();Object.defineProperty(p,"distinctUntilChanged",{enumerable:!0,get:function(){return $H.distinctUntilChanged}});var QH=uv();Object.defineProperty(p,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return QH.distinctUntilKeyChanged}});var XH=sv();Object.defineProperty(p,"elementAt",{enumerable:!0,get:function(){return XH.elementAt}});var JH=cv();Object.defineProperty(p,"endWith",{enumerable:!0,get:function(){return JH.endWith}});var e3=lv();Object.defineProperty(p,"every",{enumerable:!0,get:function(){return e3.every}});var r3=fv();Object.defineProperty(p,"exhaust",{enumerable:!0,get:function(){return r3.exhaust}});var t3=Cc();Object.defineProperty(p,"exhaustAll",{enumerable:!0,get:function(){return t3.exhaustAll}});var n3=Pc();Object.defineProperty(p,"exhaustMap",{enumerable:!0,get:function(){return n3.exhaustMap}});var i3=dv();Object.defineProperty(p,"expand",{enumerable:!0,get:function(){return i3.expand}});var o3=Vr();Object.defineProperty(p,"filter",{enumerable:!0,get:function(){return o3.filter}});var a3=hv();Object.defineProperty(p,"finalize",{enumerable:!0,get:function(){return a3.finalize}});var u3=Rc();Object.defineProperty(p,"find",{enumerable:!0,get:function(){return u3.find}});var s3=vv();Object.defineProperty(p,"findIndex",{enumerable:!0,get:function(){return s3.findIndex}});var c3=pv();Object.defineProperty(p,"first",{enumerable:!0,get:function(){return c3.first}});var l3=_v();Object.defineProperty(p,"groupBy",{enumerable:!0,get:function(){return l3.groupBy}});var f3=lc();Object.defineProperty(p,"ignoreElements",{enumerable:!0,get:function(){return f3.ignoreElements}});var d3=mv();Object.defineProperty(p,"isEmpty",{enumerable:!0,get:function(){return d3.isEmpty}});var h3=bv();Object.defineProperty(p,"last",{enumerable:!0,get:function(){return h3.last}});var v3=Wr();Object.defineProperty(p,"map",{enumerable:!0,get:function(){return v3.map}});var p3=dc();Object.defineProperty(p,"mapTo",{enumerable:!0,get:function(){return p3.mapTo}});var _3=gv();Object.defineProperty(p,"materialize",{enumerable:!0,get:function(){return _3.materialize}});var m3=Ov();Object.defineProperty(p,"max",{enumerable:!0,get:function(){return m3.max}});var b3=Pv();Object.defineProperty(p,"merge",{enumerable:!0,get:function(){return b3.merge}});var y3=ki();Object.defineProperty(p,"mergeAll",{enumerable:!0,get:function(){return y3.mergeAll}});var g3=Ev();Object.defineProperty(p,"flatMap",{enumerable:!0,get:function(){return g3.flatMap}});var O3=yr();Object.defineProperty(p,"mergeMap",{enumerable:!0,get:function(){return O3.mergeMap}});var E3=wv();Object.defineProperty(p,"mergeMapTo",{enumerable:!0,get:function(){return E3.mergeMapTo}});var w3=Sv();Object.defineProperty(p,"mergeScan",{enumerable:!0,get:function(){return w3.mergeScan}});var S3=Tv();Object.defineProperty(p,"mergeWith",{enumerable:!0,get:function(){return S3.mergeWith}});var P3=Cv();Object.defineProperty(p,"min",{enumerable:!0,get:function(){return P3.min}});var T3=ra();Object.defineProperty(p,"multicast",{enumerable:!0,get:function(){return T3.multicast}});var C3=Ai();Object.defineProperty(p,"observeOn",{enumerable:!0,get:function(){return C3.observeOn}});var I3=Iv();Object.defineProperty(p,"onErrorResumeNext",{enumerable:!0,get:function(){return I3.onErrorResumeNext}});var q3=qv();Object.defineProperty(p,"pairwise",{enumerable:!0,get:function(){return q3.pairwise}});var j3=k0();Object.defineProperty(p,"partition",{enumerable:!0,get:function(){return j3.partition}});var R3=jv();Object.defineProperty(p,"pluck",{enumerable:!0,get:function(){return R3.pluck}});var A3=Rv();Object.defineProperty(p,"publish",{enumerable:!0,get:function(){return A3.publish}});var M3=Av();Object.defineProperty(p,"publishBehavior",{enumerable:!0,get:function(){return M3.publishBehavior}});var N3=Mv();Object.defineProperty(p,"publishLast",{enumerable:!0,get:function(){return N3.publishLast}});var k3=Nv();Object.defineProperty(p,"publishReplay",{enumerable:!0,get:function(){return k3.publishReplay}});var D3=D0();Object.defineProperty(p,"race",{enumerable:!0,get:function(){return D3.race}});var L3=Qc();Object.defineProperty(p,"raceWith",{enumerable:!0,get:function(){return L3.raceWith}});var U3=bn();Object.defineProperty(p,"reduce",{enumerable:!0,get:function(){return U3.reduce}});var x3=kv();Object.defineProperty(p,"repeat",{enumerable:!0,get:function(){return x3.repeat}});var F3=Dv();Object.defineProperty(p,"repeatWhen",{enumerable:!0,get:function(){return F3.repeatWhen}});var B3=Lv();Object.defineProperty(p,"retry",{enumerable:!0,get:function(){return B3.retry}});var W3=Uv();Object.defineProperty(p,"retryWhen",{enumerable:!0,get:function(){return W3.retryWhen}});var V3=wu();Object.defineProperty(p,"refCount",{enumerable:!0,get:function(){return V3.refCount}});var H3=nl();Object.defineProperty(p,"sample",{enumerable:!0,get:function(){return H3.sample}});var z3=xv();Object.defineProperty(p,"sampleTime",{enumerable:!0,get:function(){return z3.sampleTime}});var Y3=Fv();Object.defineProperty(p,"scan",{enumerable:!0,get:function(){return Y3.scan}});var G3=Bv();Object.defineProperty(p,"sequenceEqual",{enumerable:!0,get:function(){return G3.sequenceEqual}});var K3=ul();Object.defineProperty(p,"share",{enumerable:!0,get:function(){return K3.share}});var Z3=Vv();Object.defineProperty(p,"shareReplay",{enumerable:!0,get:function(){return Z3.shareReplay}});var $3=Hv();Object.defineProperty(p,"single",{enumerable:!0,get:function(){return $3.single}});var Q3=zv();Object.defineProperty(p,"skip",{enumerable:!0,get:function(){return Q3.skip}});var X3=Yv();Object.defineProperty(p,"skipLast",{enumerable:!0,get:function(){return X3.skipLast}});var J3=Gv();Object.defineProperty(p,"skipUntil",{enumerable:!0,get:function(){return J3.skipUntil}});var e8=Kv();Object.defineProperty(p,"skipWhile",{enumerable:!0,get:function(){return e8.skipWhile}});var r8=Zv();Object.defineProperty(p,"startWith",{enumerable:!0,get:function(){return r8.startWith}});var t8=Mi();Object.defineProperty(p,"subscribeOn",{enumerable:!0,get:function(){return t8.subscribeOn}});var n8=$v();Object.defineProperty(p,"switchAll",{enumerable:!0,get:function(){return n8.switchAll}});var i8=Gi();Object.defineProperty(p,"switchMap",{enumerable:!0,get:function(){return i8.switchMap}});var o8=Qv();Object.defineProperty(p,"switchMapTo",{enumerable:!0,get:function(){return o8.switchMapTo}});var a8=Xv();Object.defineProperty(p,"switchScan",{enumerable:!0,get:function(){return a8.switchScan}});var u8=Vi();Object.defineProperty(p,"take",{enumerable:!0,get:function(){return u8.take}});var s8=Dc();Object.defineProperty(p,"takeLast",{enumerable:!0,get:function(){return s8.takeLast}});var c8=Jv();Object.defineProperty(p,"takeUntil",{enumerable:!0,get:function(){return c8.takeUntil}});var l8=ep();Object.defineProperty(p,"takeWhile",{enumerable:!0,get:function(){return l8.takeWhile}});var f8=rp();Object.defineProperty(p,"tap",{enumerable:!0,get:function(){return f8.tap}});var d8=El();Object.defineProperty(p,"throttle",{enumerable:!0,get:function(){return d8.throttle}});var h8=tp();Object.defineProperty(p,"throttleTime",{enumerable:!0,get:function(){return h8.throttleTime}});var v8=Hi();Object.defineProperty(p,"throwIfEmpty",{enumerable:!0,get:function(){return v8.throwIfEmpty}});var p8=np();Object.defineProperty(p,"timeInterval",{enumerable:!0,get:function(){return p8.timeInterval}});var _8=$o();Object.defineProperty(p,"timeout",{enumerable:!0,get:function(){return _8.timeout}});var m8=ip();Object.defineProperty(p,"timeoutWith",{enumerable:!0,get:function(){return m8.timeoutWith}});var b8=op();Object.defineProperty(p,"timestamp",{enumerable:!0,get:function(){return b8.timestamp}});var y8=Ks();Object.defineProperty(p,"toArray",{enumerable:!0,get:function(){return y8.toArray}});var g8=ap();Object.defineProperty(p,"window",{enumerable:!0,get:function(){return g8.window}});var O8=up();Object.defineProperty(p,"windowCount",{enumerable:!0,get:function(){return O8.windowCount}});var E8=sp();Object.defineProperty(p,"windowTime",{enumerable:!0,get:function(){return E8.windowTime}});var w8=lp();Object.defineProperty(p,"windowToggle",{enumerable:!0,get:function(){return w8.windowToggle}});var S8=fp();Object.defineProperty(p,"windowWhen",{enumerable:!0,get:function(){return S8.windowWhen}});var P8=dp();Object.defineProperty(p,"withLatestFrom",{enumerable:!0,get:function(){return P8.withLatestFrom}});var T8=vp();Object.defineProperty(p,"zip",{enumerable:!0,get:function(){return T8.zip}});var C8=hp();Object.defineProperty(p,"zipAll",{enumerable:!0,get:function(){return C8.zipAll}});var I8=pp();Object.defineProperty(p,"zipWith",{enumerable:!0,get:function(){return I8.zipWith}})});var ia=d(Ml=>{"use strict";var Al=st();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.default=void 0;var Ke=Al(ed()),Qi=Al(rd()),L0=Al(Zt()),U0=Al($t()),q8=D(),On=ta(),gn=Rl(),na={READY:0,STREAMING:1,COMPLETED:2},j8=function(){function t(r,e){(0,L0.default)(this,t);var n=r.pipe((0,gn.publishReplay)(1),(0,gn.refCount)());this._result=n,this._keys=n.pipe((0,gn.mergeMap)(function(i){return(0,On.from)(i.keys())}),(0,gn.publishReplay)(1),(0,gn.refCount)()),this._records=void 0,this._controls=new x0,this._summary=new On.ReplaySubject,this._state=e||na.READY}return(0,U0.default)(t,[{key:"keys",value:function(){return this._keys}},{key:"records",value:function(){var e=this,n=this._result.pipe((0,gn.mergeMap)(function(i){return new On.Observable(function(o){return e._startStreaming({result:i,recordsObserver:o})})}));return n.push=function(){return e._push()},n}},{key:"consume",value:function(){var e=this;return this._result.pipe((0,gn.mergeMap)(function(n){return new On.Observable(function(i){return e._startStreaming({result:n,summaryObserver:i})})}))}},{key:"pause",value:function(){this._controls.pause()}},{key:"resume",value:function(){return this._controls.resume()}},{key:"push",value:function(){return this._controls.push()}},{key:"_startStreaming",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.result,i=e.recordsObserver,o=i===void 0?null:i,a=e.summaryObserver,s=a===void 0?null:a,c=[];return s&&c.push(this._summary.subscribe(s)),this._state<na.STREAMING?(this._state=na.STREAMING,this._setupRecordsStream(n),o?c.push(this._records.subscribe(o)):n._cancel(),c.push({unsubscribe:function(){n._cancel&&n._cancel()}})):o&&o.error((0,q8.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){c.forEach(function(u){return u.unsubscribe()})}}},{key:"_toObservable",value:function(){var e=this;function n(i){return new On.Observable(function(o){o.next(i),o.complete()})}return new On.Observable(function(i){e._result.subscribe({complete:function(){return i.complete()},next:function(a){return i.next(new t(n(a)),e._state)},error:function(a){return i.error(a)}})})}},{key:"_setupRecordsStream",value:function(e){var n=this;return this._records?this._records:(this._records=R8(e[Symbol.asyncIterator](),{complete:function(){var i=(0,Qi.default)(Ke.default.mark(function a(){return Ke.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n._state=na.COMPLETED,c.t0=n._summary,c.next=4,e.summary();case 4:c.t1=c.sent,c.t0.next.call(c.t0,c.t1),n._summary.complete();case 7:case"end":return c.stop()}},a)}));function o(){return i.apply(this,arguments)}return o}(),error:function(o){n._state=na.COMPLETED,n._summary.error(o)}},this._controls),this._records)}}]),t}();Ml.default=j8;function R8(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new x0,n=new On.Subject,i=function(){var s=(0,Qi.default)(Ke.default.mark(function c(u){var l,h,v;return Ke.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,e.pushing=!0,m.next=4,u;case 4:l=m.sent,h=l.done,v=l.value,h?(n.complete(),r.complete()):(n.next(v),e.paused||i(t.next()).catch(function(){})),m.next=14;break;case 10:m.prev=10,m.t0=m.catch(0),n.error(m.t0),r.error(m.t0);case 14:return m.prev=14,e.pushing=!1,m.finish(14);case 17:case"end":return m.stop()}},c,null,[[0,10,14,17]])}));return function(u){return s.apply(this,arguments)}}();function o(s){return a.apply(this,arguments)}function a(){return a=(0,Qi.default)(Ke.default.mark(function s(c){return Ke.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i(t.next(c));case 2:case"end":return l.stop()}},s)})),a.apply(this,arguments)}return e.pusher=o,o(),n}var x0=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,Qi.default)(Ke.default.mark(function e(){return Ke.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},e)}));(0,L0.default)(this,t),this._paused=!1,this._pushing=!1,this._push=r}return(0,U0.default)(t,[{key:"pause",value:function(){this._paused=!0}},{key:"paused",get:function(){return this._paused}},{key:"pushing",get:function(){return this._pushing},set:function(e){this._pushing=e}},{key:"resume",value:function(){var r=(0,Qi.default)(Ke.default.mark(function n(){var i;return Ke.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=this._paused,this._paused=!1,!(i&&!this._pushing)){a.next=5;break}return a.next=5,this._push();case 5:case"end":return a.stop()}},n,this)}));function e(){return r.apply(this,arguments)}return e}()},{key:"push",value:function(){var r=(0,Qi.default)(Ke.default.mark(function n(){return Ke.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.pause(),o.next=3,this._push();case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},n,this)}));function e(){return r.apply(this,arguments)}return e}()},{key:"pusher",get:function(){return this._push},set:function(e){this._push=e}}]),t}()});var Ll=d(Dl=>{"use strict";var kl=st();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.default=void 0;var A8=kl(Zt()),M8=kl($t()),Nl=ta(),N8=kl(ia()),xJ=kl(D()),k8=function(){function t(r){(0,A8.default)(this,t),this._txc=r}return(0,M8.default)(t,[{key:"run",value:function(e,n){var i=this;return new N8.default(new Nl.Observable(function(o){try{o.next(i._txc.run(e,n)),o.complete()}catch(a){o.error(a)}return function(){}}))}},{key:"commit",value:function(){var e=this;return new Nl.Observable(function(n){e._txc.commit().then(function(){n.complete()}).catch(function(i){return n.error(i)})})}},{key:"rollback",value:function(){var e=this;return new Nl.Observable(function(n){e._txc.rollback().then(function(){n.complete()}).catch(function(i){return n.error(i)})})}},{key:"isOpen",value:function(){return this._txc.isOpen()}},{key:"close",value:function(){var e=this;return new Nl.Observable(function(n){e._txc.close().then(function(){n.complete()}).catch(function(i){return n.error(i)})})}}]),t}();Dl.default=k8});var _p=d(xl=>{"use strict";var Ul=st();Object.defineProperty(xl,"__esModule",{value:!0});xl.default=void 0;var D8=Ul(Zt()),L8=Ul($t()),BJ=Ul(ia()),WJ=Ul(Ll()),U8=function(){function t(r){var e=r.run;(0,D8.default)(this,t),this._run=e}return(0,L8.default)(t,[{key:"run",value:function(e,n){return this._run(e,n)}}],[{key:"fromTransaction",value:function(e){return new t({run:e.run.bind(e)})}}]),t}(),x8=U8;xl.default=x8});var z0=d(Wl=>{"use strict";var H0=st();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.default=void 0;var F8=H0(Zt()),B8=H0($t()),Bl=D(),mp=ta(),bp=Rl(),HJ=Bl.internal.logger.Logger,W8=Bl.error.SERVICE_UNAVAILABLE,F0=30*1e3,B0=1e3,W0=2,V0=.2,V8=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.maxRetryTimeout,n=e===void 0?F0:e,i=r.initialDelay,o=i===void 0?B0:i,a=r.delayMultiplier,s=a===void 0?W0:a,c=r.delayJitter,u=c===void 0?V0:c,l=r.logger,h=l===void 0?null:l;(0,F8.default)(this,t),this._maxRetryTimeout=Fl(n,F0),this._initialDelay=Fl(o,B0),this._delayMultiplier=Fl(s,W0),this._delayJitter=Fl(u,V0),this._logger=h}return(0,B8.default)(t,[{key:"retry",value:function(e){var n=this;return e.pipe((0,bp.retryWhen)(function(i){var o=[],a=Date.now(),s=1,c=n._initialDelay;return i.pipe((0,bp.mergeMap)(function(u){if(!(0,Bl.isRetriableError)(u))return(0,mp.throwError)(function(){return u});if(o.push(u),s>=2&&Date.now()-a>=n._maxRetryTimeout){var l=(0,Bl.newError)("Failed after retried for ".concat(s," times in ").concat(n._maxRetryTimeout," ms. Make sure that your database is online and retry again."),W8);return l.seenErrors=o,(0,mp.throwError)(function(){return l})}var h=n._computeNextDelay(c);return c=c*n._delayMultiplier,s++,n._logger&&n._logger.warn("Transaction failed and will be retried in ".concat(h)),(0,mp.of)(1).pipe((0,bp.delay)(h))}))}))}},{key:"_computeNextDelay",value:function(e){var n=e*this._delayJitter;return e-n+2*n*Math.random()}}]),t}();Wl.default=V8;function Fl(t,r){return t||t===0?t:r}});var yp=d(zl=>{"use strict";var Ji=st();Object.defineProperty(zl,"__esModule",{value:!0});zl.default=void 0;var H8=Ji(Zt()),z8=Ji($t()),Xi=ta(),Vl=Rl(),Y8=Ji(ia()),K0=D(),G8=Ji(Ll()),K8=Ji(_p()),Z8=Ji(z0()),Z0=K0.internal.constants,Y0=Z0.ACCESS_MODE_READ,G0=Z0.ACCESS_MODE_WRITE,Hl=K0.internal.txConfig.TxConfig,$8=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.session,n=r.config;(0,H8.default)(this,t),this._session=e,this._retryLogic=Q8(n)}return(0,z8.default)(t,[{key:"run",value:function(e,n,i){var o=this;return new Y8.default(new Xi.Observable(function(a){try{a.next(o._session.run(e,n,i)),a.complete()}catch(s){a.error(s)}return function(){}}))}},{key:"beginTransaction",value:function(e){return this._beginTransaction(this._session._mode,e)}},{key:"readTransaction",value:function(e,n){return this._runTransaction(Y0,e,n)}},{key:"writeTransaction",value:function(e,n){return this._runTransaction(G0,e,n)}},{key:"executeRead",value:function(e,n){return this._executeInTransaction(Y0,e,n)}},{key:"executeWrite",value:function(e,n){return this._executeInTransaction(G0,e,n)}},{key:"_executeInTransaction",value:function(e,n,i){var o=function(s){return new K8.default({run:s.run.bind(s)})};return this._runTransaction(e,n,i,o)}},{key:"close",value:function(){var e=this;return new Xi.Observable(function(n){e._session.close().then(function(){n.complete()}).catch(function(i){return n.error(i)})})}},{key:"lastBookmark",value:function(){return this.lastBookmarks()}},{key:"lastBookmarks",value:function(){return this._session.lastBookmarks()}},{key:"_beginTransaction",value:function(e,n){var i=this,o=Hl.empty();return n&&(o=new Hl(n)),new Xi.Observable(function(a){try{i._session._beginTransaction(e,o).then(function(s){a.next(new G8.default(s)),a.complete()}).catch(function(s){return a.error(s)})}catch(s){a.error(s)}return function(){}})}},{key:"_runTransaction",value:function(e,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(s){return s},a=Hl.empty();return i&&(a=new Hl(i)),this._retryLogic.retry(this._beginTransaction(e,a).pipe((0,Vl.mergeMap)(function(s){return(0,Xi.defer)(function(){try{return n(o(s))}catch(c){return(0,Xi.throwError)(function(){return c})}}).pipe((0,Vl.catchError)(function(c){return s.rollback().pipe((0,Vl.concatWith)((0,Xi.throwError)(function(){return c})))}),(0,Vl.concatWith)(s.commit()))})))}}]),t}();zl.default=$8;function Q8(t){var r=t&&t.maxTransactionRetryTime?t.maxTransactionRetryTime:null;return new Z8.default({maxRetryTimeout:r})}});var eE=d(Or=>{"use strict";var eo=st();Object.defineProperty(Or,"__esModule",{value:!0});Or.default=Or.WRITE=Or.READ=Or.Driver=void 0;var X8=eo(Zt()),J8=eo($t()),e6=eo(Um()),r6=eo(Fm()),$0=eo(Bm()),Yl=D(),t6=eo(yp());function n6(t){var r=i6();return function(){var n=(0,$0.default)(t),i;if(r){var o=(0,$0.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,r6.default)(this,i)}}function i6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Q0=Yl.internal.constants.FETCH_ALL,o6=Yl.driver.READ,X0=Yl.driver.WRITE;Or.WRITE=X0;Or.READ=o6;var J0=function(t){(0,e6.default)(e,t);var r=n6(e);function e(){return(0,X8.default)(this,e),r.apply(this,arguments)}return(0,J8.default)(e,[{key:"rxSession",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.defaultAccessMode,a=o===void 0?X0:o,s=i.bookmarks,c=i.database,u=c===void 0?"":c,l=i.fetchSize,h=i.impersonatedUser,v=i.bookmarkManager;return new t6.default({session:this._newSession({defaultAccessMode:a,bookmarkOrBookmarks:s,database:u,impersonatedUser:h,reactive:!1,fetchSize:a6(l,this._config.fetchSize),bookmarkManager:v}),config:this._config})}}]),e}(Yl.Driver);Or.Driver=J0;function a6(t,r){var e=parseInt(t,10);if(e>0||e===Q0)return e;if(e===0||e<0)throw new Error("The fetch size can only be a positive value or ".concat(Q0," for ALL. However fetchSize = ").concat(e));return r}var u6=J0;Or.default=u6});var rE=d(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.default=void 0;var s6="5.3.0";Gl.default=s6});var Op=d(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});var c6=function(){function t(){}return t.prototype.selectReader=function(r){throw new Error("Abstract function")},t.prototype.selectWriter=function(r){throw new Error("Abstract function")},t}();gp.default=c6});var tE=d(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});var l6=function(){function t(r){this._offset=r||0}return t.prototype.next=function(r){if(r===0)return-1;var e=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),e%r},t}();Ep.default=l6});var oE=d(En=>{"use strict";var f6=En&&En.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),iE=En&&En.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});var nE=iE(tE()),d6=iE(Op()),h6=function(t){f6(r,t);function r(e){var n=t.call(this)||this;return n._readersIndex=new nE.default,n._writersIndex=new nE.default,n._connectionPool=e,n}return r.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},r.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},r.prototype._select=function(e,n){var i=e.length;if(i===0)return null;var o=n.next(i),a=o,s=null,c=Number.MAX_SAFE_INTEGER;do{var u=e[a],l=this._connectionPool.activeResourceCount(u);l<c&&(s=u,c=l),a===i-1?a=0:a++}while(a!==o);return s},r}(d6.default);En.default=h6});var wp=d(Hr=>{"use strict";var aE=Hr&&Hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.LeastConnectedLoadBalancingStrategy=Hr.LoadBalancingStrategy=void 0;var v6=aE(Op());Hr.LoadBalancingStrategy=v6.default;var uE=aE(oE());Hr.LeastConnectedLoadBalancingStrategy=uE.default;Hr.default=uE.default});var Sp=d(oa=>{"use strict";var p6=oa&&oa.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(oa,"__esModule",{value:!0});var sE=function(){function t(r){this.position=0,this.length=r}return t.prototype.getUInt8=function(r){throw new Error("Not implemented")},t.prototype.getInt8=function(r){throw new Error("Not implemented")},t.prototype.getFloat64=function(r){throw new Error("Not implemented")},t.prototype.putUInt8=function(r,e){throw new Error("Not implemented")},t.prototype.putInt8=function(r,e){throw new Error("Not implemented")},t.prototype.putFloat64=function(r,e){throw new Error("Not implemented")},t.prototype.getInt16=function(r){return this.getInt8(r)<<8|this.getUInt8(r+1)},t.prototype.getUInt16=function(r){return this.getUInt8(r)<<8|this.getUInt8(r+1)},t.prototype.getInt32=function(r){return this.getInt8(r)<<24|this.getUInt8(r+1)<<16|this.getUInt8(r+2)<<8|this.getUInt8(r+3)},t.prototype.getUInt32=function(r){return this.getUInt8(r)<<24|this.getUInt8(r+1)<<16|this.getUInt8(r+2)<<8|this.getUInt8(r+3)},t.prototype.getInt64=function(r){return this.getInt8(r)<<56|this.getUInt8(r+1)<<48|this.getUInt8(r+2)<<40|this.getUInt8(r+3)<<32|this.getUInt8(r+4)<<24|this.getUInt8(r+5)<<16|this.getUInt8(r+6)<<8|this.getUInt8(r+7)},t.prototype.getSlice=function(r,e){return new _6(r,e,this)},t.prototype.putInt16=function(r,e){this.putInt8(r,e>>8),this.putUInt8(r+1,e&255)},t.prototype.putUInt16=function(r,e){this.putUInt8(r,e>>8&255),this.putUInt8(r+1,e&255)},t.prototype.putInt32=function(r,e){this.putInt8(r,e>>24),this.putUInt8(r+1,e>>16&255),this.putUInt8(r+2,e>>8&255),this.putUInt8(r+3,e&255)},t.prototype.putUInt32=function(r,e){this.putUInt8(r,e>>24&255),this.putUInt8(r+1,e>>16&255),this.putUInt8(r+2,e>>8&255),this.putUInt8(r+3,e&255)},t.prototype.putInt64=function(r,e){this.putInt8(r,e>>48),this.putUInt8(r+1,e>>42&255),this.putUInt8(r+2,e>>36&255),this.putUInt8(r+3,e>>30&255),this.putUInt8(r+4,e>>24&255),this.putUInt8(r+5,e>>16&255),this.putUInt8(r+6,e>>8&255),this.putUInt8(r+7,e&255)},t.prototype.putBytes=function(r,e){for(var n=0,i=e.remaining();n<i;n++)this.putUInt8(r+n,e.readUInt8())},t.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},t.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},t.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},t.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},t.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},t.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},t.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},t.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},t.prototype.writeUInt8=function(r){this.putUInt8(this._updatePos(1),r)},t.prototype.writeInt8=function(r){this.putInt8(this._updatePos(1),r)},t.prototype.writeInt16=function(r){this.putInt16(this._updatePos(2),r)},t.prototype.writeInt32=function(r){this.putInt32(this._updatePos(4),r)},t.prototype.writeUInt32=function(r){this.putUInt32(this._updatePos(4),r)},t.prototype.writeInt64=function(r){this.putInt64(this._updatePos(8),r)},t.prototype.writeFloat64=function(r){this.putFloat64(this._updatePos(8),r)},t.prototype.writeBytes=function(r){this.putBytes(this._updatePos(r.remaining()),r)},t.prototype.readSlice=function(r){return this.getSlice(this._updatePos(r),r)},t.prototype._updatePos=function(r){var e=this.position;return this.position+=r,e},t.prototype.remaining=function(){return this.length-this.position},t.prototype.hasRemaining=function(){return this.remaining()>0},t.prototype.reset=function(){this.position=0},t.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},t.prototype.toHex=function(){for(var r="",e=0;e<this.length;e++){var n=this.getUInt8(e).toString(16);n.length===1&&(n="0"+n),r+=n,e!==this.length-1&&(r+=" ")}return r},t}();oa.default=sE;var _6=function(t){p6(r,t);function r(e,n,i){var o=t.call(this,n)||this;return o._start=e,o._inner=i,o}return r.prototype.putUInt8=function(e,n){this._inner.putUInt8(this._start+e,n)},r.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},r.prototype.putInt8=function(e,n){this._inner.putInt8(this._start+e,n)},r.prototype.putFloat64=function(e,n){this._inner.putFloat64(this._start+e,n)},r.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},r.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},r}(sE)});var Kl=d(wn=>{"use strict";var m6=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});wn.BaseBuffer=void 0;var cE=m6(Sp());wn.BaseBuffer=cE.default;wn.default=cE.default});var ro=d(zr=>{"use strict";var b6=zr&&zr.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lE=zr&&zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zr,"__esModule",{value:!0});zr.alloc=void 0;var Zl=lE(require("buffer")),y6=lE(Kl()),fE=function(t){b6(r,t);function r(e){var n=this,i=O6(e);return n=t.call(this,i.length)||this,n._buffer=i,n}return r.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},r.prototype.getInt8=function(e){return this._buffer.readInt8(e)},r.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},r.prototype.putUInt8=function(e,n){this._buffer.writeUInt8(n,e)},r.prototype.putInt8=function(e,n){this._buffer.writeInt8(n,e)},r.prototype.putFloat64=function(e,n){this._buffer.writeDoubleBE(n,e)},r.prototype.putBytes=function(e,n){if(n instanceof r){var i=Math.min(n.length-n.position,this.length-e);n._buffer.copy(this._buffer,e,n.position,n.position+i),n.position+=i}else t.prototype.putBytes.call(this,e,n)},r.prototype.getSlice=function(e,n){return new r(this._buffer.slice(e,e+n))},r}(y6.default);zr.default=fE;function g6(t){return new fE(t)}zr.alloc=g6;function O6(t){return t instanceof Zl.default.Buffer?t:typeof t=="number"&&typeof Zl.default.Buffer.alloc=="function"?Zl.default.Buffer.alloc(t):new Zl.default.Buffer(t)}});var vE=d(ua=>{"use strict";var Ql=ua&&ua.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});var E6=Ql(require("net")),Pp=Ql(require("tls")),w6=Ql(require("fs")),dE=Ql(ro()),ur=D(),Cp=ur.internal.util,aa=Cp.ENCRYPTION_OFF,S6=Cp.ENCRYPTION_ON,P6=Cp.isEmptyObjectOrNull,T6=0,hE={TRUST_CUSTOM_CA_SIGNED_CERTIFICATES:function(t,r,e){if(!t.trustedCertificates||t.trustedCertificates.length===0){e((0,ur.newError)('You are using TRUST_CUSTOM_CA_SIGNED_CERTIFICATES as the method to verify trust for encrypted  connections, but have not configured any trustedCertificates. You  must specify the path to at least one trusted X.509 certificate for this to work. Two other alternatives is to use TRUST_ALL_CERTIFICATES or to disable encryption by setting encrypted="'+aa+'"in your driver configuration.'));return}var n=Tp(t.address.host(),t.trustedCertificates.map(function(o){return w6.default.readFileSync(o)})),i=Pp.default.connect(t.address.port(),t.address.resolvedHost(),n,function(){i.authorized?r():e((0,ur.newError)("Server certificate is not trusted. If you trust the database you are connecting to, add the signing certificate, or the server certificate, to the list of certificates trusted by this driver using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This  is a security measure to protect against man-in-the-middle attacks. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\""+aa+'"` in the driver options. Socket responded with: '+i.authorizationError))});return i.on("error",e),$l(i)},TRUST_SYSTEM_CA_SIGNED_CERTIFICATES:function(t,r,e){var n=Tp(t.address.host()),i=Pp.default.connect(t.address.port(),t.address.resolvedHost(),n,function(){i.authorized?r():e((0,ur.newError)("Server certificate is not trusted. If you trust the database you are connecting to, use TRUST_CUSTOM_CA_SIGNED_CERTIFICATES and add the signing certificate, or the server certificate, to the list of certificates trusted by this driver using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This  is a security measure to protect against man-in-the-middle attacks. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\""+aa+'"` in the driver options. Socket responded with: '+i.authorizationError))});return i.on("error",e),$l(i)},TRUST_ALL_CERTIFICATES:function(t,r,e){var n=Tp(t.address.host()),i=Pp.default.connect(t.address.port(),t.address.resolvedHost(),n,function(){var o=i.getPeerCertificate();P6(o)?e((0,ur.newError)('Secure connection was successful but server did not return any valid certificates. Such connection can not be trusted. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted="'+aa+'"` in the driver options. Socket responded with: '+i.authorizationError)):r()});return i.on("error",e),$l(i)}};function C6(t,r,e){e===void 0&&(e=function(){return null});var n=q6(t);if(I6(t)){if(hE[n])return hE[n](t,r,e);e((0,ur.newError)("Unknown trust strategy: "+t.trust+". Please use either trust:'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES' or trust:'TRUST_ALL_CERTIFICATES' in your driver configuration. Alternatively, you can disable encryption by setting `encrypted:\""+aa+'"`. There is no mechanism to use encryption without trust verification, because this incurs the overhead of encryption without improving security. If the driver does not verify that the peer it is connected to is really Neo4j, it is very easy for an attacker to bypass the encryption by pretending to be Neo4j.'))}else{var i=E6.default.connect(t.address.port(),t.address.resolvedHost(),r);return i.on("error",e),$l(i)}}function I6(t){var r=t.encrypted==null||t.encrypted===void 0;return r?!1:t.encrypted===!0||t.encrypted===S6}function q6(t){return t.trust?t.trust:"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"}function Tp(t,r){return r===void 0&&(r=void 0),{rejectUnauthorized:!1,servername:t,ca:r}}function $l(t){return t.setKeepAlive(!0),t}var j6=function(){function t(r,e){e===void 0&&(e=C6);var n=this;this.id=T6++,this._pending=[],this._open=!0,this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._handleConnectionTerminated=this._handleConnectionTerminated.bind(this),this._connectionErrorCode=r.connectionErrorCode,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._conn=e(r,function(){if(n._open){n._conn.on("data",function(a){n.onmessage&&n.onmessage(new dE.default(a))}),n._conn.on("error",n._handleConnectionError),n._conn.on("end",n._handleConnectionTerminated);var i=n._pending;n._pending=null;for(var o=0;o<i.length;o++)n.write(i[o])}},this._handleConnectionError),this._setupConnectionTimeout(r,this._conn)}return t.prototype._handleConnectionError=function(r){var e="Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.";r.message&&(e+=" Caused by: "+r.message),this._error=(0,ur.newError)(e,this._connectionErrorCode),this.onerror&&this.onerror(this._error)},t.prototype._handleConnectionTerminated=function(){this._open=!1,this._error=(0,ur.newError)("Connection was closed by server",this._connectionErrorCode),this.onerror&&this.onerror(this._error)},t.prototype._setupConnectionTimeout=function(r,e){var n=this,i=r.connectionTimeout;if(i){var o=function(){e.setTimeout(0)},a=function(){e.setTimeout(0),e.destroy((0,ur.newError)("Failed to establish connection in ".concat(i,"ms"),r.connectionErrorCode))};e.on("connect",o),e.on("timeout",a),this._removeConnectionTimeoutListeners=function(){n._conn.off("connect",o),n._conn.off("timeout",a)},e.setTimeout(i)}},t.prototype.setupReceiveTimeout=function(r){var e=this;this._removeConnectionTimeoutListeners&&this._removeConnectionTimeoutListeners(),this._conn.on("timeout",function(){e._conn.destroy((0,ur.newError)("Connection lost. Server didn't respond in ".concat(r,"ms"),e._connectionErrorCode))}),this._receiveTimeout=r},t.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._conn.setTimeout(0))},t.prototype.startReceiveTimeout=function(){this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._conn.setTimeout(this._receiveTimeout))},t.prototype.write=function(r){if(this._pending!==null)this._pending.push(r);else if(r instanceof dE.default)this._conn.write(r._buffer);else throw(0,ur.newError)("Don't know how to write: "+r)},t.prototype.close=function(){var r=this;return new Promise(function(e,n){var i=function(){r._conn.destroyed||r._conn.destroy(),e()};r._open?(r._open=!1,r._conn.removeListener("end",r._handleConnectionTerminated),r._conn.on("end",function(){return i()}),r._conn.on("close",function(){return i()}),r._conn.end(),r._conn.destroy()):i()})},t}();ua.default=j6});var pE=d(Sn=>{"use strict";var R6=Sn&&Sn.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),A6=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sn,"__esModule",{value:!0});var M6=A6(require("dns")),N6=D(),k6=N6.internal.resolver.BaseHostNameResolver,D6=function(t){R6(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.resolve=function(e){return new Promise(function(n){M6.default.lookup(e.host(),{all:!0},function(i,o){if(i)n([e]);else{var a=o.map(function(s){return e.resolveWith(s.address)});n(a)}})})},r}(k6);Sn.default=D6});var mE=d(Ut=>{"use strict";var _E=Ut&&Ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.HostNameResolver=Ut.Channel=void 0;var L6=_E(vE()),U6=_E(pE());Ut.Channel=L6.default;Ut.HostNameResolver=U6.default});var bE=d(sa=>{"use strict";var x6=sa&&sa.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(sa,"__esModule",{value:!0});var F6=Kl(),B6=ro(),W6=function(t){x6(r,t);function r(e){for(var n=this,i=0,o=0;o<e.length;o++)i+=e[o].length;return n=t.call(this,i)||this,n._buffers=e,n}return r.prototype.getUInt8=function(e){for(var n=0;n<this._buffers.length;n++){var i=this._buffers[n];if(e>=i.length)e-=i.length;else return i.getUInt8(e)}},r.prototype.getInt8=function(e){for(var n=0;n<this._buffers.length;n++){var i=this._buffers[n];if(e>=i.length)e-=i.length;else return i.getInt8(e)}},r.prototype.getFloat64=function(e){for(var n=(0,B6.alloc)(8),i=0;i<8;i++)n.putUInt8(i,this.getUInt8(e+i));return n.getFloat64(0)},r}(F6.BaseBuffer);sa.default=W6});var OE=d(Er=>{"use strict";var V6=Er&&Er.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gE=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.Dechunker=Er.Chunker=void 0;var H6=gE(Sp()),yE=ro(),z6=gE(bE()),Xl=2,Y6=0,G6=1400,K6=function(t){V6(r,t);function r(e,n){var i=t.call(this,0)||this;return i._bufferSize=n||G6,i._ch=e,i._buffer=(0,yE.alloc)(i._bufferSize),i._currentChunkStart=0,i._chunkOpen=!1,i}return r.prototype.putUInt8=function(e,n){this._ensure(1),this._buffer.writeUInt8(n)},r.prototype.putInt8=function(e,n){this._ensure(1),this._buffer.writeInt8(n)},r.prototype.putFloat64=function(e,n){this._ensure(8),this._buffer.writeFloat64(n)},r.prototype.putBytes=function(e,n){for(;n.remaining()>0;)this._ensure(1),this._buffer.remaining()>n.remaining()?this._buffer.writeBytes(n):this._buffer.writeBytes(n.readSlice(this._buffer.remaining()));return this},r.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,yE.alloc)(this._bufferSize),this._chunkOpen=!1}return this},r.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<Xl&&this.flush(),this._buffer.writeInt16(Y6)},r.prototype._ensure=function(e){var n=this._chunkOpen?e:e+Xl;this._buffer.remaining()<n&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+Xl,this._chunkOpen=!0)},r.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+Xl);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},r}(H6.default);Er.Chunker=K6;var Z6=function(){function t(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return t.prototype.AWAITING_CHUNK=function(r){return r.remaining()>=2?this._onHeader(r.readUInt16()):(this._partialChunkHeader=r.readUInt8()<<8,this.IN_HEADER)},t.prototype.IN_HEADER=function(r){return this._onHeader((this._partialChunkHeader|r.readUInt8())&65535)},t.prototype.IN_CHUNK=function(r){return this._chunkSize<=r.remaining()?(this._currentMessage.push(r.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=r.remaining(),this._currentMessage.push(r.readSlice(r.remaining())),this.IN_CHUNK)},t.prototype.CLOSED=function(r){},t.prototype._onHeader=function(r){if(r===0){var e=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:e=this._currentMessage[0];break;default:e=new z6.default(this._currentMessage);break}return this._currentMessage=[],this.onmessage(e),this.AWAITING_CHUNK}else return this._chunkSize=r,this.IN_CHUNK},t.prototype.write=function(r){for(;r.hasRemaining();)this._state=this._state(r)},t}();Er.Dechunker=Z6});var PE=d(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var Jl=D(),SE=Jl.internal.util,$6=SE.ENCRYPTION_OFF,Q6=SE.ENCRYPTION_ON,X6=Jl.error.SERVICE_UNAVAILABLE,EE=[null,void 0,!0,!1,Q6,$6],wE=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"],J6=function(){function t(r,e,n){this.address=r,this.encrypted=ez(e),this.trust=rz(e),this.trustedCertificates=tz(e),this.knownHostsPath=nz(e),this.connectionErrorCode=n||X6,this.connectionTimeout=e.connectionTimeout}return t}();Ip.default=J6;function ez(t){var r=t.encrypted;if(EE.indexOf(r)===-1)throw(0,Jl.newError)("Illegal value of the encrypted setting ".concat(r,". Expected one of ").concat(EE));return r}function rz(t){var r=t.trust;if(wE.indexOf(r)===-1)throw(0,Jl.newError)("Illegal value of the trust setting ".concat(r,". Expected one of ").concat(wE));return r}function tz(t){return t.trustedCertificates||[]}function nz(t){return t.knownHosts||null}});var IE=d(ca=>{"use strict";var CE=ca&&ca.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});var iz=CE(ro()),oz=D(),qp=CE(require("buffer")),az=require("string_decoder"),TE=new az.StringDecoder("utf8");function uz(t){return new iz.default(dz(t))}function sz(t,r){if(Object.prototype.hasOwnProperty.call(t,"_buffer"))return cz(t,r);if(Object.prototype.hasOwnProperty.call(t,"_buffers"))return lz(t,r);throw(0,oz.newError)("Don't know how to decode strings from '".concat(t,"'"))}function cz(t,r){var e=t.position,n=e+r;return t.position=Math.min(n,t.length),t._buffer.toString("utf8",e,n)}function lz(t,r){return fz(t,r,function(e){return TE.write(e._buffer)},function(){return TE.end()})}function fz(t,r,e,n){var i=r,o=t.position;t._updatePos(Math.min(r,t.length-o));var a=t._buffers.reduce(function(s,c){if(i<=0)return s;if(o>=c.length)return o-=c.length,"";c._updatePos(o-c.position);var u=Math.min(c.length-o,i),l=c.readSlice(u);return c._updatePos(u),i=Math.max(i-l.length,0),o=0,s+e(l)},"");return a+n()}function dz(t){return typeof qp.default.Buffer.from=="function"?qp.default.Buffer.from(t,"utf8"):new qp.default.Buffer(t,"utf8")}ca.default={encode:uz,decode:sz}});var to=d(_e=>{"use strict";var hz=_e&&_e.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),qE=_e&&_e.__exportStar||function(t,r){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&hz(r,t,e)},jE=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.utf8=_e.alloc=_e.ChannelConfig=void 0;qE(mE(),_e);qE(OE(),_e);var vz=PE();Object.defineProperty(_e,"ChannelConfig",{enumerable:!0,get:function(){return jE(vz).default}});var pz=ro();Object.defineProperty(_e,"alloc",{enumerable:!0,get:function(){return pz.alloc}});var _z=IE();Object.defineProperty(_e,"utf8",{enumerable:!0,get:function(){return jE(_z).default}})});var AE=d(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});var mz=to(),RE=D(),bz=1616949271;function la(t,r){return{major:t,minor:r}}function yz(t){if(t.length>4)throw(0,RE.newError)("It should not have more than 4 versions of the protocol");var r=(0,mz.alloc)(5*4);return r.writeInt32(bz),t.forEach(function(e){if(e instanceof Array){var n=e[0],i=n.major,o=n.minor,a=e[1].minor,s=o-a;r.writeInt32(s<<16|o<<8|i)}else{var i=e.major,o=e.minor;r.writeInt32(o<<8|i)}}),r.reset(),r}function gz(t){var r=[t.readUInt8(),t.readUInt8(),t.readUInt8(),t.readUInt8()];if(r[0]===72&&r[1]===84&&r[2]===84&&r[3]===80)throw(0,RE.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(r[3]+"."+r[2])}function Oz(){return yz([la(5,0),[la(4,4),la(4,2)],la(4,1),la(3,0)])}function Ez(t){var r=this;return new Promise(function(e,n){var i=function(o){n(o)};t.onerror=i.bind(r),t._error&&i(t._error),t.onmessage=function(o){try{var a=gz(o);e({protocolVersion:a,consumeRemainingBuffer:function(s){o.hasRemaining()&&s(o.readSlice(o.remaining()))}})}catch(s){n(s)}},t.write(Oz())})}jp.default=Ez});var ef=d(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.assertImpersonatedUserIsEmpty=xt.assertTxConfigIsEmpty=xt.assertDatabaseIsEmpty=void 0;var Rp=D();function wz(t,r,e){if(r===void 0&&(r=function(){}),t&&!t.isEmpty()){var n=(0,Rp.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw r(n.message),e.onError(n),n}}xt.assertTxConfigIsEmpty=wz;function Sz(t,r,e){if(r===void 0&&(r=function(){}),t){var n=(0,Rp.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw r(n.message),e.onError(n),n}}xt.assertDatabaseIsEmpty=Sz;function Pz(t,r,e){if(r===void 0&&(r=function(){}),t){var n=(0,Rp.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(t,"."));throw r(n.message),e.onError(n),n}}xt.assertImpersonatedUserIsEmpty=Pz});var Ap=d(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.identity=void 0;function Tz(t){return t}rf.identity=Tz});var ME=d(wr=>{"use strict";var Cz=wr&&wr.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Iz=wr&&wr.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),qz=wr&&wr.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Cz(r,t,e);return Iz(r,t),r};Object.defineProperty(wr,"__esModule",{value:!0});wr.functional=void 0;wr.functional=qz(Ap())});var Mp=d(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.verifyStructSize=Pn.Structure=void 0;var NE=D(),jz=NE.error.PROTOCOL_ERROR,kE=function(){function t(r,e){this.signature=r,this.fields=e}return Object.defineProperty(t.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),t.prototype.toString=function(){for(var r="",e=0;e<this.fields.length;e++)e>0&&(r+=", "),r+=this.fields[e];return"Structure("+this.signature+", ["+r+"])"},t}();Pn.Structure=kE;function Rz(t,r,e){if(r!==e)throw(0,NE.newError)("Wrong struct size for ".concat(t,", expected ").concat(r," but was ").concat(e),jz)}Pn.verifyStructSize=Rz;Pn.default=kE});var Np=d(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.Unpacker=no.Packer=void 0;var fa=to(),DE=ME(),LE=Mp(),oe=D(),Az=oe.error.PROTOCOL_ERROR,UE=128,xE=144,FE=160,BE=176,WE=192,VE=193,HE=194,zE=195,YE=200,GE=201,KE=202,ZE=203,$E=208,QE=209,XE=210,JE=212,ew=213,rw=214,tw=204,nw=205,iw=206,ow=216,aw=217,uw=218,sw=220,cw=221,Mz=function(){function t(r){this._ch=r,this._byteArraysSupported=!0}return t.prototype.packable=function(r,e){var n=this;e===void 0&&(e=DE.functional.identity);try{r=e(r)}catch(a){return function(){throw a}}if(r===null)return function(){return n._ch.writeUInt8(WE)};if(r===!0)return function(){return n._ch.writeUInt8(zE)};if(r===!1)return function(){return n._ch.writeUInt8(HE)};if(typeof r=="number")return function(){return n.packFloat(r)};if(typeof r=="string")return function(){return n.packString(r)};if(typeof r=="bigint")return function(){return n.packInteger((0,oe.int)(r))};if((0,oe.isInt)(r))return function(){return n.packInteger(r)};if(r instanceof Int8Array)return function(){return n.packBytes(r)};if(r instanceof Array)return function(){n.packListHeader(r.length);for(var a=0;a<r.length;a++)n.packable(r[a]===void 0?null:r[a],e)()};if(kz(r))return this.packableIterable(r,e);if(r instanceof LE.Structure){for(var i=[],o=0;o<r.fields.length;o++)i[o]=this.packable(r.fields[o],e);return function(){return n.packStruct(r.signature,i)}}else return typeof r=="object"?function(){for(var a=Object.keys(r),s=0,c=0;c<a.length;c++)r[a[c]]!==void 0&&s++;n.packMapHeader(s);for(var c=0;c<a.length;c++){var u=a[c];r[u]!==void 0&&(n.packString(u),n.packable(r[u],e)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(r))},t.prototype.packableIterable=function(r,e){try{var n=Array.from(r);return this.packable(n,e)}catch(i){throw(0,oe.newError)("Cannot pack given iterable, ".concat(i.message,": ").concat(r))}},t.prototype.packStruct=function(r,e){e=e||[],this.packStructHeader(e.length,r);for(var n=0;n<e.length;n++)e[n]()},t.prototype.packInteger=function(r){var e=r.high,n=r.low;r.greaterThanOrEqual(-16)&&r.lessThan(128)?this._ch.writeInt8(n):r.greaterThanOrEqual(-128)&&r.lessThan(-16)?(this._ch.writeUInt8(YE),this._ch.writeInt8(n)):r.greaterThanOrEqual(-32768)&&r.lessThan(32768)?(this._ch.writeUInt8(GE),this._ch.writeInt16(n)):r.greaterThanOrEqual(-2147483648)&&r.lessThan(2147483648)?(this._ch.writeUInt8(KE),this._ch.writeInt32(n)):(this._ch.writeUInt8(ZE),this._ch.writeInt32(e),this._ch.writeInt32(n))},t.prototype.packFloat=function(r){this._ch.writeUInt8(VE),this._ch.writeFloat64(r)},t.prototype.packString=function(r){var e=fa.utf8.encode(r),n=e.length;if(n<16)this._ch.writeUInt8(UE|n),this._ch.writeBytes(e);else if(n<256)this._ch.writeUInt8($E),this._ch.writeUInt8(n),this._ch.writeBytes(e);else if(n<65536)this._ch.writeUInt8(QE),this._ch.writeUInt8(n/256>>0),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else if(n<4294967296)this._ch.writeUInt8(XE),this._ch.writeUInt8((n/16777216>>0)%256),this._ch.writeUInt8((n/65536>>0)%256),this._ch.writeUInt8((n/256>>0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else throw(0,oe.newError)("UTF-8 strings of size "+n+" are not supported")},t.prototype.packListHeader=function(r){if(r<16)this._ch.writeUInt8(xE|r);else if(r<256)this._ch.writeUInt8(JE),this._ch.writeUInt8(r);else if(r<65536)this._ch.writeUInt8(ew),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else if(r<4294967296)this._ch.writeUInt8(rw),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else throw(0,oe.newError)("Lists of size "+r+" are not supported")},t.prototype.packBytes=function(r){if(this._byteArraysSupported){this.packBytesHeader(r.length);for(var e=0;e<r.length;e++)this._ch.writeInt8(r[e])}else throw(0,oe.newError)("Byte arrays are not supported by the database this driver is connected to")},t.prototype.packBytesHeader=function(r){if(r<256)this._ch.writeUInt8(tw),this._ch.writeUInt8(r);else if(r<65536)this._ch.writeUInt8(nw),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else if(r<4294967296)this._ch.writeUInt8(iw),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else throw(0,oe.newError)("Byte arrays of size "+r+" are not supported")},t.prototype.packMapHeader=function(r){if(r<16)this._ch.writeUInt8(FE|r);else if(r<256)this._ch.writeUInt8(ow),this._ch.writeUInt8(r);else if(r<65536)this._ch.writeUInt8(aw),this._ch.writeUInt8(r/256>>0),this._ch.writeUInt8(r%256);else if(r<4294967296)this._ch.writeUInt8(uw),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else throw(0,oe.newError)("Maps of size "+r+" are not supported")},t.prototype.packStructHeader=function(r,e){if(r<16)this._ch.writeUInt8(BE|r),this._ch.writeUInt8(e);else if(r<256)this._ch.writeUInt8(sw),this._ch.writeUInt8(r),this._ch.writeUInt8(e);else if(r<65536)this._ch.writeUInt8(cw),this._ch.writeUInt8(r/256>>0),this._ch.writeUInt8(r%256);else throw(0,oe.newError)("Structures of size "+r+" are not supported")},t.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},t.prototype._nonPackableValue=function(r){return function(){throw(0,oe.newError)(r,Az)}},t}();no.Packer=Mz;var Nz=function(){function t(r,e){r===void 0&&(r=!1),e===void 0&&(e=!1),this._disableLosslessIntegers=r,this._useBigInt=e}return t.prototype.unpack=function(r,e){e===void 0&&(e=DE.functional.identity);var n=r.readUInt8(),i=n&240,o=n&15;if(n===WE)return null;var a=this._unpackBoolean(n);if(a!==null)return a;var s=this._unpackNumberOrInteger(n,r);if(s!==null){if((0,oe.isInt)(s)){if(this._useBigInt)return s.toBigInt();if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var c=this._unpackString(n,i,o,r);if(c!==null)return c;var u=this._unpackList(n,i,o,r,e);if(u!==null)return u;var l=this._unpackByteArray(n,r);if(l!==null)return l;var h=this._unpackMap(n,i,o,r,e);if(h!==null)return h;var v=this._unpackStruct(n,i,o,r,e);if(v!==null)return v;throw(0,oe.newError)("Unknown packed value with marker "+n.toString(16))},t.prototype.unpackInteger=function(r){var e=r.readUInt8(),n=this._unpackInteger(e,r);if(n==null)throw(0,oe.newError)("Unable to unpack integer value with marker "+e.toString(16));return n},t.prototype._unpackBoolean=function(r){return r===zE?!0:r===HE?!1:null},t.prototype._unpackNumberOrInteger=function(r,e){return r===VE?e.readFloat64():this._unpackInteger(r,e)},t.prototype._unpackInteger=function(r,e){if(r>=0&&r<128)return(0,oe.int)(r);if(r>=240&&r<256)return(0,oe.int)(r-256);if(r===YE)return(0,oe.int)(e.readInt8());if(r===GE)return(0,oe.int)(e.readInt16());if(r===KE){var n=e.readInt32();return(0,oe.int)(n)}else if(r===ZE){var i=e.readInt32(),o=e.readInt32();return new oe.Integer(o,i)}else return null},t.prototype._unpackString=function(r,e,n,i){return e===UE?fa.utf8.decode(i,n):r===$E?fa.utf8.decode(i,i.readUInt8()):r===QE?fa.utf8.decode(i,i.readUInt16()):r===XE?fa.utf8.decode(i,i.readUInt32()):null},t.prototype._unpackList=function(r,e,n,i,o){return e===xE?this._unpackListWithSize(n,i,o):r===JE?this._unpackListWithSize(i.readUInt8(),i,o):r===ew?this._unpackListWithSize(i.readUInt16(),i,o):r===rw?this._unpackListWithSize(i.readUInt32(),i,o):null},t.prototype._unpackListWithSize=function(r,e,n){for(var i=[],o=0;o<r;o++)i.push(this.unpack(e,n));return i},t.prototype._unpackByteArray=function(r,e){return r===tw?this._unpackByteArrayWithSize(e.readUInt8(),e):r===nw?this._unpackByteArrayWithSize(e.readUInt16(),e):r===iw?this._unpackByteArrayWithSize(e.readUInt32(),e):null},t.prototype._unpackByteArrayWithSize=function(r,e){for(var n=new Int8Array(r),i=0;i<r;i++)n[i]=e.readInt8();return n},t.prototype._unpackMap=function(r,e,n,i,o){return e===FE?this._unpackMapWithSize(n,i,o):r===ow?this._unpackMapWithSize(i.readUInt8(),i,o):r===aw?this._unpackMapWithSize(i.readUInt16(),i,o):r===uw?this._unpackMapWithSize(i.readUInt32(),i,o):null},t.prototype._unpackMapWithSize=function(r,e,n){for(var i={},o=0;o<r;o++){var a=this.unpack(e,n);i[a]=this.unpack(e,n)}return i},t.prototype._unpackStruct=function(r,e,n,i,o){return e===BE?this._unpackStructWithSize(n,i,o):r===sw?this._unpackStructWithSize(i.readUInt8(),i,o):r===cw?this._unpackStructWithSize(i.readUInt16(),i,o):null},t.prototype._unpackStructWithSize=function(r,e,n){for(var i=e.readUInt8(),o=new LE.Structure(i,[]),a=0;a<r;a++)o.fields.push(this.unpack(e,n));return n(o)},t}();no.Unpacker=Nz;function kz(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}});var dw=d(Ae=>{"use strict";var lw=Ae&&Ae.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dz=Ae&&Ae.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Lz=Ae&&Ae.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Uz=Ae&&Ae.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Dz(r,t,e);return Lz(r,t),r};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Unpacker=Ae.Packer=void 0;var fw=Uz(Np()),xz=function(t){lw(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},r}(fw.Packer);Ae.Packer=xz;var Fz=function(t){lw(r,t);function r(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),t.call(this,e,n)||this}return r}(fw.Unpacker);Ae.Unpacker=Fz});var Yr=d(Se=>{"use strict";var Bz=Se&&Se.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Wz=Se&&Se.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),kp=Se&&Se.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Bz(r,t,e);return Wz(r,t),r};Object.defineProperty(Se,"__esModule",{value:!0});Se.structure=Se.v2=Se.v1=void 0;var Vz=kp(Np());Se.v1=Vz;var hw=kp(dw());Se.v2=hw;var Hz=kp(Mp());Se.structure=Hz;Se.default=hw});var Ft=d(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});var Pe=D(),yw=Pe.internal.constants,zz=yw.ACCESS_MODE_READ,tf=yw.FETCH_ALL,vw=Pe.internal.util.assertString,Yz=1,Gz=15,pw=16,Kz=63,Zz=1,$z=2,Qz=17,Xz=18,Jz=19,_w=102,eY=47,rY=63,tY="r",da=-1,io=function(){function t(r,e,n){this.signature=r,this.fields=e,this.toString=n}return t.init=function(r,e){return new t(Yz,[r,e],function(){return"INIT ".concat(r," {...}")})},t.run=function(r,e){return new t(pw,[r,e],function(){return"RUN ".concat(r," ").concat(Pe.json.stringify(e))})},t.pullAll=function(){return nY},t.reset=function(){return iY},t.hello=function(r,e,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var o=Object.assign({user_agent:r},e);return n&&(o.routing=n),i&&(o.patch_bolt=i),new t(Zz,[o],function(){return"HELLO {user_agent: '".concat(r,"', ...}")})},t.begin=function(r){var e=r===void 0?{}:r,n=e.bookmarks,i=e.txConfig,o=e.database,a=e.mode,s=e.impersonatedUser,c=mw(n,i,o,a,s);return new t(Qz,[c],function(){return"BEGIN ".concat(Pe.json.stringify(c))})},t.commit=function(){return oY},t.rollback=function(){return aY},t.runWithMetadata=function(r,e,n){var i=n===void 0?{}:n,o=i.bookmarks,a=i.txConfig,s=i.database,c=i.mode,u=i.impersonatedUser,l=mw(o,a,s,c,u);return new t(pw,[r,e,l],function(){return"RUN ".concat(r," ").concat(Pe.json.stringify(e)," ").concat(Pe.json.stringify(l))})},t.goodbye=function(){return uY},t.pull=function(r){var e=r===void 0?{}:r,n=e.stmtId,i=n===void 0?da:n,o=e.n,a=o===void 0?tf:o,s=bw(i??da,a||tf);return new t(rY,[s],function(){return"PULL ".concat(Pe.json.stringify(s))})},t.discard=function(r){var e=r===void 0?{}:r,n=e.stmtId,i=n===void 0?da:n,o=e.n,a=o===void 0?tf:o,s=bw(i??da,a||tf);return new t(eY,[s],function(){return"DISCARD ".concat(Pe.json.stringify(s))})},t.route=function(r,e,n){return r===void 0&&(r={}),e===void 0&&(e=[]),n===void 0&&(n=null),new t(_w,[r,e,n],function(){return"ROUTE ".concat(Pe.json.stringify(r)," ").concat(Pe.json.stringify(e)," ").concat(n)})},t.routeV4x4=function(r,e,n){r===void 0&&(r={}),e===void 0&&(e=[]),n===void 0&&(n={});var i={};return n.databaseName&&(i.db=n.databaseName),n.impersonatedUser&&(i.imp_user=n.impersonatedUser),new t(_w,[r,e,i],function(){return"ROUTE ".concat(Pe.json.stringify(r)," ").concat(Pe.json.stringify(e)," ").concat(Pe.json.stringify(i))})},t}();Dp.default=io;function mw(t,r,e,n,i){var o={};return t.isEmpty()||(o.bookmarks=t.values()),r.timeout!==null&&(o.tx_timeout=r.timeout),r.metadata&&(o.tx_metadata=r.metadata),e&&(o.db=vw(e,"database")),i&&(o.imp_user=vw(i,"impersonatedUser")),n===zz&&(o.mode=tY),o}function bw(t,r){var e={n:(0,Pe.int)(r)};return t!==da&&(e.qid=(0,Pe.int)(t)),e}var nY=new io(Kz,[],function(){return"PULL_ALL"}),iY=new io(Gz,[],function(){return"RESET"}),oY=new io(Xz,[],function(){return"COMMIT"}),aY=new io(Jz,[],function(){return"ROLLBACK"}),uY=new io($z,[],function(){return"GOODBYE"})});var Up=d(ha=>{"use strict";var Lp=ha&&ha.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ha,"__esModule",{value:!0});var nf=function(){function t(){}return t.ofRecord=function(r){return r===null?t.ofNull():new lY(r)},t.ofMessageResponse=function(r){return r===null?t.ofNull():new sY(r)},t.ofNull=function(){return new cY},Object.defineProperty(t.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),t}();ha.default=nf;var sY=function(t){Lp(r,t);function r(e){var n=t.call(this)||this;return n._response=e,n}return Object.defineProperty(r.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),r}(nf),cY=function(t){Lp(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(nf),lY=function(t){Lp(r,t);function r(e){var n=t.call(this)||this;return n._record=e,n}return Object.defineProperty(r.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),r}(nf)});var Gr=d(re=>{"use strict";var Cn=re&&re.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fY=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(re,"__esModule",{value:!0});re.ProcedureRouteObserver=re.RouteObserver=re.CompletedObserver=re.FailedObserver=re.ResetObserver=re.LoginObserver=re.ResultStreamObserver=re.StreamObserver=void 0;var Ze=D(),gw=fY(Up()),dY=Ze.internal.constants.FETCH_ALL,Tn=Ze.error.PROTOCOL_ERROR,oo=function(){function t(){}return t.prototype.onNext=function(r){},t.prototype.onError=function(r){},t.prototype.onCompleted=function(r){},t}();re.StreamObserver=oo;var xp=function(t){Cn(r,t);function r(e){var n=e===void 0?{}:e,i=n.reactive,o=i===void 0?!1:i,a=n.moreFunction,s=n.discardFunction,c=n.fetchSize,u=c===void 0?dY:c,l=n.beforeError,h=n.afterError,v=n.beforeKeys,_=n.afterKeys,m=n.beforeComplete,g=n.afterComplete,w=n.server,S=n.highRecordWatermark,I=S===void 0?Number.MAX_VALUE:S,U=n.lowRecordWatermark,x=U===void 0?Number.MAX_VALUE:U,A=t.call(this)||this;return A._fieldKeys=null,A._fieldLookup=null,A._head=null,A._queuedRecords=[],A._tail=null,A._error=null,A._observers=[],A._meta={},A._server=w,A._beforeError=l,A._afterError=h,A._beforeKeys=v,A._afterKeys=_,A._beforeComplete=m,A._afterComplete=g,A._queryId=null,A._moreFunction=a,A._discardFunction=s,A._discard=!1,A._fetchSize=u,A._lowRecordWatermark=x,A._highRecordWatermark=I,A._setState(o?sr.READY:sr.READY_STREAMING),A._setupAutoPull(),A._paused=!1,A}return r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},r.prototype.onNext=function(e){var n=new Ze.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(i){return i.onNext})?this._observers.forEach(function(i){i.onNext&&i.onNext(n)}):(this._queuedRecords.push(n),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},r.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},r.prototype.onError=function(e){this._state.onError(this,e)},r.prototype.cancel=function(){this._discard=!0},r.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(sr.STREAMING)},r.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(sr.SUCCEEDED)},r.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var n=0;n<this._queuedRecords.length;n++)e.onNext(this._queuedRecords[n]),this._queuedRecords.length-n-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===sr.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===sr.READY&&this._handleStreaming()},r.prototype._handleHasMore=function(e){this._setState(sr.READY),this._handleStreaming(),delete e.has_more},r.prototype._handlePullSuccess=function(e){var n=this,i=Object.assign(this._server?{server:this._server}:{},this._meta,e);if(![void 0,null,"r","w","rw","s"].includes(i.type)){this.onError((0,Ze.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(i.type,"'"),Tn));return}this._setState(sr.SUCCEEDED);var o=null;this._beforeComplete&&(o=this._beforeComplete(i));var a=function(){n._tail=i,n._observers.some(function(s){return s.onCompleted})&&n._observers.forEach(function(s){s.onCompleted&&s.onCompleted(i)}),n._afterComplete&&n._afterComplete(i)};o?Promise.resolve(o).then(function(){return a()}):a()},r.prototype._handleRunSuccess=function(e,n){var i=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var o=0;o<e.fields.length;o++)this._fieldLookup[e.fields[o]]=o;delete e.fields}e.qid!==null&&e.qid!==void 0&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var a=null;this._beforeKeys&&(a=this._beforeKeys(this._fieldKeys));var s=function(){i._head=i._fieldKeys,i._observers.some(function(c){return c.onKeys})&&i._observers.forEach(function(c){c.onKeys&&c.onKeys(i._fieldKeys)}),i._afterKeys&&i._afterKeys(i._fieldKeys),n()};a?Promise.resolve(a).then(function(){return s()}):s()}},r.prototype._handleError=function(e){var n=this;this._setState(sr.FAILED),this._error=e;var i=null;this._beforeError&&(i=this._beforeError(e));var o=function(){n._observers.some(function(a){return a.onError})&&n._observers.forEach(function(a){a.onError&&a.onError(e)}),n._afterError&&n._afterError(e)};i?Promise.resolve(i).then(function(){return o()}):o()},r.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&!this._paused&&(this._discard||this._autoPull)&&this._more()},r.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):this._moreFunction(this._queryId,this._fetchSize,this),this._setState(sr.STREAMING)},r.prototype._storeMetadataForCompletion=function(e){for(var n=Object.keys(e),i=n.length,o="";i--;)o=n[i],this._meta[o]=e[o]},r.prototype._setState=function(e){this._state=e},r.prototype._setupAutoPull=function(){this._autoPull=!0},r}(oo);re.ResultStreamObserver=xp;var hY=function(t){Cn(r,t);function r(e){var n=e===void 0?{}:e,i=n.onError,o=n.onCompleted,a=t.call(this)||this;return a._onError=i,a._onCompleted=o,a}return r.prototype.onNext=function(e){this.onError((0,Ze.newError)("Received RECORD when initializing "+Ze.json.stringify(e)))},r.prototype.onError=function(e){this._onError&&this._onError(e)},r.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},r}(oo);re.LoginObserver=hY;var vY=function(t){Cn(r,t);function r(e){var n=e===void 0?{}:e,i=n.onProtocolError,o=n.onError,a=n.onComplete,s=t.call(this)||this;return s._onProtocolError=i,s._onError=o,s._onComplete=a,s}return r.prototype.onNext=function(e){this.onError((0,Ze.newError)("Received RECORD when resetting: received record is: "+Ze.json.stringify(e),Tn))},r.prototype.onError=function(e){e.code===Tn&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},r.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},r}(oo);re.ResetObserver=vY;var pY=function(t){Cn(r,t);function r(e){var n=e.error,i=e.onError,o=t.call(this,{beforeError:i})||this;return o.onError(n),o}return r}(xp);re.FailedObserver=pY;var _Y=function(t){Cn(r,t);function r(){var e=t.call(this)||this;return t.prototype.markCompleted.call(e),e}return r}(xp);re.CompletedObserver=_Y;var mY=function(t){Cn(r,t);function r(e){var n=e.resultObserver,i=e.onProtocolError,o=e.onError,a=e.onCompleted,s=t.call(this)||this;return s._resultObserver=n,s._onError=o,s._onCompleted=a,s._records=[],s._onProtocolError=i,n.subscribe(s),s}return r.prototype.onNext=function(e){this._records.push(e)},r.prototype.onError=function(e){e.code===Tn&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},r.prototype.onCompleted=function(){if(this._records!==null&&this._records.length!==1){this.onError((0,Ze.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+Ze.json.stringify(this._records),Tn));return}this._onCompleted&&this._onCompleted(gw.default.ofRecord(this._records[0]))},r}(oo);re.ProcedureRouteObserver=mY;var bY=function(t){Cn(r,t);function r(e){var n=e===void 0?{}:e,i=n.onProtocolError,o=n.onError,a=n.onCompleted,s=t.call(this)||this;return s._onProtocolError=i,s._onError=o,s._onCompleted=a,s}return r.prototype.onNext=function(e){this.onError((0,Ze.newError)("Received RECORD when resetting: received record is: "+Ze.json.stringify(e),Tn))},r.prototype.onError=function(e){e.code===Tn&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},r.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(gw.default.ofMessageResponse(e))},r}(oo);re.RouteObserver=bY;var sr={READY_STREAMING:{onSuccess:function(t,r){t._handleRunSuccess(r,function(){t._setState(sr.STREAMING)})},onError:function(t,r){t._handleError(r)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(t,r){t._handleRunSuccess(r,function(){return t._handleStreaming()})},onError:function(t,r){t._handleError(r)},name:function(){return"READY"},pull:function(t){return t._more()}},STREAMING:{onSuccess:function(t,r){r.has_more?t._handleHasMore(r):t._handlePullSuccess(r)},onError:function(t,r){t._handleError(r)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(t){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}});var $e=d(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.TypeTransformer=void 0;var yY=Yr(),gY=D(),OY=gY.internal.objectUtil,EY=function(){function t(r){this._transformers=r,this._transformersPerSignature=new Map(r.map(function(e){return[e.signature,e]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return t.prototype.fromStructure=function(r){try{if(r instanceof yY.structure.Structure&&this._transformersPerSignature.has(r.signature)){var e=this._transformersPerSignature.get(r.signature).fromStructure;return e(r)}return r}catch(n){return OY.createBrokenObject(n)}},t.prototype.toStructure=function(r){var e=this._transformers.find(function(n){var i=n.isTypeInstance;return i(r)});return e!==void 0?e.toStructure(r):r},t}();va.default=EY;var wY=function(){function t(r){var e=r.signature,n=r.fromStructure,i=r.toStructure,o=r.isTypeInstance;this.signature=e,this.isTypeInstance=o,this.fromStructure=n,this.toStructure=i,Object.freeze(this)}return t.prototype.extendsWith=function(r){var e=r.signature,n=r.fromStructure,i=r.toStructure,o=r.isTypeInstance;return new t({signature:e||this.signature,fromStructure:n||this.fromStructure,toStructure:i||this.toStructure,isTypeInstance:o||this.isTypeInstance})},t}();va.TypeTransformer=wY});var Fp=d(pa=>{"use strict";var of=pa&&pa.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(pa,"__esModule",{value:!0});var fe=D(),af=Yr(),uf=$e(),sf=fe.error.PROTOCOL_ERROR,SY=78,PY=3,TY=82,CY=5,IY=114,qY=3,jY=80,RY=3;function AY(){return new uf.TypeTransformer({signature:SY,isTypeInstance:function(t){return t instanceof fe.Node},toStructure:function(t){throw(0,fe.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(t),sf)},fromStructure:function(t){af.structure.verifyStructSize("Node",PY,t.size);var r=of(t.fields,3),e=r[0],n=r[1],i=r[2];return new fe.Node(e,n,i)}})}function MY(){return new uf.TypeTransformer({signature:TY,isTypeInstance:function(t){return t instanceof fe.Relationship},toStructure:function(t){throw(0,fe.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(t),sf)},fromStructure:function(t){af.structure.verifyStructSize("Relationship",CY,t.size);var r=of(t.fields,5),e=r[0],n=r[1],i=r[2],o=r[3],a=r[4];return new fe.Relationship(e,n,i,o,a)}})}function NY(){return new uf.TypeTransformer({signature:IY,isTypeInstance:function(t){return t instanceof fe.UnboundRelationship},toStructure:function(t){throw(0,fe.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(t),sf)},fromStructure:function(t){af.structure.verifyStructSize("UnboundRelationship",qY,t.size);var r=of(t.fields,3),e=r[0],n=r[1],i=r[2];return new fe.UnboundRelationship(e,n,i)}})}function kY(){return new uf.TypeTransformer({signature:jY,isTypeInstance:function(t){return t instanceof fe.Path},toStructure:function(t){throw(0,fe.newError)("It is not allowed to pass paths in query parameters, given: ".concat(t),sf)},fromStructure:function(t){af.structure.verifyStructSize("Path",RY,t.size);for(var r=of(t.fields,3),e=r[0],n=r[1],i=r[2],o=[],a=e[0],s=0;s<i.length;s+=2){var c=e[i[s+1]],u=(0,fe.toNumber)(i[s]),l=void 0;u>0?(l=n[u-1],l instanceof fe.UnboundRelationship&&(n[u-1]=l=l.bindTo(a,c))):(l=n[-u-1],l instanceof fe.UnboundRelationship&&(n[-u-1]=l=l.bindTo(c,a))),o.push(new fe.PathSegment(a,l,c)),a=c}return new fe.Path(e[0],e[e.length-1],o)}})}pa.default={createNodeTransformer:AY,createRelationshipTransformer:MY,createUnboundRelationshipTransformer:NY,createPathTransformer:kY}});var zp=d(_a=>{"use strict";var Hp=_a&&_a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_a,"__esModule",{value:!0});var Bp=ef(),Wp=Yr(),cf=Hp(Ft()),Vp=Gr(),lf=D(),DY=Hp(Fp()),LY=Hp($e()),Ow=lf.internal.bookmarks.Bookmarks,Sw=lf.internal.constants,Ew=Sw.ACCESS_MODE_WRITE,UY=Sw.BOLT_PROTOCOL_V1,wee=lf.internal.logger.Logger,ww=lf.internal.txConfig.TxConfig,xY=function(){function t(r,e,n,i,o,a){var s=n===void 0?{}:n,c=s.disableLosslessIntegers,u=s.useBigInt;i===void 0&&(i=function(){return null}),this._server=r||{},this._chunker=e,this._packer=this._createPacker(e),this._unpacker=this._createUnpacker(c,u),this._responseHandler=i(this),this._log=o,this._onProtocolError=a,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:c,useBigInt:u}}return Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new LY.default(Object.values(DY.default).map(function(e){return e(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return UY},enumerable:!1,configurable:!0}),t.prototype.packer=function(){return this._packer},t.prototype.packable=function(r){return this._packer.packable(r,this.transformer.toStructure)},t.prototype.unpacker=function(){return this._unpacker},t.prototype.unpack=function(r){return this._unpacker.unpack(r,this.transformer.fromStructure)},t.prototype.transformMetadata=function(r){return r},t.prototype.initialize=function(r){var e=this,n=r===void 0?{}:r,i=n.userAgent,o=n.authToken,a=n.onError,s=n.onComplete,c=new Vp.LoginObserver({onError:function(u){return e._onLoginError(u,a)},onCompleted:function(u){return e._onLoginCompleted(u,s)}});return this.write(cf.default.init(i,o),c,!0),c},t.prototype.prepareToClose=function(){},t.prototype.beginTransaction=function(r){var e=r===void 0?{}:r,n=e.bookmarks,i=e.txConfig,o=e.database,a=e.mode,s=e.impersonatedUser,c=e.beforeError,u=e.afterError,l=e.beforeComplete,h=e.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmarks:n,txConfig:i,database:o,mode:a,impersonatedUser:s,beforeError:c,afterError:u,beforeComplete:l,afterComplete:h,flush:!1})},t.prototype.commitTransaction=function(r){var e=r===void 0?{}:r,n=e.beforeError,i=e.afterError,o=e.beforeComplete,a=e.afterComplete;return this.run("COMMIT",{},{bookmarks:Ow.empty(),txConfig:ww.empty(),mode:Ew,beforeError:n,afterError:i,beforeComplete:o,afterComplete:a})},t.prototype.rollbackTransaction=function(r){var e=r===void 0?{}:r,n=e.beforeError,i=e.afterError,o=e.beforeComplete,a=e.afterComplete;return this.run("ROLLBACK",{},{bookmarks:Ow.empty(),txConfig:ww.empty(),mode:Ew,beforeError:n,afterError:i,beforeComplete:o,afterComplete:a})},t.prototype.run=function(r,e,n){var i=n===void 0?{}:n,o=i.bookmarks,a=i.txConfig,s=i.database,c=i.mode,u=i.impersonatedUser,l=i.beforeKeys,h=i.afterKeys,v=i.beforeError,_=i.afterError,m=i.beforeComplete,g=i.afterComplete,w=i.flush,S=w===void 0?!0:w,I=i.highRecordWatermark,U=I===void 0?Number.MAX_VALUE:I,x=i.lowRecordWatermark,A=x===void 0?Number.MAX_VALUE:x,G=new Vp.ResultStreamObserver({server:this._server,beforeKeys:l,afterKeys:h,beforeError:v,afterError:_,beforeComplete:m,afterComplete:g,highRecordWatermark:U,lowRecordWatermark:A});return(0,Bp.assertTxConfigIsEmpty)(a,this._onProtocolError,G),(0,Bp.assertDatabaseIsEmpty)(s,this._onProtocolError,G),(0,Bp.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,G),this.write(cf.default.run(r,e),G,!1),this.write(cf.default.pullAll(),G,S),G},Object.defineProperty(t.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),t.prototype.reset=function(r){var e=r===void 0?{}:r,n=e.onError,i=e.onComplete,o=new Vp.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:i});return this.write(cf.default.reset(),o,!0),o},t.prototype._createPacker=function(r){return new Wp.v1.Packer(r)},t.prototype._createUnpacker=function(r,e){return new Wp.v1.Unpacker(r,e)},t.prototype.write=function(r,e,n){var i=this.queueObserverIfProtocolIsNotBroken(e);if(i){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(r)),this._lastMessageSignature=r.signature;var o=new Wp.structure.Structure(r.signature,r.fields);this.packable(o)(),this._chunker.messageBoundary(),n&&this._chunker.flush()}},t.prototype.isLastMessageLogin=function(){return this._lastMessageSignature===1},t.prototype.isLastMessageReset=function(){return this._lastMessageSignature===15},t.prototype.notifyFatalError=function(r){return this._fatalError=r,this._responseHandler._notifyErrorToObservers(r)},t.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},t.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},t.prototype.queueObserverIfProtocolIsNotBroken=function(r){return this.isBroken()?(this.notifyFatalErrorToObserver(r),!1):this._responseHandler._queueObserver(r)},t.prototype.isBroken=function(){return!!this._fatalError},t.prototype.notifyFatalErrorToObserver=function(r){r&&r.onError&&r.onError(this._fatalError)},t.prototype.resetFailure=function(){this._responseHandler._resetFailure()},t.prototype._onLoginCompleted=function(r,e){if(r){var n=r.server;this._server.version||(this._server.version=n)}e&&e(r)},t.prototype._onLoginError=function(r,e){this._onProtocolError(r.message),e&&e(r)},t}();_a.default=xY});var Kp=d(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.epochSecondAndNanoToLocalDateTime=Bt.nanoOfDayToLocalTime=Bt.epochDayToDate=void 0;var In=D(),Wt=In.internal.temporalUtil,FY=Wt.DAYS_0000_TO_1970,Yp=Wt.DAYS_PER_400_YEAR_CYCLE,Pw=Wt.NANOS_PER_HOUR,Tw=Wt.NANOS_PER_MINUTE,Gp=Wt.NANOS_PER_SECOND,Cw=Wt.SECONDS_PER_DAY,BY=Wt.floorDiv,WY=Wt.floorMod;function Iw(t){t=(0,In.int)(t);var r=t.add(FY).subtract(60),e=(0,In.int)(0);if(r.lessThan(0)){var n=r.add(1).div(Yp).subtract(1);e=n.multiply(400),r=r.add(n.multiply(-Yp))}var i=r.multiply(400).add(591).div(Yp),o=r.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)));o.lessThan(0)&&(i=i.subtract(1),o=r.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)))),i=i.add(e);var a=o,s=a.multiply(5).add(2).div(153),c=s.add(2).modulo(12).add(1),u=a.subtract(s.multiply(306).add(5).div(10)).add(1);return i=i.add(s.div(10)),new In.Date(i,c,u)}Bt.epochDayToDate=Iw;function qw(t){t=(0,In.int)(t);var r=t.div(Pw);t=t.subtract(r.multiply(Pw));var e=t.div(Tw);t=t.subtract(e.multiply(Tw));var n=t.div(Gp),i=t.subtract(n.multiply(Gp));return new In.LocalTime(r,e,n,i)}Bt.nanoOfDayToLocalTime=qw;function VY(t,r){var e=BY(t,Cw),n=WY(t,Cw),i=n.multiply(Gp).add(r),o=Iw(e),a=qw(i);return new In.LocalDateTime(o.year,o.month,o.day,a.hour,a.minute,a.second,a.nanosecond)}Bt.epochSecondAndNanoToLocalDateTime=VY});var Qp=d(Kr=>{"use strict";var ff=Kr&&Kr.__assign||function(){return ff=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ff.apply(this,arguments)},Zr=Kr&&Kr.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},HY=Kr&&Kr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});var Y=D(),ue=Yr(),$r=$e(),ao=Kp(),zY=HY(Fp()),Zp=Y.internal.temporalUtil,YY=Zp.dateToEpochDay,$p=Zp.localDateTimeToEpochSecond,xw=Zp.localTimeToNanoOfDay,jw=88,GY=3,Rw=89,KY=4,Aw=69,ZY=4,Mw=116,$Y=1,Nw=84,QY=2,kw=68,XY=1,Dw=100,JY=2,Lw=70,eG=3,Uw=102,rG=3;function tG(){return new $r.TypeTransformer({signature:jw,isTypeInstance:function(t){return(0,Y.isPoint)(t)&&(t.z===null||t.z===void 0)},toStructure:function(t){return new ue.structure.Structure(jw,[(0,Y.int)(t.srid),t.x,t.y])},fromStructure:function(t){ue.structure.verifyStructSize("Point2D",GY,t.size);var r=Zr(t.fields,3),e=r[0],n=r[1],i=r[2];return new Y.Point(e,n,i,void 0)}})}function nG(){return new $r.TypeTransformer({signature:Rw,isTypeInstance:function(t){return(0,Y.isPoint)(t)&&t.z!==null&&t.z!==void 0},toStructure:function(t){return new ue.structure.Structure(Rw,[(0,Y.int)(t.srid),t.x,t.y,t.z])},fromStructure:function(t){ue.structure.verifyStructSize("Point3D",KY,t.size);var r=Zr(t.fields,4),e=r[0],n=r[1],i=r[2],o=r[3];return new Y.Point(e,n,i,o)}})}function iG(){return new $r.TypeTransformer({signature:Aw,isTypeInstance:Y.isDuration,toStructure:function(t){var r=(0,Y.int)(t.months),e=(0,Y.int)(t.days),n=(0,Y.int)(t.seconds),i=(0,Y.int)(t.nanoseconds);return new ue.structure.Structure(Aw,[r,e,n,i])},fromStructure:function(t){ue.structure.verifyStructSize("Duration",ZY,t.size);var r=Zr(t.fields,4),e=r[0],n=r[1],i=r[2],o=r[3];return new Y.Duration(e,n,i,o)}})}function oG(t){var r=t.disableLosslessIntegers,e=t.useBigInt;return new $r.TypeTransformer({signature:Mw,isTypeInstance:Y.isLocalTime,toStructure:function(n){var i=xw(n.hour,n.minute,n.second,n.nanosecond);return new ue.structure.Structure(Mw,[i])},fromStructure:function(n){ue.structure.verifyStructSize("LocalTime",$Y,n.size);var i=Zr(n.fields,1),o=i[0],a=(0,ao.nanoOfDayToLocalTime)(o);return uo(a,r,e)}})}function aG(t){var r=t.disableLosslessIntegers,e=t.useBigInt;return new $r.TypeTransformer({signature:Nw,isTypeInstance:Y.isTime,toStructure:function(n){var i=xw(n.hour,n.minute,n.second,n.nanosecond),o=(0,Y.int)(n.timeZoneOffsetSeconds);return new ue.structure.Structure(Nw,[i,o])},fromStructure:function(n){ue.structure.verifyStructSize("Time",QY,n.size);var i=Zr(n.fields,2),o=i[0],a=i[1],s=(0,ao.nanoOfDayToLocalTime)(o),c=new Y.Time(s.hour,s.minute,s.second,s.nanosecond,a);return uo(c,r,e)}})}function uG(t){var r=t.disableLosslessIntegers,e=t.useBigInt;return new $r.TypeTransformer({signature:kw,isTypeInstance:Y.isDate,toStructure:function(n){var i=YY(n.year,n.month,n.day);return new ue.structure.Structure(kw,[i])},fromStructure:function(n){ue.structure.verifyStructSize("Date",XY,n.size);var i=Zr(n.fields,1),o=i[0],a=(0,ao.epochDayToDate)(o);return uo(a,r,e)}})}function sG(t){var r=t.disableLosslessIntegers,e=t.useBigInt;return new $r.TypeTransformer({signature:Dw,isTypeInstance:Y.isLocalDateTime,toStructure:function(n){var i=$p(n.year,n.month,n.day,n.hour,n.minute,n.second,n.nanosecond),o=(0,Y.int)(n.nanosecond);return new ue.structure.Structure(Dw,[i,o])},fromStructure:function(n){ue.structure.verifyStructSize("LocalDateTime",JY,n.size);var i=Zr(n.fields,2),o=i[0],a=i[1],s=(0,ao.epochSecondAndNanoToLocalDateTime)(o,a);return uo(s,r,e)}})}function cG(t){var r=t.disableLosslessIntegers,e=t.useBigInt;return new $r.TypeTransformer({signature:Uw,isTypeInstance:function(n){return(0,Y.isDateTime)(n)&&n.timeZoneId!=null},toStructure:function(n){var i=$p(n.year,n.month,n.day,n.hour,n.minute,n.second,n.nanosecond),o=(0,Y.int)(n.nanosecond),a=n.timeZoneId;return new ue.structure.Structure(Uw,[i,o,a])},fromStructure:function(n){ue.structure.verifyStructSize("DateTimeWithZoneId",rG,n.size);var i=Zr(n.fields,3),o=i[0],a=i[1],s=i[2],c=(0,ao.epochSecondAndNanoToLocalDateTime)(o,a),u=new Y.DateTime(c.year,c.month,c.day,c.hour,c.minute,c.second,c.nanosecond,null,s);return uo(u,r,e)}})}function lG(t){var r=t.disableLosslessIntegers,e=t.useBigInt;return new $r.TypeTransformer({signature:Lw,isTypeInstance:function(n){return(0,Y.isDateTime)(n)&&n.timeZoneId==null},toStructure:function(n){var i=$p(n.year,n.month,n.day,n.hour,n.minute,n.second,n.nanosecond),o=(0,Y.int)(n.nanosecond),a=(0,Y.int)(n.timeZoneOffsetSeconds);return new ue.structure.Structure(Lw,[i,o,a])},fromStructure:function(n){ue.structure.verifyStructSize("DateTimeWithZoneOffset",eG,n.size);var i=Zr(n.fields,3),o=i[0],a=i[1],s=i[2],c=(0,ao.epochSecondAndNanoToLocalDateTime)(o,a),u=new Y.DateTime(c.year,c.month,c.day,c.hour,c.minute,c.second,c.nanosecond,s,null);return uo(u,r,e)}})}function uo(t,r,e){if(!r&&!e)return t;var n=function(s){return e?s.toBigInt():s.toNumberOrInfinity()},i=Object.create(Object.getPrototypeOf(t));for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)===!0){var a=t[o];i[o]=(0,Y.isInt)(a)?n(a):a}return Object.freeze(i),i}Kr.default=ff(ff({},zY.default),{createPoint2DTransformer:tG,createPoint3DTransformer:nG,createDurationTransformer:iG,createLocalTimeTransformer:oG,createTimeTransformer:aG,createDateTransformer:uG,createLocalDateTimeTransformer:sG,createDateTimeWithZoneIdTransformer:cG,createDateTimeWithOffsetTransformer:lG})});var Xp=d(qn=>{"use strict";var fG=qn&&qn.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),df=qn&&qn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qn,"__esModule",{value:!0});var dG=df(zp()),Fw=df(Yr()),hG=D(),vG=df(Qp()),pG=df($e()),_G=hG.internal.constants.BOLT_PROTOCOL_V2,mG=function(t){fG(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype._createPacker=function(e){return new Fw.default.Packer(e)},r.prototype._createUnpacker=function(e,n){return new Fw.default.Unpacker(e,n)},Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new pG.default(Object.values(vG.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return _G},enumerable:!1,configurable:!0}),r}(dG.default);qn.default=mG});var e_=d(jn=>{"use strict";var Jp=jn&&jn.__assign||function(){return Jp=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Jp.apply(this,arguments)},bG=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jn,"__esModule",{value:!0});var yG=bG(Qp());jn.default=Jp({},yG.default)});var t_=d(Qr=>{"use strict";var gG=Qr&&Qr.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vf=Qr&&Qr.__assign||function(){return vf=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vf.apply(this,arguments)},pf=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});var OG=pf(Xp()),Rn=pf(Ft()),hf=ef(),An=Gr(),EG=pf(e_()),wG=pf($e()),r_=D(),qee=r_.internal.bookmarks.Bookmarks,SG=r_.internal.constants.BOLT_PROTOCOL_V3,PG=r_.internal.txConfig.TxConfig,Bw="context",TG="CALL dbms.cluster.routing.getRoutingTable($".concat(Bw,")"),CG=new An.StreamObserver,IG=function(t){gG(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return SG},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new wG.default(Object.values(EG.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},r.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,a=i.authToken,s=i.onError,c=i.onComplete,u=new An.LoginObserver({onError:function(l){return n._onLoginError(l,s)},onCompleted:function(l){return n._onLoginCompleted(l,c)}});return this.write(Rn.default.hello(o,a),u,!0),u},r.prototype.prepareToClose=function(){this.write(Rn.default.goodbye(),CG,!0)},r.prototype.beginTransaction=function(e){var n=e===void 0?{}:e,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.impersonatedUser,c=n.mode,u=n.beforeError,l=n.afterError,h=n.beforeComplete,v=n.afterComplete,_=new An.ResultStreamObserver({server:this._server,beforeError:u,afterError:l,beforeComplete:h,afterComplete:v});return _.prepareToHandleSingleResponse(),(0,hf.assertDatabaseIsEmpty)(a,this._onProtocolError,_),(0,hf.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,_),this.write(Rn.default.begin({bookmarks:i,txConfig:o,mode:c}),_,!0),_},r.prototype.commitTransaction=function(e){var n=e===void 0?{}:e,i=n.beforeError,o=n.afterError,a=n.beforeComplete,s=n.afterComplete,c=new An.ResultStreamObserver({server:this._server,beforeError:i,afterError:o,beforeComplete:a,afterComplete:s});return c.prepareToHandleSingleResponse(),this.write(Rn.default.commit(),c,!0),c},r.prototype.rollbackTransaction=function(e){var n=e===void 0?{}:e,i=n.beforeError,o=n.afterError,a=n.beforeComplete,s=n.afterComplete,c=new An.ResultStreamObserver({server:this._server,beforeError:i,afterError:o,beforeComplete:a,afterComplete:s});return c.prepareToHandleSingleResponse(),this.write(Rn.default.rollback(),c,!0),c},r.prototype.run=function(e,n,i){var o=i===void 0?{}:i,a=o.bookmarks,s=o.txConfig,c=o.database,u=o.impersonatedUser,l=o.mode,h=o.beforeKeys,v=o.afterKeys,_=o.beforeError,m=o.afterError,g=o.beforeComplete,w=o.afterComplete,S=o.flush,I=S===void 0?!0:S,U=o.highRecordWatermark,x=U===void 0?Number.MAX_VALUE:U,A=o.lowRecordWatermark,G=A===void 0?Number.MAX_VALUE:A,ge=new An.ResultStreamObserver({server:this._server,beforeKeys:h,afterKeys:v,beforeError:_,afterError:m,beforeComplete:g,afterComplete:w,highRecordWatermark:x,lowRecordWatermark:G});return(0,hf.assertDatabaseIsEmpty)(c,this._onProtocolError,ge),(0,hf.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,ge),this.write(Rn.default.runWithMetadata(e,n,{bookmarks:a,txConfig:s,mode:l}),ge,!1),this.write(Rn.default.pullAll(),ge,I),ge},r.prototype.requestRoutingInformation=function(e){var n,i=e.routingContext,o=i===void 0?{}:i,a=e.sessionContext,s=a===void 0?{}:a,c=e.onError,u=e.onCompleted,l=this.run(TG,(n={},n[Bw]=o,n),vf(vf({},s),{txConfig:PG.empty()}));return new An.ProcedureRouteObserver({resultObserver:l,onProtocolError:this._onProtocolError,onError:c,onCompleted:u})},r}(OG.default);Qr.default=IG});var i_=d(Mn=>{"use strict";var n_=Mn&&Mn.__assign||function(){return n_=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n_.apply(this,arguments)},qG=Mn&&Mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});var jG=qG(e_());Mn.default=n_({},jG.default)});var u_=d(Xr=>{"use strict";var RG=Xr&&Xr.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_f=Xr&&Xr.__assign||function(){return _f=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_f.apply(this,arguments)},mf=Xr&&Xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});var AG=mf(t_()),ma=mf(Ft()),Ww=ef(),o_=Gr(),MG=mf(i_()),NG=mf($e()),a_=D(),Aee=a_.internal.bookmarks.Bookmarks,Vw=a_.internal.constants,kG=Vw.BOLT_PROTOCOL_V4_0,DG=Vw.FETCH_ALL,LG=a_.internal.txConfig.TxConfig,Hw="context",zw="database",UG="CALL dbms.routing.getRoutingTable($".concat(Hw,", $").concat(zw,")"),xG=function(t){RG(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return kG},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new NG.default(Object.values(MG.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.beginTransaction=function(e){var n=e===void 0?{}:e,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.impersonatedUser,c=n.mode,u=n.beforeError,l=n.afterError,h=n.beforeComplete,v=n.afterComplete,_=new o_.ResultStreamObserver({server:this._server,beforeError:u,afterError:l,beforeComplete:h,afterComplete:v});return _.prepareToHandleSingleResponse(),(0,Ww.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,_),this.write(ma.default.begin({bookmarks:i,txConfig:o,database:a,mode:c}),_,!0),_},r.prototype.run=function(e,n,i){var o=i===void 0?{}:i,a=o.bookmarks,s=o.txConfig,c=o.database,u=o.impersonatedUser,l=o.mode,h=o.beforeKeys,v=o.afterKeys,_=o.beforeError,m=o.afterError,g=o.beforeComplete,w=o.afterComplete,S=o.flush,I=S===void 0?!0:S,U=o.reactive,x=U===void 0?!1:U,A=o.fetchSize,G=A===void 0?DG:A,ge=o.highRecordWatermark,Ht=ge===void 0?Number.MAX_VALUE:ge,Pr=o.lowRecordWatermark,zt=Pr===void 0?Number.MAX_VALUE:Pr,er=new o_.ResultStreamObserver({server:this._server,reactive:x,fetchSize:G,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:v,beforeError:_,afterError:m,beforeComplete:g,afterComplete:w,highRecordWatermark:Ht,lowRecordWatermark:zt});(0,Ww.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,er);var T=x;return this.write(ma.default.runWithMetadata(e,n,{bookmarks:a,txConfig:s,database:c,mode:l}),er,T&&I),x||this.write(ma.default.pull({n:G}),er,I),er},r.prototype._requestMore=function(e,n,i){this.write(ma.default.pull({stmtId:e,n}),i,!0)},r.prototype._requestDiscard=function(e,n){this.write(ma.default.discard({stmtId:e}),n,!0)},r.prototype._noOp=function(){},r.prototype.requestRoutingInformation=function(e){var n,i=e.routingContext,o=i===void 0?{}:i,a=e.databaseName,s=a===void 0?null:a,c=e.sessionContext,u=c===void 0?{}:c,l=e.onError,h=e.onCompleted,v=this.run(UG,(n={},n[Hw]=o,n[zw]=s,n),_f(_f({},u),{txConfig:LG.empty()}));return new o_.ProcedureRouteObserver({resultObserver:v,onProtocolError:this._onProtocolError,onError:l,onCompleted:h})},r}(AG.default);Xr.default=xG});var c_=d(Nn=>{"use strict";var s_=Nn&&Nn.__assign||function(){return s_=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},s_.apply(this,arguments)},FG=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});var BG=FG(i_());Nn.default=s_({},BG.default)});var l_=d(kn=>{"use strict";var WG=kn&&kn.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bf=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kn,"__esModule",{value:!0});var VG=bf(u_()),HG=bf(Ft()),zG=Gr(),YG=D(),GG=bf(c_()),KG=bf($e()),ZG=YG.internal.constants.BOLT_PROTOCOL_V4_1,$G=function(t){WG(r,t);function r(e,n,i,o,a,s,c){o===void 0&&(o=function(){return null});var u=t.call(this,e,n,i,o,a,s)||this;return u._serversideRouting=c,u}return Object.defineProperty(r.prototype,"version",{get:function(){return ZG},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new KG.default(Object.values(GG.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,a=i.authToken,s=i.onError,c=i.onComplete,u=new zG.LoginObserver({onError:function(l){return n._onLoginError(l,s)},onCompleted:function(l){return n._onLoginCompleted(l,c)}});return this.write(HG.default.hello(o,a,this._serversideRouting),u,!0),u},r}(VG.default);kn.default=$G});var d_=d(Dn=>{"use strict";var f_=Dn&&Dn.__assign||function(){return f_=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},f_.apply(this,arguments)},QG=Dn&&Dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dn,"__esModule",{value:!0});var XG=QG(c_());Dn.default=f_({},XG.default)});var v_=d(Ln=>{"use strict";var JG=Ln&&Ln.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),h_=Ln&&Ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ln,"__esModule",{value:!0});var eK=h_(l_()),rK=D(),tK=h_(d_()),nK=h_($e()),iK=rK.internal.constants.BOLT_PROTOCOL_V4_2,oK=function(t){JG(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return iK},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new nK.default(Object.values(tK.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r}(eK.default);Ln.default=oK});var __=d(Un=>{"use strict";var p_=Un&&Un.__assign||function(){return p_=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},p_.apply(this,arguments)},aK=Un&&Un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Un,"__esModule",{value:!0});var uK=aK(d_());Un.default=p_({},uK.default)});var yf=d(xn=>{"use strict";var m_=xn&&xn.__assign||function(){return m_=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},m_.apply(this,arguments)},sK=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});var cK=sK(__());xn.default=m_({},cK.default)});var Of=d(Fn=>{"use strict";var Kw=Fn&&Fn.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},lK=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});var gf=Yr(),Qe=D(),Zw=lK(yf()),fK=Kp(),dK=Ap(),ba=Qe.internal.temporalUtil.localDateTimeToEpochSecond,Yw=73,hK=3,Gw=105,vK=3;function pK(t,r){var e=t.disableLosslessIntegers,n=t.useBigInt,i=Zw.default.createDateTimeWithZoneIdTransformer(t);return i.extendsWith({signature:Gw,fromStructure:function(o){gf.structure.verifyStructSize("DateTimeWithZoneId",vK,o.size);var a=Kw(o.fields,3),s=a[0],c=a[1],u=a[2],l=b_(u,s,c),h=new Qe.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,(0,Qe.int)(c),l.timeZoneOffsetSeconds,u);return $w(h,e,n)},toStructure:function(o){var a=ba(o.year,o.month,o.day,o.hour,o.minute,o.second,o.nanosecond),s=o.timeZoneOffsetSeconds!=null?o.timeZoneOffsetSeconds:_K(o.timeZoneId,a,o.nanosecond);o.timeZoneOffsetSeconds==null&&r.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var c=a.subtract(s),u=(0,Qe.int)(o.nanosecond),l=o.timeZoneId;return new gf.structure.Structure(Gw,[c,u,l])}})}function _K(t,r,e){var n=b_(t,r,e),i=ba(n.year,n.month,n.day,n.hour,n.minute,n.second,e),o=i.subtract(r),a=r.subtract(o),s=b_(t,a,e),c=ba(s.year,s.month,s.day,s.hour,s.minute,s.second,e),u=c.subtract(a);return u}function b_(t,r,e){var n=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),i=(0,Qe.int)(r).multiply(1e3).add((0,Qe.int)(e).div(1e6)).toNumber(),o=n.formatToParts(i),a=o.reduce(function(c,u){return u.type==="era"?c.adjustEra=u.value.toUpperCase()==="B"?function(l){return l.subtract(1).negate()}:dK.identity:u.type!=="literal"&&(c[u.type]=(0,Qe.int)(u.value)),c},{});a.year=a.adjustEra(a.year);var s=ba(a.year,a.month,a.day,a.hour,a.minute,a.second,a.nanosecond);return a.timeZoneOffsetSeconds=s.subtract(r),a.hour=a.hour.modulo(24),a}function mK(t){var r=t.disableLosslessIntegers,e=t.useBigInt,n=Zw.default.createDateTimeWithOffsetTransformer(t);return n.extendsWith({signature:Yw,toStructure:function(i){var o=ba(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond),a=(0,Qe.int)(i.nanosecond),s=(0,Qe.int)(i.timeZoneOffsetSeconds),c=o.subtract(s);return new gf.structure.Structure(Yw,[c,a,s])},fromStructure:function(i){gf.structure.verifyStructSize("DateTimeWithZoneOffset",hK,i.size);var o=Kw(i.fields,3),a=o[0],s=o[1],c=o[2],u=(0,Qe.int)(a).add(c),l=(0,fK.epochSecondAndNanoToLocalDateTime)(u,s),h=new Qe.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,l.nanosecond,c,null);return $w(h,r,e)}})}function $w(t,r,e){if(!r&&!e)return t;var n=function(s){return e?s.toBigInt():s.toNumberOrInfinity()},i=Object.create(Object.getPrototypeOf(t));for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)===!0){var a=t[o];i[o]=(0,Qe.isInt)(a)?n(a):a}return Object.freeze(i),i}Fn.default={createDateTimeWithZoneIdTransformer:pK,createDateTimeWithOffsetTransformer:mK}});var wf=d(Jr=>{"use strict";var bK=Jr&&Jr.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ef=Jr&&Jr.__assign||function(){return Ef=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ef.apply(this,arguments)},ya=Jr&&Jr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});var yK=ya(v_()),Qw=ya(Ft()),Xw=Gr(),Jw=ya(__()),gK=ya(Of()),eS=ya($e()),rS=D(),OK=rS.internal.bookmarks.Bookmarks,EK=rS.internal.constants.BOLT_PROTOCOL_V4_3,wK=function(t){bK(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return EK},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new eS.default(Object.values(Jw.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.requestRoutingInformation=function(e){var n=e.routingContext,i=n===void 0?{}:n,o=e.databaseName,a=o===void 0?null:o,s=e.sessionContext,c=s===void 0?{}:s,u=e.onError,l=e.onCompleted,h=new Xw.RouteObserver({onProtocolError:this._onProtocolError,onError:u,onCompleted:l}),v=c.bookmarks||OK.empty();return this.write(Qw.default.route(i,v.values(),a),h,!0),h},r.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,a=i.authToken,s=i.onError,c=i.onComplete,u=new Xw.LoginObserver({onError:function(l){return n._onLoginError(l,s)},onCompleted:function(l){return l.patch_bolt!==void 0&&n._applyPatches(l.patch_bolt),n._onLoginCompleted(l,c)}});return this.write(Qw.default.hello(o,a,this._serversideRouting,["utc"]),u,!0),u},r.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},r.prototype._applyUtcPatch=function(){var e=this;this._transformer=new eS.default(Object.values(Ef(Ef({},Jw.default),gK.default)).map(function(n){return n(e._config,e._log)}))},r}(yK.default);Jr.default=wK});var g_=d(et=>{"use strict";var SK=et&&et.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pf=et&&et.__assign||function(){return Pf=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Pf.apply(this,arguments)},ga=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(et,"__esModule",{value:!0});var PK=ga(wf()),iS=D(),Sf=ga(Ft()),y_=Gr(),tS=ga(yf()),TK=ga(Of()),nS=ga($e()),oS=iS.internal.constants,CK=oS.BOLT_PROTOCOL_V4_4,IK=oS.FETCH_ALL,qK=iS.internal.bookmarks.Bookmarks,jK=function(t){SK(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return CK},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new nS.default(Object.values(tS.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.requestRoutingInformation=function(e){var n=e.routingContext,i=n===void 0?{}:n,o=e.databaseName,a=o===void 0?null:o,s=e.impersonatedUser,c=s===void 0?null:s,u=e.sessionContext,l=u===void 0?{}:u,h=e.onError,v=e.onCompleted,_=new y_.RouteObserver({onProtocolError:this._onProtocolError,onError:h,onCompleted:v}),m=l.bookmarks||qK.empty();return this.write(Sf.default.routeV4x4(i,m.values(),{databaseName:a,impersonatedUser:c}),_,!0),_},r.prototype.run=function(e,n,i){var o=i===void 0?{}:i,a=o.bookmarks,s=o.txConfig,c=o.database,u=o.mode,l=o.impersonatedUser,h=o.beforeKeys,v=o.afterKeys,_=o.beforeError,m=o.afterError,g=o.beforeComplete,w=o.afterComplete,S=o.flush,I=S===void 0?!0:S,U=o.reactive,x=U===void 0?!1:U,A=o.fetchSize,G=A===void 0?IK:A,ge=o.highRecordWatermark,Ht=ge===void 0?Number.MAX_VALUE:ge,Pr=o.lowRecordWatermark,zt=Pr===void 0?Number.MAX_VALUE:Pr,er=new y_.ResultStreamObserver({server:this._server,reactive:x,fetchSize:G,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:v,beforeError:_,afterError:m,beforeComplete:g,afterComplete:w,highRecordWatermark:Ht,lowRecordWatermark:zt}),T=x;return this.write(Sf.default.runWithMetadata(e,n,{bookmarks:a,txConfig:s,database:c,mode:u,impersonatedUser:l}),er,T&&I),x||this.write(Sf.default.pull({n:G}),er,I),er},r.prototype.beginTransaction=function(e){var n=e===void 0?{}:e,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.mode,c=n.impersonatedUser,u=n.beforeError,l=n.afterError,h=n.beforeComplete,v=n.afterComplete,_=new y_.ResultStreamObserver({server:this._server,beforeError:u,afterError:l,beforeComplete:h,afterComplete:v});return _.prepareToHandleSingleResponse(),this.write(Sf.default.begin({bookmarks:i,txConfig:o,database:a,mode:s,impersonatedUser:c}),_,!0),_},r.prototype._applyUtcPatch=function(){var e=this;this._transformer=new nS.default(Object.values(Pf(Pf({},tS.default),TK.default)).map(function(n){return n(e._config,e._log)}))},r}(PK.default);et.default=jK});var uS=d(rt=>{"use strict";var Oa=rt&&rt.__assign||function(){return Oa=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Oa.apply(this,arguments)},O_=rt&&rt.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},aS=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});var E_=Yr(),w_=D(),Tf=aS(yf()),RK=aS(Of()),AK=4,MK=8,NK=4;function kK(t){var r=Tf.default.createNodeTransformer(t);return r.extendsWith({fromStructure:function(e){E_.structure.verifyStructSize("Node",AK,e.size);var n=O_(e.fields,4),i=n[0],o=n[1],a=n[2],s=n[3];return new w_.Node(i,o,a,s)}})}function DK(t){var r=Tf.default.createRelationshipTransformer(t);return r.extendsWith({fromStructure:function(e){E_.structure.verifyStructSize("Relationship",MK,e.size);var n=O_(e.fields,8),i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],h=n[7];return new w_.Relationship(i,o,a,s,c,u,l,h)}})}function LK(t){var r=Tf.default.createUnboundRelationshipTransformer(t);return r.extendsWith({fromStructure:function(e){E_.structure.verifyStructSize("UnboundRelationship",NK,e.size);var n=O_(e.fields,4),i=n[0],o=n[1],a=n[2],s=n[3];return new w_.UnboundRelationship(i,o,a,s)}})}rt.default=Oa(Oa(Oa({},Tf.default),RK.default),{createNodeTransformer:kK,createRelationshipTransformer:DK,createUnboundRelationshipTransformer:LK})});var sS=d(Bn=>{"use strict";var UK=Bn&&Bn.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cf=Bn&&Bn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});var xK=Cf(g_()),FK=Cf(uS()),BK=Cf($e()),WK=Cf(Ft()),VK=Gr(),HK=D(),zK=HK.internal.constants.BOLT_PROTOCOL_V5_0,YK=function(t){UK(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return zK},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var e=this;return this._transformer===void 0&&(this._transformer=new BK.default(Object.values(FK.default).map(function(n){return n(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,a=i.authToken,s=i.onError,c=i.onComplete,u=new VK.LoginObserver({onError:function(l){return n._onLoginError(l,s)},onCompleted:function(l){return n._onLoginCompleted(l,c)}});return this.write(WK.default.hello(o,a,this._serversideRouting),u,!0),u},r}(xK.default);Bn.default=YK});var lS=d(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var Wn=D(),GK=112,KK=113,ZK=126,$K=127;function tt(){}function cS(t){return t}var QK={onNext:tt,onCompleted:tt,onError:tt},XK=function(){function t(r){var e=r===void 0?{}:r,n=e.transformMetadata,i=e.log,o=e.observer;this._pendingObservers=[],this._log=i,this._transformMetadata=n||cS,this._observer=Object.assign({onPendingObserversChange:tt,onError:tt,onFailure:tt,onErrorApplyTransformation:cS},o)}return Object.defineProperty(t.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),t.prototype.handleResponse=function(r){var e=r.fields[0];switch(r.signature){case KK:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(Wn.json.stringify(r))),this._currentObserver.onNext(e);break;case GK:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(Wn.json.stringify(r)));try{var n=this._transformMetadata(e);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case $K:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(Wn.json.stringify(r)));try{var i=JK(e.code),o=(0,Wn.newError)(e.message,i);this._currentFailure=this._observer.onErrorApplyTransformation(o),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case ZK:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(Wn.json.stringify(r)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,Wn.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,Wn.newError)("Unknown Bolt protocol message: "+r))}},t.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},t.prototype._queueObserver=function(r){return r=r||QK,r.onCompleted=r.onCompleted||tt,r.onError=r.onError||tt,r.onNext=r.onNext||tt,this._currentObserver===void 0?this._currentObserver=r:this._pendingObservers.push(r),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},t.prototype._notifyErrorToObservers=function(r){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(r);this._pendingObservers.length>0;){var e=this._pendingObservers.shift();e&&e.onError&&e.onError(r)}},t.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},t.prototype._resetFailure=function(){this._currentFailure=null},t}();S_.default=XK;function JK(t){return t==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":t==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":t}});var fS=d(Ea=>{"use strict";var Sr=Ea&&Ea.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ea,"__esModule",{value:!0});var e5=D(),r5=Sr(zp()),t5=Sr(Xp()),n5=Sr(t_()),i5=Sr(u_()),o5=Sr(l_()),a5=Sr(v_()),u5=Sr(wf()),s5=Sr(g_()),c5=Sr(sS()),l5=Sr(lS());function f5(t){var r=t===void 0?{}:t,e=r.version,n=r.chunker,i=r.dechunker,o=r.channel,a=r.disableLosslessIntegers,s=r.useBigInt,c=r.serversideRouting,u=r.server,l=r.log,h=r.observer,v=function(_){var m=new l5.default({transformMetadata:_.transformMetadata.bind(_),log:l,observer:h});return o.onerror=h.onError.bind(h),o.onmessage=function(g){return i.write(g)},i.onmessage=function(g){try{m.handleResponse(_.unpack(g))}catch(w){return h.onError(w)}},m};return d5(e,u,n,{disableLosslessIntegers:a,useBigInt:s},c,v,h.onProtocolError.bind(h),l)}Ea.default=f5;function d5(t,r,e,n,i,o,a,s){switch(t){case 1:return new r5.default(r,e,n,o,s,a);case 2:return new t5.default(r,e,n,o,s,a);case 3:return new n5.default(r,e,n,o,s,a);case 4:return new i5.default(r,e,n,o,s,a);case 4.1:return new o5.default(r,e,n,o,s,a,i);case 4.2:return new a5.default(r,e,n,o,s,a,i);case 4.3:return new u5.default(r,e,n,o,s,a,i);case 4.4:return new s5.default(r,e,n,o,s,a,i);case 5:return new c5.default(r,e,n,o,s,a,i);default:throw(0,e5.newError)("Unknown Bolt protocol version: "+t)}}});var P_=d(Me=>{"use strict";var h5=Me&&Me.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),v5=Me&&Me.__exportStar||function(t,r){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&h5(r,t,e)},If=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Me,"__esModule",{value:!0});Me.RawRoutingTable=Me.BoltProtocol=void 0;var p5=If(AE()),_5=If(fS()),m5=If(wf()),b5=If(Up());v5(Gr(),Me);Me.BoltProtocol=m5.default;Me.RawRoutingTable=b5.default;Me.default={handshake:p5.default,create:_5.default}});var T_=d(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.DEFAULT_ACQUISITION_TIMEOUT=Vn.DEFAULT_MAX_SIZE=void 0;var qf=100;Vn.DEFAULT_MAX_SIZE=qf;var jf=60*1e3;Vn.DEFAULT_ACQUISITION_TIMEOUT=jf;var y5=function(){function t(r,e){this.maxSize=dS(r,qf),this.acquisitionTimeout=dS(e,jf)}return t.defaultConfig=function(){return new t(qf,jf)},t.fromDriverConfig=function(r){var e=hS(r.maxConnectionPoolSize),n=e?r.maxConnectionPoolSize:qf,i=hS(r.connectionAcquisitionTimeout),o=i?r.connectionAcquisitionTimeout:jf;return new t(n,o)},t}();Vn.default=y5;function dS(t,r){return t===0||t?t:r}function hS(t){return t===0||t}});var pS=d(nt=>{"use strict";var Rf=nt&&nt.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},Af=nt&&nt.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},g5=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nt,"__esModule",{value:!0});var O5=g5(T_()),C_=D(),E5=C_.internal.logger.Logger,w5=function(){function t(r){var e=r===void 0?{}:r,n=e.create,i=n===void 0?function(S,I){return Promise.resolve()}:n,o=e.destroy,a=o===void 0?function(S){return Promise.resolve()}:o,s=e.validate,c=s===void 0?function(S){return!0}:s,u=e.installIdleObserver,l=u===void 0?function(S,I){}:u,h=e.removeIdleObserver,v=h===void 0?function(S){}:h,_=e.config,m=_===void 0?O5.default.defaultConfig():_,g=e.log,w=g===void 0?E5.noOp():g;this._create=i,this._destroy=a,this._validate=c,this._installIdleObserver=l,this._removeIdleObserver=v,this._maxSize=m.maxSize,this._acquisitionTimeout=m.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=w,this._closed=!1}return t.prototype.acquire=function(r){var e=this,n=r.asKey(),i=this._acquireRequests,o=i[n];return o||(i[n]=[]),new Promise(function(a,s){var c=null,u=setTimeout(function(){var l=i[n];if(l&&(i[n]=l.filter(function(_){return _!==c})),!c.isCompleted()){var h=e.activeResourceCount(r),v=e.has(r)?e._pools[n].length:0;c.reject((0,C_.newError)("Connection acquisition timed out in ".concat(e._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(h,", Idle conn count = ").concat(v,".")))}},e._acquisitionTimeout);c=new P5(n,a,s,u,e._log),i[n].push(c),e._processPendingAcquireRequests(r)})},t.prototype.purge=function(r){return this._purgeKey(r.asKey())},t.prototype.close=function(){return Rf(this,void 0,void 0,function(){var r=this;return Af(this,function(e){switch(e.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(n){return r._purgeKey(n)}))];case 1:return[2,e.sent()]}})})},t.prototype.keepAll=function(r){var e=this,n=r.map(function(a){return a.asKey()}),i=Object.keys(this._pools),o=i.filter(function(a){return n.indexOf(a)===-1});return Promise.all(o.map(function(a){return e._purgeKey(a)}))},t.prototype.has=function(r){return r.asKey()in this._pools},t.prototype.activeResourceCount=function(r){return this._activeResourceCounts[r.asKey()]||0},t.prototype._getOrInitializePoolFor=function(r){var e=this._pools[r];return e||(e=new T5,this._pools[r]=e,this._pendingCreates[r]=0),e},t.prototype._acquire=function(r){return Rf(this,void 0,void 0,function(){var e,n,i,o,a,s=this;return Af(this,function(c){switch(c.label){case 0:if(this._closed)throw(0,C_.newError)("Pool is closed, it is no more able to serve requests.");e=r.asKey(),n=this._getOrInitializePoolFor(e),c.label=1;case 1:return n.length?(i=n.pop(),this._validate(i)?(this._removeIdleObserver&&this._removeIdleObserver(i),vS(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(i," acquired from the pool ").concat(e)),[2,{resource:i,pool:n}]):[3,2]):[3,5];case 2:return[4,this._destroy(i)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:if(this._maxSize>0&&(o=this.activeResourceCount(r)+this._pendingCreates[e],o>=this._maxSize))return[2,{resource:null,pool:n}];this._pendingCreates[e]=this._pendingCreates[e]+1,c.label=6;case 6:return c.trys.push([6,,8,9]),[4,this._create(r,function(u,l){return s._release(u,l,n)})];case 7:return a=c.sent(),vS(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(a," created for the pool ").concat(e)),[3,9];case 8:return this._pendingCreates[e]=this._pendingCreates[e]-1,[7];case 9:return[2,{resource:a,pool:n}]}})})},t.prototype._release=function(r,e,n){return Rf(this,void 0,void 0,function(){var i,o=this;return Af(this,function(a){switch(a.label){case 0:return i=r.asKey(),n.isActive()?this._validate(e)?[3,2]:(this._log.isDebugEnabled()&&this._log.debug("".concat(e," destroyed and can't be released to the pool ").concat(i," because it is not functional")),[4,this._destroy(e)]):[3,4];case 1:return a.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(e,{onError:function(s){o._log.debug("Idle connection ".concat(e," destroyed because of error: ").concat(s));var c=o._pools[i];c&&(o._pools[i]=c.filter(function(u){return u!==e})),o._destroy(e).catch(function(){})}}),n.push(e),this._log.isDebugEnabled()&&this._log.debug("".concat(e," released to the pool ").concat(i)),a.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug("".concat(e," destroyed and can't be released to the pool ").concat(i," because pool has been purged")),[4,this._destroy(e)];case 5:a.sent(),a.label=6;case 6:return S5(i,this._activeResourceCounts),this._processPendingAcquireRequests(r),[2]}})})},t.prototype._purgeKey=function(r){return Rf(this,void 0,void 0,function(){var e,n,i;return Af(this,function(o){switch(o.label){case 0:if(e=this._pools[r],n=[],!e)return[3,2];for(;e.length;)i=e.pop(),this._removeIdleObserver&&this._removeIdleObserver(i),n.push(this._destroy(i));return e.close(),delete this._pools[r],[4,Promise.all(n)];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype._processPendingAcquireRequests=function(r){var e=this,n=r.asKey(),i=this._acquireRequests[n];if(i){var o=i.shift();o?this._acquire(r).catch(function(a){return o.reject(a),{resource:null}}).then(function(a){var s=a.resource,c=a.pool;s?o.isCompleted()?e._release(r,s,c):o.resolve(s):o.isCompleted()||(e._acquireRequests[n]||(e._acquireRequests[n]=[]),e._acquireRequests[n].unshift(o))}):delete this._acquireRequests[n]}},t}();function vS(t,r){var e=r[t]||0;r[t]=e+1}function S5(t,r){var e=r[t]||0,n=e-1;n>0?r[t]=n:delete r[t]}var P5=function(){function t(r,e,n,i,o){this._key=r,this._resolve=e,this._reject=n,this._timeoutId=i,this._log=o,this._completed=!1}return t.prototype.isCompleted=function(){return this._completed},t.prototype.resolve=function(r){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(r," acquired from the pool ").concat(this._key)),this._resolve(r))},t.prototype.reject=function(r){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(r))},t}(),T5=function(){function t(){this._active=!0,this._elements=[]}return t.prototype.isActive=function(){return this._active},t.prototype.close=function(){this._active=!1},t.prototype.filter=function(r){return this._elements=this._elements.filter(r),this},Object.defineProperty(t.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),t.prototype.pop=function(){return this._elements.pop()},t.prototype.push=function(r){return this._elements.push(r)},t}();nt.default=w5});var q_=d(ae=>{"use strict";var C5=ae&&ae.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),I5=ae&&ae.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),q5=ae&&ae.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&C5(r,t,e);return I5(r,t),r},j5=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ae,"__esModule",{value:!0});ae.DEFAULT_MAX_SIZE=ae.DEFAULT_ACQUISITION_TIMEOUT=ae.PoolConfig=ae.Pool=void 0;var I_=q5(T_());ae.PoolConfig=I_.default;Object.defineProperty(ae,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return I_.DEFAULT_ACQUISITION_TIMEOUT}});Object.defineProperty(ae,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return I_.DEFAULT_MAX_SIZE}});var _S=j5(pS());ae.Pool=_S.default;ae.default=_S.default});var j_=d(wa=>{"use strict";var R5=wa&&wa.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(wa,"__esModule",{value:!0});var A5=D(),M5=function(t){R5(r,t);function r(e){var n=t.call(this)||this;return n._connection=e,n}return r.prototype.acquireConnection=function(e){var n=e===void 0?{}:e,i=n.accessMode,o=n.database,a=n.bookmarks,s=this._connection;return this._connection=null,Promise.resolve(s)},r}(A5.ConnectionProvider);wa.default=M5});var Mf=d(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});var N5=function(){function t(r){this._errorHandler=r}return Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(r){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){throw new Error("not implemented")},t.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(r){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(r,e){throw new Error("not implemented")},t.prototype.write=function(r,e,n){throw new Error("not implemented")},t.prototype.resetAndFlush=function(){throw new Error("not implemented")},t.prototype.hasOngoingObservableRequests=function(){throw new Error("not implemented")},t.prototype.close=function(){throw new Error("not implemented")},t.prototype.handleAndTransformError=function(r,e){return this._errorHandler?this._errorHandler.handleAndTransformError(r,e):r},t}();R_.default=N5});var gS=d(Ve=>{"use strict";var k5=Ve&&Ve.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),D5=Ve&&Ve.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},L5=Ve&&Ve.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bS=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.createChannelConnection=void 0;var Nf=to(),Sa=D(),U5=bS(Mf()),mS=bS(P_()),x5=Sa.error.PROTOCOL_ERROR,F5=Sa.internal.logger.Logger,B5=0;function W5(t,r,e,n,i,o){i===void 0&&(i=null),o===void 0&&(o=function(c){return new Nf.Channel(c)});var a=new Nf.ChannelConfig(t,r,e.errorCode()),s=o(a);return mS.default.handshake(s).then(function(c){var u=c.protocolVersion,l=c.consumeRemainingBuffer,h=new Nf.Chunker(s),v=new Nf.Dechunker,_=function(g){return mS.default.create({version:u,channel:s,chunker:h,dechunker:v,disableLosslessIntegers:r.disableLosslessIntegers,useBigInt:r.useBigInt,serversideRouting:i,server:g.server,log:g.logger,observer:{onPendingObserversChange:g._handleOngoingRequestsNumberChange.bind(g),onError:g._handleFatalError.bind(g),onFailure:g._resetOnFailure.bind(g),onProtocolError:g._handleProtocolError.bind(g),onErrorApplyTransformation:function(w){return g.handleAndTransformError(w,g._address)}}})},m=new yS(s,e,t,n,r.disableLosslessIntegers,i,h,_);return l(function(g){return v.write(g)}),m}).catch(function(c){return s.close().then(function(){throw c})})}Ve.createChannelConnection=W5;var yS=function(t){k5(r,t);function r(e,n,i,o,a,s,c,u){a===void 0&&(a=!1),s===void 0&&(s=null);var l=t.call(this,n)||this;return l._reseting=!1,l._resetObservers=[],l._id=B5++,l._address=i,l._server={address:i.asHostPort()},l.creationTimestamp=Date.now(),l._disableLosslessIntegers=a,l._ch=e,l._chunker=c,l._log=V5(l,o),l._serversideRouting=s,l._dbConnectionId=null,l._protocol=u(l),l._isBroken=!1,l._log.isDebugEnabled()&&l._log.debug("created towards ".concat(i)),l}return Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),r.prototype.connect=function(e,n){return this._initialize(e,n)},r.prototype._initialize=function(e,n){var i=this,o=this;return new Promise(function(a,s){i._protocol.initialize({userAgent:e,authToken:n,onError:function(c){return s(c)},onComplete:function(c){if(c){var u=c.server;(!i.version||u)&&(i.version=u);var l=c.connection_id;if(i.databaseId||(i.databaseId=l),c.hints){var h=c.hints["connection.recv_timeout_seconds"];if(h!=null){var v=(0,Sa.toNumber)(h);Number.isInteger(v)&&v>0?i._ch.setupReceiveTimeout(v*1e3):i._log.info("Server located at ".concat(i._address," supplied an invalid connection receive timeout value (").concat(v,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}}}a(o)}})})},r.prototype.protocol=function(){return this._protocol},Object.defineProperty(r.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),r.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(Sa.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},r.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},r.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},r.prototype.resetAndFlush=function(){var e=this;return new Promise(function(n,i){e._reset({onError:function(o){if(e._isBroken)i(o);else{var a=e._handleProtocolError("Received FAILURE as a response for RESET: "+o);i(a)}},onComplete:function(){n()}})})},r.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},r.prototype._reset=function(e){var n=this;if(this._reseting){this._protocol.isLastMessageReset()?this._resetObservers.push(e):this._protocol.reset({onError:function(o){e.onError(o)},onComplete:function(){e.onComplete()}});return}this._resetObservers.push(e),this._reseting=!0;var i=function(o){n._reseting=!1;var a=n._resetObservers;n._resetObservers=[],a.forEach(o)};this._protocol.reset({onError:function(o){i(function(a){return a.onError(o)})},onComplete:function(){i(function(o){return o.onComplete()})}})},r.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},r.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},r.prototype._handleOngoingRequestsNumberChange=function(e){e===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},r.prototype.close=function(){return D5(this,void 0,void 0,function(){return L5(this,function(e){switch(e.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return e.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},r.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},r.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var n=(0,Sa.newError)(e,x5);return this._handleFatalError(n),n},r}(U5.default);Ve.default=yS;function V5(t,r){return new F5(r._level,function(e,n){return r._loggerFunction(e,"".concat(t," ").concat(n))})}});var OS=d(Hn=>{"use strict";var H5=Hn&&Hn.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),z5=Hn&&Hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hn,"__esModule",{value:!0});var Y5=z5(Mf()),G5=function(t){H5(r,t);function r(e,n){var i=t.call(this,n)||this;return n&&(i._originalErrorHandler=e._errorHandler,e._errorHandler=i._errorHandler),i._delegate=e,i}return Object.defineProperty(r.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),r.prototype.isOpen=function(){return this._delegate.isOpen()},r.prototype.protocol=function(){return this._delegate.protocol()},r.prototype.connect=function(e,n){return this._delegate.connect(e,n)},r.prototype.write=function(e,n,i){return this._delegate.write(e,n,i)},r.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},r.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},r.prototype.close=function(){return this._delegate.close()},r.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},r}(Y5.default);Hn.default=G5});var wS=d(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});var ES=D(),K5=ES.error.SERVICE_UNAVAILABLE,Z5=ES.error.SESSION_EXPIRED,$5=function(){function t(r,e,n,i){this._errorCode=r,this._handleUnavailability=e||A_,this._handleWriteFailure=n||A_,this._handleAuthorizationExpired=i||A_}return t.create=function(r){var e=r.errorCode,n=r.handleUnavailability,i=r.handleWriteFailure,o=r.handleAuthorizationExpired;return new t(e,n,i,o)},t.prototype.errorCode=function(){return this._errorCode},t.prototype.handleAndTransformError=function(r,e){return Q5(r)?this._handleAuthorizationExpired(r,e):X5(r)?this._handleUnavailability(r,e):J5(r)?this._handleWriteFailure(r,e):r},t}();M_.default=$5;function Q5(t){return t&&(t.code==="Neo.ClientError.Security.AuthorizationExpired"||t.code==="Neo.ClientError.Security.TokenExpired")}function X5(t){return t?t.code===Z5||t.code===K5||t.code==="Neo.TransientError.General.DatabaseUnavailable":!1}function J5(t){return t?t.code==="Neo.ClientError.Cluster.NotALeader"||t.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase":!1}function A_(t){return t}});var kf=d(ne=>{"use strict";var eZ=ne&&ne.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),rZ=ne&&ne.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),tZ=ne&&ne.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&eZ(r,t,e);return rZ(r,t),r},N_=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ne,"__esModule",{value:!0});ne.createChannelConnection=ne.ConnectionErrorHandler=ne.DelegateConnection=ne.ChannelConnection=ne.Connection=void 0;var SS=N_(Mf());ne.Connection=SS.default;var PS=tZ(gS());ne.ChannelConnection=PS.default;Object.defineProperty(ne,"createChannelConnection",{enumerable:!0,get:function(){return PS.createChannelConnection}});var nZ=N_(OS());ne.DelegateConnection=nZ.default;var iZ=N_(wS());ne.ConnectionErrorHandler=iZ.default;ne.default=SS.default});var Df=d(Te=>{"use strict";var oZ=Te&&Te.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),aZ=Te&&Te.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),uZ=Te&&Te.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),sZ=Te&&Te.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&aZ(r,t,e);return uZ(r,t),r},TS=Te&&Te.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},CS=Te&&Te.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Te,"__esModule",{value:!0});var IS=kf(),qS=sZ(q_()),k_=D(),cZ=k_.error.SERVICE_UNAVAILABLE,lZ=function(t){oZ(r,t);function r(e,n){var i=e.id,o=e.config,a=e.log,s=e.userAgent,c=e.authToken;n===void 0&&(n=null);var u=t.call(this)||this;return u._id=i,u._config=o,u._log=a,u._userAgent=s,u._authToken=c,u._createChannelConnection=n||function(l){return(0,IS.createChannelConnection)(l,u._config,u._createConnectionErrorHandler(),u._log)},u._connectionPool=new qS.default({create:u._createConnection.bind(u),destroy:u._destroyConnection.bind(u),validate:u._validateConnection.bind(u),installIdleObserver:r._installIdleObserverOnConnection.bind(u),removeIdleObserver:r._removeIdleObserverOnConnection.bind(u),config:qS.PoolConfig.fromDriverConfig(o),log:u._log}),u._openConnections={},u}return r.prototype._createConnectionErrorHandler=function(){return new IS.ConnectionErrorHandler(cZ)},r.prototype._createConnection=function(e,n){var i=this;return this._createChannelConnection(e).then(function(o){return o._release=function(){return n(e,o)},i._openConnections[o.id]=o,o.connect(i._userAgent,i._authToken).catch(function(a){throw i._destroyConnection(o),a})})},r.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var n=this._config.maxConnectionLifetime,i=Date.now()-e.creationTimestamp;return i<=n},r.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},r.prototype._verifyConnectivityAndGetServerVersion=function(e){var n=e.address;return TS(this,void 0,void 0,function(){var i,o;return CS(this,function(a){switch(a.label){case 0:return[4,this._connectionPool.acquire(n)];case 1:i=a.sent(),o=new k_.ServerInfo(i.server,i.protocol().version),a.label=2;case 2:return a.trys.push([2,,5,7]),i.protocol().isLastMessageLogin()?[3,4]:[4,i.resetAndFlush()];case 3:a.sent(),a.label=4;case 4:return[3,7];case 5:return[4,i._release()];case 6:return a.sent(),[7];case 7:return[2,o]}})})},r.prototype.close=function(){return TS(this,void 0,void 0,function(){return CS(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(n){return n.close()}))];case 2:return e.sent(),[2]}})})},r._installIdleObserverOnConnection=function(e,n){e._queueObserver(n)},r._removeIdleObserverOnConnection=function(e){e._updateCurrentObserver()},r}(k_.ConnectionProvider);Te.default=lZ});var RS=d(cr=>{"use strict";var fZ=cr&&cr.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pa=cr&&cr.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},Ta=cr&&cr.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dZ=cr&&cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cr,"__esModule",{value:!0});var hZ=dZ(Df()),D_=kf(),jS=D(),L_=jS.internal.constants,vZ=L_.BOLT_PROTOCOL_V3,pZ=L_.BOLT_PROTOCOL_V4_0,_Z=L_.BOLT_PROTOCOL_V4_4,mZ=jS.error.SERVICE_UNAVAILABLE,bZ=function(t){fZ(r,t);function r(e){var n=e.id,i=e.config,o=e.log,a=e.address,s=e.userAgent,c=e.authToken,u=t.call(this,{id:n,config:i,log:o,userAgent:s,authToken:c})||this;return u._address=a,u}return r.prototype.acquireConnection=function(e){var n=this,i=e===void 0?{}:e,o=i.accessMode,a=i.database,s=i.bookmarks,c=D_.ConnectionErrorHandler.create({errorCode:mZ,handleAuthorizationExpired:function(u,l){return n._handleAuthorizationExpired(u,l,a)}});return this._connectionPool.acquire(this._address).then(function(u){return new D_.DelegateConnection(u,c)})},r.prototype._handleAuthorizationExpired=function(e,n,i){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(n," for database '").concat(i,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this._connectionPool.purge(n).catch(function(){}),e},r.prototype._hasProtocolVersion=function(e){return Pa(this,void 0,void 0,function(){var n,i;return Ta(this,function(o){switch(o.label){case 0:return[4,(0,D_.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return n=o.sent(),i=n.protocol()?n.protocol().version:null,[4,n.close()];case 2:return o.sent(),i?[2,e(i)]:[2,!1]}})})},r.prototype.supportsMultiDb=function(){return Pa(this,void 0,void 0,function(){return Ta(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=pZ})];case 1:return[2,e.sent()]}})})},r.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(n,i){e._hasProtocolVersion(n).catch(i)})},r.prototype.supportsTransactionConfig=function(){return Pa(this,void 0,void 0,function(){return Ta(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=vZ})];case 1:return[2,e.sent()]}})})},r.prototype.supportsUserImpersonation=function(){return Pa(this,void 0,void 0,function(){return Ta(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=_Z})];case 1:return[2,e.sent()]}})})},r.prototype.verifyConnectivityAndGetServerInfo=function(){return Pa(this,void 0,void 0,function(){return Ta(this,function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}})})},r}(hZ.default);cr.default=bZ});var V_=d(it=>{"use strict";var U_=it&&it.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},x_=it&&it.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(it,"__esModule",{value:!0});it.createValidRoutingTable=void 0;var Xe=D(),MS=Xe.internal.constants,yZ=MS.ACCESS_MODE_WRITE,gZ=MS.ACCESS_MODE_READ,F_=Xe.internal.serverAddress.ServerAddress,W_=Xe.error.PROTOCOL_ERROR,OZ=1,NS=function(){function t(r){var e=r===void 0?{}:r,n=e.database,i=e.routers,o=e.readers,a=e.writers,s=e.expirationTime,c=e.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=i||[],this.readers=o||[],this.writers=a||[],this.expirationTime=s||(0,Xe.int)(0),this.ttl=c}return t.fromRawRoutingTable=function(r,e,n){return kS(r,e,n)},t.prototype.forget=function(r){this.readers=Lf(this.readers,r),this.writers=Lf(this.writers,r)},t.prototype.forgetRouter=function(r){this.routers=Lf(this.routers,r)},t.prototype.forgetWriter=function(r){this.writers=Lf(this.writers,r)},t.prototype.isStaleFor=function(r){return this.expirationTime.lessThan(Date.now())||this.routers.length<OZ||r===gZ&&this.readers.length===0||r===yZ&&this.writers.length===0},t.prototype.isExpiredFor=function(r){return this.expirationTime.add(r).lessThan(Date.now())},t.prototype.allServers=function(){return x_(x_(x_([],U_(this.routers),!1),U_(this.readers),!1),U_(this.writers),!1)},t.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},t}();it.default=NS;function Lf(t,r){return t.filter(function(e){return e.asKey()!==r.asKey()})}function kS(t,r,e){var n=e.ttl,i=wZ(e,r),o=EZ(e,r),a=o.routers,s=o.readers,c=o.writers;return AS(a,"routers",r),AS(s,"readers",r),new NS({database:t||e.db,routers:a,readers:s,writers:c,expirationTime:i,ttl:n})}it.createValidRoutingTable=kS;function EZ(t,r){try{var e=[],n=[],i=[];return t.servers.forEach(function(o){var a=o.role,s=o.addresses;a==="ROUTE"?e=B_(s).map(function(c){return F_.fromUrl(c)}):a==="WRITE"?i=B_(s).map(function(c){return F_.fromUrl(c)}):a==="READ"&&(n=B_(s).map(function(c){return F_.fromUrl(c)}))}),{routers:e,readers:n,writers:i}}catch(o){throw(0,Xe.newError)("Unable to parse servers entry from router ".concat(r,` from addresses:
`).concat(Xe.json.stringify(t.servers),`
Error message: `).concat(o.message),W_)}}function wZ(t,r){try{var e=(0,Xe.int)(Date.now()),n=(0,Xe.int)(t.ttl).multiply(1e3).add(e);return n.lessThan(e)?Xe.Integer.MAX_VALUE:n}catch(i){throw(0,Xe.newError)("Unable to parse TTL entry from router ".concat(r,` from raw routing table:
`).concat(Xe.json.stringify(t),`
Error message: `).concat(i.message),W_)}}function AS(t,r,e){if(t.length===0)throw(0,Xe.newError)("Received no "+r+" from router "+e,W_)}function B_(t){if(!Array.isArray(t))throw new TypeError("Array expected but got: "+t);return Array.from(t)}});var DS=d(Ca=>{"use strict";var SZ=Ca&&Ca.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});var PZ=SZ(V_()),TZ=function(){function t(r){this._routingContext=r}return t.prototype.lookupRoutingTableOnRouter=function(r,e,n,i){var o=this;return r._acquireConnection(function(a){return o._requestRawRoutingTable(a,r,e,n,i).then(function(s){return s.isNull?null:PZ.default.fromRawRoutingTable(e,n,s)})})},t.prototype._requestRawRoutingTable=function(r,e,n,i,o){var a=this;return new Promise(function(s,c){r.protocol().requestRoutingInformation({routingContext:a._routingContext,databaseName:n,impersonatedUser:o,sessionContext:{bookmarks:e._lastBookmarks,mode:e._mode,database:e._database,afterComplete:e._onComplete},onCompleted:s,onError:c})})},t}();Ca.default=TZ});var xS=d(ot=>{"use strict";var LS=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ot,"__esModule",{value:!0});ot.RoutingTable=ot.Rediscovery=void 0;var US=LS(DS());ot.Rediscovery=US.default;var CZ=LS(V_());ot.RoutingTable=CZ.default;ot.default=US.default});var VS=d(X=>{"use strict";var IZ=X&&X.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xf=X&&X.__assign||function(){return xf=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xf.apply(this,arguments)},qZ=X&&X.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),jZ=X&&X.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),RZ=X&&X.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&qZ(r,t,e);return jZ(r,t),r},me=X&&X.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(h){a(h)}}function c(l){try{u(n.throw(l))}catch(h){a(h)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(t,r||[])).next())})},be=X&&X.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(t,e)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Y_=X&&X.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},at=X&&X.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},WS=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X,"__esModule",{value:!0});var Ne=D(),FS=RZ(xS()),AZ=to(),MZ=WS(j_()),NZ=WS(Df()),kZ=wp(),zn=kf(),H_=Ne.error.SERVICE_UNAVAILABLE,Ia=Ne.error.SESSION_EXPIRED,DZ=Ne.internal.bookmarks.Bookmarks,qa=Ne.internal.constants,BS=qa.ACCESS_MODE_READ,z_=qa.ACCESS_MODE_WRITE,LZ=qa.BOLT_PROTOCOL_V3,UZ=qa.BOLT_PROTOCOL_V4_0,xZ=qa.BOLT_PROTOCOL_V4_4,FZ="Neo.ClientError.Procedure.ProcedureNotFound",BZ="Neo.ClientError.Database.DatabaseNotFound",WZ="Neo.ClientError.Transaction.InvalidBookmark",VZ="Neo.ClientError.Transaction.InvalidBookmarkMixture",HZ="Neo.ClientError.Security.AuthorizationExpired",zZ="system",Uf=null,YZ=(0,Ne.int)(3e4),GZ=function(t){IZ(r,t);function r(e){var n=e.id,i=e.address,o=e.routingContext,a=e.hostNameResolver,s=e.config,c=e.log,u=e.userAgent,l=e.authToken,h=e.routingTablePurgeDelay,v=t.call(this,{id:n,config:s,log:c,userAgent:u,authToken:l},function(_){return(0,zn.createChannelConnection)(_,v._config,v._createConnectionErrorHandler(),v._log,v._routingContext)})||this;return v._routingContext=xf(xf({},o),{address:i.toString()}),v._seedRouter=i,v._rediscovery=new FS.default(v._routingContext),v._loadBalancingStrategy=new kZ.LeastConnectedLoadBalancingStrategy(v._connectionPool),v._hostNameResolver=a,v._dnsResolver=new AZ.HostNameResolver,v._log=c,v._useSeedRouter=!0,v._routingTableRegistry=new KZ(h?(0,Ne.int)(h):YZ),v}return r.prototype._createConnectionErrorHandler=function(){return new zn.ConnectionErrorHandler(Ia)},r.prototype._handleUnavailability=function(e,n,i){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(n," for database '").concat(i,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(n,i||Uf),e},r.prototype._handleAuthorizationExpired=function(e,n,i){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(n," for database '").concat(i,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this._connectionPool.purge(n).catch(function(){}),e},r.prototype._handleWriteFailure=function(e,n,i){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(n," for database '").concat(i,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(n,i||Uf),(0,Ne.newError)("No longer possible to write to server at "+n,Ia,e)},r.prototype.acquireConnection=function(e){var n=e===void 0?{}:e,i=n.accessMode,o=n.database,a=n.bookmarks,s=n.impersonatedUser,c=n.onDatabaseNameResolved;return me(this,void 0,void 0,function(){var u,l,h,v,_,m,g,w,S=this;return be(this,function(I){switch(I.label){case 0:return h={database:o||Uf},v=new zn.ConnectionErrorHandler(Ia,function(U,x){return S._handleUnavailability(U,x,h.database)},function(U,x){return S._handleWriteFailure(U,x,h.database)},function(U,x){return S._handleAuthorizationExpired(U,x,h.database)}),[4,this._freshRoutingTable({accessMode:i,database:h.database,bookmarks:a,impersonatedUser:s,onDatabaseNameResolved:function(U){h.database=h.database||U,c&&c(U)}})];case 1:if(_=I.sent(),i===BS)l=this._loadBalancingStrategy.selectReader(_.readers),u="read";else if(i===z_)l=this._loadBalancingStrategy.selectWriter(_.writers),u="write";else throw(0,Ne.newError)("Illegal mode "+i);if(!l)throw(0,Ne.newError)("Failed to obtain connection towards ".concat(u," server. Known routing table is: ").concat(_),Ia);I.label=2;case 2:return I.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(l,u,_)];case 3:return m=I.sent(),[2,new zn.DelegateConnection(m,v)];case 4:throw g=I.sent(),w=v.handleAndTransformError(g,l),w;case 5:return[2]}})})},r.prototype._hasProtocolVersion=function(e){return me(this,void 0,void 0,function(){var n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:n=u.sent(),o=0,u.label=2;case 2:if(!(o<n.length))return[3,8];u.label=3;case 3:return u.trys.push([3,6,,7]),[4,(0,zn.createChannelConnection)(n[o],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return a=u.sent(),s=a.protocol()?a.protocol().version:null,[4,a.close()];case 5:return u.sent(),s?[2,e(s)]:[2,!1];case 6:return c=u.sent(),i=c,[3,7];case 7:return o++,[3,2];case 8:if(i)throw i;return[2,!1]}})})},r.prototype.supportsMultiDb=function(){return me(this,void 0,void 0,function(){return be(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=UZ})];case 1:return[2,e.sent()]}})})},r.prototype.supportsTransactionConfig=function(){return me(this,void 0,void 0,function(){return be(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=LZ})];case 1:return[2,e.sent()]}})})},r.prototype.supportsUserImpersonation=function(){return me(this,void 0,void 0,function(){return be(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=xZ})];case 1:return[2,e.sent()]}})})},r.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(n,i){e._hasProtocolVersion(n).catch(i)})},r.prototype.verifyConnectivityAndGetServerInfo=function(e){var n=e.database,i=e.accessMode;return me(this,void 0,void 0,function(){var o,a,s,c,u,l,h,v,_,m,g,w;return be(this,function(S){switch(S.label){case 0:return o={database:n||Uf},[4,this._freshRoutingTable({accessMode:i,database:o.database,onDatabaseNameResolved:function(I){o.database=o.database||I}})];case 1:a=S.sent(),s=i===z_?a.writers:a.readers,c=(0,Ne.newError)("No servers available for database '".concat(o.database,"' with access mode '").concat(i,"'"),H_),S.label=2;case 2:S.trys.push([2,9,10,11]),u=Y_(s),l=u.next(),S.label=3;case 3:if(l.done)return[3,8];h=l.value,S.label=4;case 4:return S.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:h})];case 5:return v=S.sent(),[2,v];case 6:return _=S.sent(),c=_,[3,7];case 7:return l=u.next(),[3,3];case 8:return[3,11];case 9:return m=S.sent(),g={error:m},[3,11];case 10:try{l&&!l.done&&(w=u.return)&&w.call(u)}finally{if(g)throw g.error}return[7];case 11:throw c}})})},r.prototype.forget=function(e,n){this._routingTableRegistry.apply(n,{applyWhenExists:function(i){return i.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},r.prototype.forgetWriter=function(e,n){this._routingTableRegistry.apply(n,{applyWhenExists:function(i){return i.forgetWriter(e)}})},r.prototype._acquireConnectionToServer=function(e,n,i){return this._connectionPool.acquire(e)},r.prototype._freshRoutingTable=function(e){var n=e===void 0?{}:e,i=n.accessMode,o=n.database,a=n.bookmarks,s=n.impersonatedUser,c=n.onDatabaseNameResolved,u=this._routingTableRegistry.get(o,function(){return new FS.RoutingTable({database:o})});return u.isStaleFor(i)?(this._log.info('Routing table is stale for database: "'.concat(o,'" and access mode: "').concat(i,'": ').concat(u)),this._refreshRoutingTable(u,a,s,c)):u},r.prototype._refreshRoutingTable=function(e,n,i,o){var a=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(a,e,n,i,o):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(a,e,n,i,o)},r.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,n,i,o,a){return me(this,void 0,void 0,function(){var s,c,u,l,h,v,_;return be(this,function(m){switch(m.label){case 0:return s=[],[4,this._fetchRoutingTableUsingSeedRouter(s,this._seedRouter,n,i,o)];case 1:return c=at.apply(void 0,[m.sent(),2]),u=c[0],l=c[1],u?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,n,i,o)];case 3:h=at.apply(void 0,[m.sent(),2]),v=h[0],_=h[1],u=v,l=_||l,m.label=4;case 4:return[4,this._applyRoutingTableIfPossible(n,u,a,l)];case 5:return[2,m.sent()]}})})},r.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,n,i,o,a){return me(this,void 0,void 0,function(){var s,c,u,l;return be(this,function(h){switch(h.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,n,i,o)];case 1:return s=at.apply(void 0,[h.sent(),2]),c=s[0],u=s[1],c?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,n,i,o)];case 2:l=at.apply(void 0,[h.sent(),2]),c=l[0],u=l[1],h.label=3;case 3:return[4,this._applyRoutingTableIfPossible(n,c,a,u)];case 4:return[2,h.sent()]}})})},r.prototype._fetchRoutingTableUsingKnownRouters=function(e,n,i,o){return me(this,void 0,void 0,function(){var a,s,c,u;return be(this,function(l){switch(l.label){case 0:return[4,this._fetchRoutingTable(e,n,i,o)];case 1:return a=at.apply(void 0,[l.sent(),2]),s=a[0],c=a[1],s?[2,[s,null]]:(u=e.length-1,r._forgetRouter(n,e,u),[2,[null,c]])}})})},r.prototype._fetchRoutingTableUsingSeedRouter=function(e,n,i,o,a){return me(this,void 0,void 0,function(){var s,c;return be(this,function(u){switch(u.label){case 0:return[4,this._resolveSeedRouter(n)];case 1:return s=u.sent(),c=s.filter(function(l){return e.indexOf(l)<0}),[4,this._fetchRoutingTable(c,i,o,a)];case 2:return[2,u.sent()]}})})},r.prototype._resolveSeedRouter=function(e){return me(this,void 0,void 0,function(){var n,i,o=this;return be(this,function(a){switch(a.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return n=a.sent(),[4,Promise.all(n.map(function(s){return o._dnsResolver.resolve(s)}))];case 2:return i=a.sent(),[2,[].concat.apply([],i)]}})})},r.prototype._fetchRoutingTable=function(e,n,i,o){return me(this,void 0,void 0,function(){var a=this;return be(this,function(s){return[2,e.reduce(function(c,u,l){return me(a,void 0,void 0,function(){var h,v,_,m,g,w,S;return be(this,function(I){switch(I.label){case 0:return[4,c];case 1:return h=at.apply(void 0,[I.sent(),1]),v=h[0],v?[2,[v,null]]:(_=l-1,r._forgetRouter(n,e,_),[4,this._createSessionForRediscovery(u,i,o)]);case 2:if(m=at.apply(void 0,[I.sent(),2]),g=m[0],w=m[1],!g)return[3,8];I.label=3;case 3:return I.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(g,n.database,u,o)];case 4:return[2,[I.sent(),null]];case 5:return S=I.sent(),[2,this._handleRediscoveryError(S,u)];case 6:return g.close(),[7];case 7:return[3,9];case 8:return[2,[null,w]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},r.prototype._createSessionForRediscovery=function(e,n,i){return me(this,void 0,void 0,function(){var o,a,s,c,u,l=this;return be(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this._connectionPool.acquire(e)];case 1:return o=h.sent(),a=zn.ConnectionErrorHandler.create({errorCode:Ia,handleAuthorizationExpired:function(v,_){return l._handleAuthorizationExpired(v,_)}}),s=new MZ.default(new zn.DelegateConnection(o,a)),c=o.protocol().version,c<4?[2,[new Ne.Session({mode:z_,bookmarks:DZ.empty(),connectionProvider:s}),null]]:[2,[new Ne.Session({mode:BS,database:zZ,bookmarks:n,connectionProvider:s,impersonatedUser:i}),null]];case 2:return u=h.sent(),[2,this._handleRediscoveryError(u,e)];case 3:return[2]}})})},r.prototype._handleRediscoveryError=function(e,n){if(ZZ(e)||$Z(e))throw e;if(e.code===FZ)throw(0,Ne.newError)("Server at ".concat(n.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),H_,e);return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},r.prototype._applyRoutingTableIfPossible=function(e,n,i,o){return me(this,void 0,void 0,function(){return be(this,function(a){switch(a.label){case 0:if(!n)throw(0,Ne.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),H_,o);return n.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(n,i)];case 1:return a.sent(),[2,n]}})})},r.prototype._updateRoutingTable=function(e,n){return me(this,void 0,void 0,function(){return be(this,function(i){switch(i.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return i.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),n(e.database),this._log.info("Updated routing table ".concat(e)),[2]}})})},r._forgetRouter=function(e,n,i){var o=n[i];e&&o&&e.forgetRouter(o)},r}(NZ.default);X.default=GZ;var KZ=function(){function t(r){this._tables=new Map,this._routingTablePurgeDelay=r}return t.prototype.register=function(r){return this._tables.set(r.database,r),this},t.prototype.apply=function(r,e){var n=e===void 0?{}:e,i=n.applyWhenExists,o=n.applyWhenDontExists,a=o===void 0?function(){}:o;return this._tables.has(r)?i(this._tables.get(r)):typeof r=="string"||r===null?a():this._forEach(i),this},t.prototype.get=function(r,e){return this._tables.has(r)?this._tables.get(r):typeof e=="function"?e():e},t.prototype.removeExpired=function(){var r=this;return this._removeIf(function(e){return e.isExpiredFor(r._routingTablePurgeDelay)})},t.prototype._forEach=function(r){var e,n;try{for(var i=Y_(this._tables),o=i.next();!o.done;o=i.next()){var a=at(o.value,2),s=a[1];r(s)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t.prototype._remove=function(r){return this._tables.delete(r),this},t.prototype._removeIf=function(r){var e,n;try{for(var i=Y_(this._tables),o=i.next();!o.done;o=i.next()){var a=at(o.value,2),s=a[0],c=a[1];r(c)&&this._remove(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t}();function ZZ(t){return[BZ,WZ,VZ].includes(t.code)}function $Z(t){return t.code.startsWith("Neo.ClientError.Security.")&&![HZ].includes(t.code)}});var HS=d(Je=>{"use strict";var Ff=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Je,"__esModule",{value:!0});Je.RoutingConnectionProvider=Je.DirectConnectionProvider=Je.PooledConnectionProvider=Je.SingleConnectionProvider=void 0;var QZ=j_();Object.defineProperty(Je,"SingleConnectionProvider",{enumerable:!0,get:function(){return Ff(QZ).default}});var XZ=Df();Object.defineProperty(Je,"PooledConnectionProvider",{enumerable:!0,get:function(){return Ff(XZ).default}});var JZ=RS();Object.defineProperty(Je,"DirectConnectionProvider",{enumerable:!0,get:function(){return Ff(JZ).default}});var e$=VS();Object.defineProperty(Je,"RoutingConnectionProvider",{enumerable:!0,get:function(){return Ff(e$).default}})});var YS=d(J=>{"use strict";var zS=J&&J.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(r,e);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,n,i)}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),r$=J&&J.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),so=J&&J.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&zS(r,t,e);return r$(r,t),r},t$=J&&J.__exportStar||function(t,r){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&zS(r,t,e)};Object.defineProperty(J,"__esModule",{value:!0});J.pool=J.packstream=J.channel=J.buf=J.bolt=J.loadBalancing=void 0;J.loadBalancing=so(wp());J.bolt=so(P_());J.buf=so(Kl());J.channel=so(to());J.packstream=so(Yr());J.pool=so(q_());t$(HS(),J)});var $_=d(q=>{"use strict";var Yn=st();Object.defineProperty(q,"__esModule",{value:!0});Object.defineProperty(q,"Date",{enumerable:!0,get:function(){return O.Date}});Object.defineProperty(q,"DateTime",{enumerable:!0,get:function(){return O.DateTime}});Object.defineProperty(q,"Driver",{enumerable:!0,get:function(){return ja.Driver}});Object.defineProperty(q,"Duration",{enumerable:!0,get:function(){return O.Duration}});Object.defineProperty(q,"Integer",{enumerable:!0,get:function(){return O.Integer}});Object.defineProperty(q,"LocalDateTime",{enumerable:!0,get:function(){return O.LocalDateTime}});Object.defineProperty(q,"LocalTime",{enumerable:!0,get:function(){return O.LocalTime}});Object.defineProperty(q,"ManagedTransaction",{enumerable:!0,get:function(){return O.ManagedTransaction}});Object.defineProperty(q,"Neo4jError",{enumerable:!0,get:function(){return O.Neo4jError}});Object.defineProperty(q,"Node",{enumerable:!0,get:function(){return O.Node}});Object.defineProperty(q,"Notification",{enumerable:!0,get:function(){return O.Notification}});Object.defineProperty(q,"Path",{enumerable:!0,get:function(){return O.Path}});Object.defineProperty(q,"PathSegment",{enumerable:!0,get:function(){return O.PathSegment}});Object.defineProperty(q,"Plan",{enumerable:!0,get:function(){return O.Plan}});Object.defineProperty(q,"Point",{enumerable:!0,get:function(){return O.Point}});Object.defineProperty(q,"ProfiledPlan",{enumerable:!0,get:function(){return O.ProfiledPlan}});Object.defineProperty(q,"QueryStatistics",{enumerable:!0,get:function(){return O.QueryStatistics}});Object.defineProperty(q,"Record",{enumerable:!0,get:function(){return O.Record}});Object.defineProperty(q,"Relationship",{enumerable:!0,get:function(){return O.Relationship}});Object.defineProperty(q,"Result",{enumerable:!0,get:function(){return O.Result}});Object.defineProperty(q,"ResultSummary",{enumerable:!0,get:function(){return O.ResultSummary}});Object.defineProperty(q,"RxManagedTransaction",{enumerable:!0,get:function(){return QS.default}});Object.defineProperty(q,"RxResult",{enumerable:!0,get:function(){return XS.default}});Object.defineProperty(q,"RxSession",{enumerable:!0,get:function(){return ZS.default}});Object.defineProperty(q,"RxTransaction",{enumerable:!0,get:function(){return $S.default}});Object.defineProperty(q,"ServerInfo",{enumerable:!0,get:function(){return O.ServerInfo}});Object.defineProperty(q,"Session",{enumerable:!0,get:function(){return O.Session}});Object.defineProperty(q,"Time",{enumerable:!0,get:function(){return O.Time}});Object.defineProperty(q,"Transaction",{enumerable:!0,get:function(){return O.Transaction}});Object.defineProperty(q,"UnboundRelationship",{enumerable:!0,get:function(){return O.UnboundRelationship}});Object.defineProperty(q,"auth",{enumerable:!0,get:function(){return O.auth}});Object.defineProperty(q,"bookmarkManager",{enumerable:!0,get:function(){return O.bookmarkManager}});q.default=void 0;q.driver=Z_;Object.defineProperty(q,"error",{enumerable:!0,get:function(){return O.error}});q.hasReachableServer=JS;Object.defineProperty(q,"int",{enumerable:!0,get:function(){return O.int}});q.integer=void 0;Object.defineProperty(q,"isDate",{enumerable:!0,get:function(){return O.isDate}});Object.defineProperty(q,"isDateTime",{enumerable:!0,get:function(){return O.isDateTime}});Object.defineProperty(q,"isDuration",{enumerable:!0,get:function(){return O.isDuration}});Object.defineProperty(q,"isInt",{enumerable:!0,get:function(){return O.isInt}});Object.defineProperty(q,"isLocalDateTime",{enumerable:!0,get:function(){return O.isLocalDateTime}});Object.defineProperty(q,"isLocalTime",{enumerable:!0,get:function(){return O.isLocalTime}});Object.defineProperty(q,"isPoint",{enumerable:!0,get:function(){return O.isPoint}});Object.defineProperty(q,"isRetryableError",{enumerable:!0,get:function(){return O.isRetryableError}});Object.defineProperty(q,"isTime",{enumerable:!0,get:function(){return O.isTime}});q.types=q.temporal=q.spatial=q.session=q.logging=void 0;var GS=Yn(ed()),n$=Yn(rd()),ja=eE(),i$=Yn(rE()),O=D(),KS=YS(),ZS=Yn(yp()),$S=Yn(Ll()),QS=Yn(_p()),XS=Yn(ia()),K_=O.internal.util,o$=K_.ENCRYPTION_ON,a$=K_.assertString,u$=K_.isEmptyObjectOrNull,s$=O.internal.serverAddress.ServerAddress,c$=O.internal.urlUtil;function Z_(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a$(t,"Bolt URL");var n=c$.parseDatabaseUrl(t),i=!1,o=!1,a;switch(n.scheme){case"bolt":break;case"bolt+s":o=!0,a="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":o=!0,a="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":o=!0,a="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=!0;break;case"neo4j+ssc":o=!0,a="TRUST_ALL_CERTIFICATES",i=!0;break;default:throw new Error("Unknown scheme: ".concat(n.scheme))}if(o){if("encrypted"in e||"trust"in e)throw new Error("Encryption/trust can only be configured either through URL or config, not both");e.encrypted=o$,e.trust=a}r=r||{},r.scheme=r.scheme||"none",e.userAgent=e.userAgent||l$;var s=s$.fromUrl(n.hostAndPort),c={address:s,typename:i?"Routing":"Direct",routing:i};return new ja.Driver(c,e,u());function u(){if(i)return function(l,h,v,_){return new KS.RoutingConnectionProvider({id:l,config:h,log:v,hostNameResolver:_,authToken:r,address:s,userAgent:h.userAgent,routingContext:n.query})};if(!u$(n.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(t,"'"));return function(l,h,v){return new KS.DirectConnectionProvider({id:l,config:h,log:v,authToken:r,address:s,userAgent:h.userAgent})}}}function JS(t,r){return G_.apply(this,arguments)}function G_(){return G_=(0,n$.default)(GS.default.mark(function t(r,e){var n;return GS.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=Z_(r,{scheme:"none",principal:"",credentials:""},e),o.prev=1,o.next=4,n.getNegotiatedProtocolVersion();case 4:return o.abrupt("return",!0);case 5:return o.prev=5,o.next=8,n.close();case 8:return o.finish(5);case 9:case"end":return o.stop()}},t,null,[[1,,5,9]])})),G_.apply(this,arguments)}var l$="neo4j-javascript/"+i$.default,eP={console:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){return{level:t,logger:function(e,n){return console.log("".concat(global.Date.now()," ").concat(e.toUpperCase()," ").concat(n))}}})};q.logging=eP;var rP={Node:O.Node,Relationship:O.Relationship,UnboundRelationship:O.UnboundRelationship,PathSegment:O.PathSegment,Path:O.Path,Result:O.Result,ResultSummary:O.ResultSummary,Record:O.Record,Point:O.Point,Date:O.Date,DateTime:O.DateTime,Duration:O.Duration,LocalDateTime:O.LocalDateTime,LocalTime:O.LocalTime,Time:O.Time,Integer:O.Integer};q.types=rP;var tP={READ:ja.READ,WRITE:ja.WRITE};q.session=tP;var nP={toNumber:O.toNumber,toString:O.toString,inSafeRange:O.inSafeRange};q.integer=nP;var iP={isPoint:O.isPoint};q.spatial=iP;var oP={isDuration:O.isDuration,isLocalTime:O.isLocalTime,isTime:O.isTime,isDate:O.isDate,isLocalDateTime:O.isLocalDateTime,isDateTime:O.isDateTime};q.temporal=oP;var f$={driver:Z_,hasReachableServer:JS,int:O.int,isInt:O.isInt,isPoint:O.isPoint,isDuration:O.isDuration,isLocalTime:O.isLocalTime,isTime:O.isTime,isDate:O.isDate,isLocalDateTime:O.isLocalDateTime,isDateTime:O.isDateTime,integer:nP,Neo4jError:O.Neo4jError,isRetryableError:O.isRetryableError,auth:O.auth,logging:eP,types:rP,session:tP,error:O.error,spatial:iP,temporal:oP,Driver:ja.Driver,Session:O.Session,Transaction:O.Transaction,ManagedTransaction:O.ManagedTransaction,Result:O.Result,RxSession:ZS.default,RxTransaction:$S.default,RxManagedTransaction:QS.default,RxResult:XS.default,ResultSummary:O.ResultSummary,Plan:O.Plan,ProfiledPlan:O.ProfiledPlan,QueryStatistics:O.QueryStatistics,Notification:O.Notification,ServerInfo:O.ServerInfo,Record:O.Record,Node:O.Node,Relationship:O.Relationship,UnboundRelationship:O.UnboundRelationship,Path:O.Path,PathSegment:O.PathSegment,Point:O.Point,Integer:O.Integer,Duration:O.Duration,LocalTime:O.LocalTime,Time:O.Time,Date:O.Date,LocalDateTime:O.LocalDateTime,DateTime:O.DateTime,bookmarkManager:O.bookmarkManager},d$=f$;q.default=d$});var w$={};AP(w$,{activate:()=>O$,deactivate:()=>E$});module.exports=MP(w$);var He=require("vscode");var fP=lr(require("vscode"));var ho=class{constructor(r,e,n,i,o,a,s){this.name=r;this.address=e;this.role=n;this.requestedStatus=i;this.currentStatus=o;this.error=a;this.isDefault=s}getTreeItem(){let r=this.currentStatus!=="online"?` (${this.currentStatus})`:"";return{label:`${this.name}${r}`,contextValue:"database"}}getChildren(){return[]}};var Qf=lr(require("path")),vo=class{constructor(r,e,n,i){this.user=r;this.roles=e;this.passwordChangeRequired=n;this.suspended=i}getTreeItem(){let r=this.suspended?"user-disabled":"user",e=this.suspended?" (suspended)":"";return{label:`${this.user}${e}`,contextValue:"database",iconPath:{light:Qf.join(__filename,"..","..","..","images","icons",`${r}-light.svg`),dark:Qf.join(__filename,"..","..","..","images","icons",`${r}-light.dark`)}}}getChildren(){return[]}};var Cm=lr(require("vscode")),Xf=lr(require("path")),Kt=class{constructor(r,e,n,i=[]){this.label=r;this.contextValue=e;this.icon=n;this.children=i}getTreeItem(){return{label:this.label,collapsibleState:this.children.length?Cm.TreeItemCollapsibleState.Collapsed:void 0,iconPath:{light:Xf.join(__filename,"..","..","..","images","icons",`${this.icon}-light.svg`),dark:Xf.join(__filename,"..","..","..","images","icons",`${this.icon}-light.dark`)},contextValue:this.contextValue}}getChildren(){return this.children}};var Im=require("vscode");var Xn=class{constructor(r){this.member=r}getTreeItem(){return{label:this.member}}getChildren(){return[]}};var po=class{constructor(r,e=[]){this.role=r;this.members=e}addMember(r){this.members.push(r)}getTreeItem(){return{label:this.role,collapsibleState:Im.TreeItemCollapsibleState.Collapsed,contextValue:"role"}}getChildren(){return this.members.length?this.members.map(r=>new Xn(r)):[new Xn("(none)")]}};var im=require("vscode"),om=require("path"),de=lr($_());var Q_="neo4j",h$="neo4j+s",v$="neo4j+ssc",p$="bolt",_$="bolt+s",m$="bolt+ssc",aP=[Q_,h$,v$,p$,_$,m$],X_="neo4j.connections",J_="neo4j.parameters",em="STRING",rm="INT",tm="FLOAT",nm="JSON or OBJECT",Ra="NULL",Bf=[em,rm,tm,nm,Ra],uP="executeRead",sP="executeWrite",co="Yes";function Aa(t){t.includes("://")||(t="neo4j://"+t);let r=new URL(t),{protocol:e,username:n,password:i,hostname:o,port:a,searchParams:s}=r,c=s.get("database");return{scheme:e.replace(":","")||Q_,host:o,port:a||"7687",username:n,password:i,database:c,active:!1}}function am(t){return Object.fromEntries(Object.keys(t).map(r=>{let e=cP(t[r]);return[r,e]}))}function cP(t){return Array.isArray(t)?t=t.map(r=>cP(r)):(0,de.isInt)(t)?t=t.toNumber():(0,de.isDate)(t)||(0,de.isDateTime)(t)||(0,de.isTime)(t)||(0,de.isLocalDateTime)(t)||(0,de.isLocalTime)(t)||(0,de.isDuration)(t)?t=t.toString():typeof t=="object"&&t!==void 0&&t!==null&&(t=am(t)),t}function lo(t){return de.default.driver(`${t.scheme}://${t.host}:${t.port}`,de.default.auth.basic(t.username,t.password))}function lP(t){let r=t.records.length,e=t.summary.counters,n=[];if(r>0&&n.push(`Started streaming ${r} record${r===1?"":"s"} after ${t.summary.resultConsumedAfter}ms and completed after ${t.summary.resultAvailableAfter}ms.`),e.containsUpdates()){let i=[],o=e.updates();for(let a in o){let s=o[a];if(s>0){let c=a.split(/(?=[A-Z])/);i.push(`${s} ${c.map(u=>u.toLowerCase()).join(" ")}`)}}i.length>0&&n.push(`${i.join(", ")}.`)}return e.containsSystemUpdates()&&n.push(`${e.systemUpdates()} system updates.`),n}function Wf(t){return{light:(0,om.join)(__filename,"..","..","images","icons",`${t}-light.svg`),dark:(0,om.join)(__filename,"..","..","images","icons",`${t}-dark.svg`)}}function Vf(t){return t.endsWith(".neo4j.io")}async function Hf(){let t,r,e,n,i,o;if(im.window.activeTextEditor){let a=im.window.activeTextEditor.document.getText();if(a?.includes("NEO4J_URI")){let s=a.match(/NEO4J_URI=(.*)/),c=a.match(/NEO4J_USERNAME=(.*)/),u=a.match(/NEO4J_PASSWORD=(.*)/);if(s)try{let l=Aa(s[1]);t=l?.scheme,r=l?.host,e=l?.port,o=l?.database}catch{}return c&&(n=c[1].trim()),u&&(i=u[1].trim()),{scheme:t,host:r,port:e,username:n,password:i,database:o}}}return{}}var Gn=class{constructor(r,e,n,i,o,a,s,c,u){this.id=r;this.name=e;this.scheme=n;this.host=i;this.port=o;this.username=a;this.password=s;this.database=c;this.active=u}async getTreeItem(){let e=(await this.getDriver()).session(),n="database",i="",o=this.database?`/${this.database}`:"";if(Vf(this.host))n="database-aura",i=" (aura)";else if(this.error)n="alert";else{try{let s=await e.executeRead(u=>u.run("CALL dbms.components"));i=` (${s.records[0].get("edition")})`,s.records[0].get("versions")[0].includes("aura")&&(n="database-aura")}catch(s){this.error=s}await e.close()}let a=this.active?"*":"";return{id:this.id,label:`${this.name||this.id}${o}${i}${a}`,collapsibleState:fP.TreeItemCollapsibleState.None,contextValue:"connection",iconPath:Wf(n),command:{title:"Set as Active Connection",command:"neo4j.setActiveConnection",tooltip:`Set ${this.id} as the Active Connection`,arguments:[this]}}}async getDriver(){return this.driver||(this.driver=lo(this)),this.driver}async getChildren(){return this.error?[new Kt(this.error.message,"error","alert")]:[]}getDatabases(r){return r.run("SHOW DATABASES").then(e=>e.records.map(n=>new ho(n.get("name"),n.get("address"),n.get("role"),n.get("requestedStatus"),n.get("currentStatus"),n.get("error"),n.get("default")))).catch(e=>(this.error=e,[]))}getUsers(r){return r.run("SHOW USERS").then(e=>{let n=e.records.map(i=>new vo(i.get("user"),i.get("roles"),i.get("passwordChangeRequired"),i.get("suspended")));return new Kt("Users","users","users",n)})}getRoles(r){return r.run("SHOW ALL ROLES WITH USERS").then(e=>{let n=e.records.map(o=>({role:o.get("role"),member:o.get("member")})).reduce((o,a)=>(o[a.role]||(o[a.role]=new po(a.role)),a.member&&o[a.role].addMember(a.member),o),{}),i=Object.values(n);return new Kt("Roles","roles","roles",i)})}};var dP=lr(require("vscode")),zf=class{static append(r){zf.channel.appendLine(r)}static show(){zf.channel.show(!0)}},ye=zf;ye.channel=dP.window.createOutputChannel("Neo4j");var um=require("vscode");var hP="(null)";async function Ma(t,r){let e=await um.window.showInputBox({prompt:`Set value for $${r}`,value:hP,ignoreFocusOut:!0});if(e===void 0)return;if(e===hP){await t.set(r,e,Ra);return}let n=await um.window.showQuickPick(Bf,{placeHolder:"What type is this data?"});await t.set(r,e.trim(),n)}var Yf=require("vscode");function vP(t,r){return sm(t,r,`
    <p>Running query, please wait...</p>
  `)}function pP(t,r,e){return sm(t,r,`
    <details class="error">
      <summary style="color:red">Error: ${e.message}</summary>
      <pre>${e.stack}</pre>
    </details>
  `)}function _P(t,r,e){return sm(t,r,`
    ${b$(e)}

    <div class="summary">${lP(e).map(n=>`<p>${n}</p>`).join(`
`)}</div>
  `)}function sm(t,r,e){return`
    <html>
      <head>
      <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
      <style>
      :root {
        --background: #f2f2f2;
        --border: #ccc;
        --text: #000;
        --error: #ff0000;
      }

      @media (prefers-color-scheme: dark) {
        --background: transparent;
        --border: #ddd;
        --text: #ccc;
        --error: #bbb;
      }

      table{border-collapse:collapse; width: 100%}
      table,td,th{border:1px solid var(--border); padding:5px; vertical-align: top}
      th {font-weight: bold}
      details {margin-bottom: 24px; padding: 12px; border: 1px solid var(--border)}
      details summary {border-bottom: 1px solid var(--border); padding: 6px}
      pre {
        max-height: 280px;
        overflow: auto;
      }

      .error {
        color: var(--border);
        border-color: var(--border);
      }
      </style>
      </head>
      <body>
        <details>
          <summary>Query Details</summary>
          <pre>${t}</pre>
          <pre>${JSON.stringify(r,null,2)}</pre>
        </details>
        ${e}
      </body>
      </html>
    `}function b$(t){return t.records.length===0?"<p>No records returned</p>":`
    <table>
      <thead>
      ${t.records[0].keys.map(r=>`<th>${r.toString()}</th>`).join("")}
      </thead>
      <tbody>
        ${t.records.map(r=>y$(r.keys,am(r.toObject()))).join(`
`)}
      </tbody>
    </table>
  `}function y$(t,r){return`
    <tr>
      ${t.map(e=>`
            <td>
              <pre>${JSON.stringify(r[e],null,2)}</pre>
            </td>
            `).join("")}
    </tr>
  `}var Na=class{constructor(r,e,n,i,o){this.context=r;this.parameters=e;this.connection=n;this.cypher=i;this.panel=Yf.window.createWebviewPanel("neo4j.result",i,Yf.ViewColumn.Two,{retainContextWhenHidden:!0}),this.run(o)}async run(r){let e=lo(this.connection),n=await this.parameters.asParameters();ye.append("--"),ye.append(`${r} on database ${this.connection.database||"neo4j"}`),ye.append(this.cypher),ye.append(JSON.stringify(n,null,2));let i={};this.connection.database&&this.connection.database!==null&&(i.database=this.connection.database);let o=e.session(i);try{this.panel.webview.html=vP(this.cypher,n);let a=await o[r](s=>s.run(this.cypher,n));this.panel.webview.html=_P(this.cypher,n,a)}catch(a){ye.append("Error Running Query"),ye.append(a.message),ye.show(),this.panel.webview.html=pP(this.cypher,n,a)}finally{await e.close()}}};var ka=class{constructor(r,e,n){this.context=r;this.connections=e;this.parameters=n;this.results=new Map}async run(r,e,n){let i=e.split(`;
`);for(let o of i)o&&o!==""&&await this.runSingle(r,o.trim(),n)}async runSingle(r,e,n){let i=lo(r);try{let o=e.match(/\$([a-z0-9_]+)/gi);if(o)for(let c of o)this.parameters.has(c.substring(1))||await Ma(this.parameters,c.substring(1));let a=Buffer.from(e).toString("base64");if(this.results.has(a))return this.results.get(a).run(n);let s=new Na(this.context,this.parameters,r,e,n);return this.results.set(a,s),s.panel.onDidDispose(()=>this.results.delete(a)),s.run(n)}catch(o){ye.append("Error Running Query"),ye.append(o.message),ye.show()}finally{await i.close()}}};var cm=require("vscode");async function Gf(t,r,e){let n=cm.window.activeTextEditor;if(n){let i=await t.getActive();if(!i){cm.window.showErrorMessage("No active connection");return}let o=n.selections.filter(a=>!a.isEmpty&&n.document.getText(a));if(o.length===0){let a=n.document.getText();await r.run(i,a,e);return}await Promise.all(o.map(async a=>{let s=n.document.getText(a);await r.run(i,s,e)}))}}var Da=require("vscode");async function lm(t){let r=await Hf();if(r.scheme&&r.host&&r.port&&r.username&&r.password){await t.add({...r,active:!1});return}let e=await Da.window.showInputBox({prompt:"Copy and paste your Connection URI from the Aura Console",placeHolder:"eg. neo4j+s://[dbid].databases.neo4j.io",ignoreFocusOut:!0});if(e)try{let n=Aa(e);if(!n)return;let i=await Da.window.showInputBox({prompt:"Username?",placeHolder:"eg. neo4j",ignoreFocusOut:!0,value:n?.username||"neo4j"});if(!i)return;let o=await Da.window.showInputBox({prompt:"Password?",placeHolder:"********",password:!0,ignoreFocusOut:!0,value:n?.password});if(!o)return;await t.add({...n,username:i,password:o})}catch(n){Da.window.showInformationMessage(`Unable to parse ${e}.
 ${n.getMessage()}`)}}var Kn=require("vscode");async function fm(t){let r=await Hf();if(r.scheme&&r.host&&r.port&&r.username&&r.password){await t.add({...r,active:!1});return}let e=await Kn.window.showQuickPick(aP,{placeHolder:"Which scheme would you like to connect with?"});if(!e)return;let n=await Kn.window.showInputBox({prompt:"Host?",placeHolder:"eg. localhost",value:r.host,ignoreFocusOut:!0});if(!n)return;let i=await Kn.window.showInputBox({prompt:"Port?",placeHolder:"eg. 7687",value:r.port,ignoreFocusOut:!0})||"7687",o=await Kn.window.showInputBox({prompt:"Username?",placeHolder:"eg. neo4j",value:r.username,ignoreFocusOut:!0})||"neo4j";if(!o)return;let a=await Kn.window.showInputBox({prompt:"Password?",password:!0,value:r.password,placeHolder:"********",ignoreFocusOut:!0});if(!a)return;let s=await Kn.window.showInputBox({prompt:"Default Database?",placeHolder:"Optional",value:r.database||void 0,ignoreFocusOut:!0});await t.add({scheme:e,host:n,port:i,username:o,password:a,database:s,active:!1})}var mP=require("vscode");async function dm(t){let r=await mP.window.showInputBox({prompt:"Add neo4j://localhost:7687 with user neo4j?",placeHolder:"Password",ignoreFocusOut:!0});r&&await t.add({...Aa("neo4j://neo4j:neo@localhost:7687"),password:r})}var yP=require("vscode");var bP=require("vscode");async function Kf(t){return await bP.window.showQuickPick([co,"No"],{placeHolder:t})===co}async function hm(t){await Kf("Are you sure you would like to clear all connections?")&&(await t.clear(),yP.window.showInformationMessage("Databases cleared"))}var fo=require("vscode");async function vm(t,r){let e=t.getState();if(r===void 0){let n=await fo.window.showQuickPick(Object.keys(e),{placeHolder:"Choose active connection?"});if(n===void 0)return;r=e[n]}if(r){let n=r.scheme.endsWith("+s")||r.scheme.endsWith("+ssc"),i=Vf(r.host)?"":":7474";fo.env.openExternal(fo.Uri.parse(`http${n?"s":""}://${r.host}${i}`))}}var gP=require("vscode");async function pm(t){let r=await gP.window.showQuickPick(Object.keys(t.getState()),{placeHolder:"Which database would you like to remove?"});r&&await t.remove(r)}var OP=require("vscode");async function _m(t,r){if(r!==void 0){await t.setActive(r);return}let e=await OP.window.showQuickPick(Object.keys(t.getState()),{placeHolder:"Choose active connection?"});e&&await t.setActive(e)}function EP(t,r,e){t.subscriptions.push(He.window.registerTreeDataProvider("neo4j.connections",r.getTreeProvider())),t.subscriptions.push(He.commands.registerCommand("neo4j.removeConnection",()=>pm(r))),t.subscriptions.push(He.commands.registerCommand("neo4j.addLocalhost",async()=>dm(r))),t.subscriptions.push(He.commands.registerCommand("neo4j.refresh",async()=>r.getTreeProvider().refresh())),t.subscriptions.push(He.commands.registerCommand("neo4j.addConnection",()=>fm(r))),t.subscriptions.push(He.commands.registerCommand("neo4j.addAuraConnection",()=>lm(r))),t.subscriptions.push(He.commands.registerCommand("neo4j.clearConnections",()=>hm(r))),t.subscriptions.push(He.commands.registerCommand("neo4j.setActiveConnection",i=>{i instanceof Gn&&(i=i.id),_m(r,i)})),t.subscriptions.push(He.commands.registerCommand("neo4j.openNeo4jBrowser",i=>vm(r,i)));let n=new ka(t,r,e);t.subscriptions.push(He.commands.registerCommand("neo4j.runReadCypher",()=>Gf(r,n,uP))),t.subscriptions.push(He.commands.registerCommand("neo4j.runWriteCypher",()=>Gf(r,n,sP)))}var $n=require("vscode");var Zn=class{constructor(r){this.parameter=r}getKey(){return this.parameter.key}getTreeItem(){return{id:this.parameter.key,label:`${this.parameter.key} (${this.parameter.type})`,contextValue:"parameter",iconPath:Wf("parameter"),command:{title:"Set Parameter Value",command:"neo4j.setParameterValue",arguments:[this.parameter.key],tooltip:"Set the value for this parameter"}}}getChildren(){return[]}};var mm=require("vscode");async function bm(t){await mm.window.showQuickPick([co,"No"],{placeHolder:"Are you sure you would like to clear all parameters?"})===co&&(await t.clear(),mm.window.showInformationMessage("Parameters cleared"))}var wP=require("vscode");async function ym(t,r){if(r!==void 0){await Kf(`Are you sure you want to remove \`${r.getKey()}\`?`)&&await t.remove(r.getKey());return}let e=await t.keys(),n=await wP.window.showQuickPick(e,{placeHolder:"Which parameter would you like to remove?"});n&&await t.remove(n)}var gm=require("vscode");async function Om(t){let r=await gm.window.showInputBox({prompt:"Parameter string",placeHolder:"eg. key: string, integer => 1234 or map => {a: 1}",ignoreFocusOut:!0});if(!r)return;let e=r.match(/^([a-z0-9\s]+)=>(.*)$/i);if(e){let[i,o,a]=e,s=await gm.window.showQuickPick(Bf,{placeHolder:"What type is this data?"});await t.set(o,a.trim(),s);return}let n=r.match(/^([a-z0-9\s]+):(.*)$/i);if(n){let[i,o,a]=n;await t.set(o.trim(),a.trim())}}function SP(t,r){t.subscriptions.push($n.window.registerTreeDataProvider("neo4j.parameters",r.getTreeProvider())),t.subscriptions.push($n.commands.registerCommand("neo4j.setParameter",()=>Om(r))),t.subscriptions.push($n.commands.registerCommand("neo4j.removeParameter",e=>ym(r,e))),t.subscriptions.push($n.commands.registerCommand("neo4j.setParameterValue",e=>{e instanceof Zn&&(e=e.getKey()),Ma(r,e)})),t.subscriptions.push($n.commands.registerCommand("neo4j.clearParameters",()=>bm(r)))}var $f=lr(require("vscode"));var Zf=require("vscode"),Vt;function Em(t,r){Vt=Zf.window.createStatusBarItem(Zf.StatusBarAlignment.Left,1),wm(r),t.subscriptions.push(Vt),Vt.show()}async function wm(t){if(!Vt)return;if(!t.hasConnections()){Vt.text="Add Neo4j Connection",Vt.command="neo4j.addConnection";return}let r=await t.getActive();Vt.command="neo4j.setActiveConnection",Vt.text=r?`$(database) ${r.scheme}://${r.username}@${r.host}:${r.port}${r.database?`/${r.database}`:""}`:"$(database) No Active Neo4j Connection"}var PP=lr(require("vscode")),Qn=class{constructor(r){this.context=r;this._onDidChangeTreeData=new PP.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}getTreeItem(r){return r.getTreeItem()}refresh(r){this._onDidChangeTreeData.fire(r)}};var La=class extends Qn{constructor(e,n){super(e);this.connections=n}getChildren(e){return e?e.getChildren():this.getConnectionNodes()}getConnectionNodes(){let e=this.connections.getState();return Promise.resolve(Object.entries(e).map(([n,i])=>new Gn(n,i.host,i.scheme,i.host,i.port,i.username,i.password,i.database,i.active)))}};var Ua=class{constructor(r){this.context=r;this.tree=new La(r,this)}getTreeProvider(){return this.tree}getState(){return this.context.globalState.get(X_)||{}}hasConnections(){let r=this.getState();return Object.keys(r).length>0}async updateState(r){await this.context.globalState.update(X_,r),this.tree.refresh(),wm(this)}async add(r){let e=this.getState(),n=`${r.scheme}://${r.username}@${r.host}:${r.port}`;r.database&&(n+=`?database=${r.database}`),r.active=Object.keys(e).length===0,e[n]=r,await this.updateState(e),$f.window.showInformationMessage(`Connection added to ${n}.`)}async get(r){return this.getState()[r]}async remove(r){let e=this.getState();e.hasOwnProperty(r)&&(delete e[r],await this.updateState(e),$f.window.showInformationMessage(`Removed connection to ${r}.`))}async setActive(r){let e=this.getState();if(e.hasOwnProperty(r)){for(let n in e)e[n].active=!1;e[r].active=!0,await this.updateState(e),$f.window.showInformationMessage(`Active connection set to ${r}.`)}}async getActive(){let r=this.getState();for(let e in r)if(r[e].active)return r[e]}async clear(){await this.updateState({})}};var TP=lr($_()),Sm=lr(require("vscode"));var xa=class extends Qn{constructor(e,n){super(e);this.parameters=n}getChildren(e){return e?e.getChildren():this.getConnectionNodes()}getConnectionNodes(){let e=this.parameters.getState();return Promise.resolve(Object.values(e).map(n=>new Zn(n)))}};function g$(t){switch(t.type){case Ra:return[t.key,null];case rm:return[t.key,(0,TP.int)(t.value)];case tm:return[t.key,parseFloat(t.value)];case nm:return[t.key,JSON.parse(t.value)];default:return[t.key,t.value]}}var Fa=class{constructor(r){this.context=r;this.tree=new xa(r,this)}getTreeProvider(){return this.tree}getState(){return this.context.globalState.get(J_)||{}}has(r){return this.getState().hasOwnProperty(r)}clear(){return this.updateState({})}async updateState(r){await this.context.globalState.update(J_,r),this.tree.refresh()}async asParameters(){let r=this.getState();return Object.fromEntries(Object.values(r).map(e=>g$(e)))}async keys(){let r=this.getState();return Object.keys(r)}async set(r,e,n=em){let i=this.getState();i[r.trim()]={key:r.trim(),value:e,type:n},await this.updateState(i),Sm.window.showInformationMessage(`Parameter \`${r}\` set.`)}async remove(r){let e=this.getState();delete e[r],await this.updateState(e),Sm.window.showInformationMessage(`Parameter \`${r}\` removed.`)}};function Pm(t,r){Em(t,r)}function O$(t){let r=new Ua(t),e=new Fa(t);EP(t,r,e),SP(t,e),Pm(t,r)}function E$(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/
